[33m80e3012d[m[33m ([m[1;36mHEAD[m[33m -> [m[1;32mmaster[m[33m, [m[1;31morigin/master[m[33m, [m[1;31morigin/HEAD[m[33m)[m Fix strategy parsing and sanitize strategy objects - Extract only essential fields from strategy to prevent 4.3MB objects - Handle double-encoded JSON strings - Sanitize strategy_config to only essential 7 fields - Fix buildMinimalPrompt to ensure valid prompt is returned - Add logging to debug minimal prompt generation
[33md894f784[m Add comprehensive input size logging before building prompt - Log strategy, advanced, and trades sizes separately - Warn if any input over 50KB - Log final prompt size after building - This will help identify what's causing 4.3MB prompts
[33m528f0814[m Add input size checks and remove indicators from trades - Check input sizes before building prompt - Remove indicators from trade data (can be huge nested objects) - Lower threshold to 50KB to trigger minimal format sooner - Add detailed logging for debugging 4.3MB prompts
[33md50ef47f[m Add buildMinimalPrompt method and input size logging - Add missing buildMinimalPrompt for ultra-compact format - Add input size checks and logging before building prompt - Log final prompt size for debugging - This will help identify what's causing 4.3MB prompts
[33m65c04fb2[m Add pre-check for input size and minimal prompt fallback - Check strategy size before building prompt - Use minimal format immediately if input over 100KB - Add buildMinimalPrompt method for ultra-compact format - Reject requests over 150KB to prevent 429 errors
[33m351941ae[m Fix prompt size calculation and add pre-check - Build compact string directly instead of JSON.stringify - Add size check before API call - Use minimal fallback prompt if over 200KB - Should prevent 4.3MB prompts from being sent
[33m81837615[m Ultra-minimize OpenAI prompt to prevent 429 errors - Use compact numeric summaries instead of full JSON objects - Reduce to 3 trades max - Remove all unnecessary text - Create fallback minimal prompt for oversized requests - Should reduce from 4.3MB to under 10KB
[33m551ad502[m Extract only essential advanced config fields to reduce prompt size - Send only 7 key fields instead of full 40+ field config - Add aggressive truncation for oversized prompts - This should bring prompt down from 1.1M to under 100K tokens
[33mab5f7f71[m Drastically reduce OpenAI prompt size to prevent 429 errors - Reduce to 5 trades max (from 8) - Compact JSON format (no pretty printing) - Minimize prompt text - Add prompt truncation for oversized requests - Reduce max_tokens to 1000
[33m7e446e10[m Update trade limit to 8 in autoOptimizer.ts for consistency
