{"version":3,"file":"page-33ca8113.js","sources":["../../src/pages/pablo-ready/page.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { supabase } from '../../lib/supabase';\r\nimport Header from '../../components/feature/Header';\r\nimport Navigation from '../../components/feature/Navigation';\r\nimport Card from '../../components/base/Card';\r\nimport Button from '../../components/base/Button';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport { useBots } from '../../hooks/useBots';\r\n\r\ninterface PabloReadyBot {\r\n  id: string;\r\n  name: string;\r\n  description: string | null;\r\n  exchange: string;\r\n  symbol: string;\r\n  trading_type: string;\r\n  leverage: number;\r\n  risk_level: string;\r\n  strategy: any;\r\n  strategy_config: any;\r\n  trade_amount: number;\r\n  stop_loss: number;\r\n  take_profit: number;\r\n  timeframe: string;\r\n  enabled: boolean;\r\n  featured: boolean;\r\n  order_index: number;\r\n}\r\n\r\nexport default function PabloReadyPage() {\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const { createBot, startBot } = useBots();\r\n  const [bots, setBots] = useState<PabloReadyBot[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [startingBot, setStartingBot] = useState<string | null>(null);\r\n  const [botConfigs, setBotConfigs] = useState<Record<string, {\r\n    paperTrading: boolean;\r\n    tradeAmount: number;\r\n    customPair?: string;\r\n  }>>({});\r\n  const [botPerformance, setBotPerformance] = useState<Record<string, {\r\n    pnl: number;\r\n    pnlPercentage: number;\r\n    totalTrades: number;\r\n    winRate: number;\r\n    wins: number;\r\n    losses: number;\r\n  }>>({});\r\n  const [botLogs, setBotLogs] = useState<Record<string, any[]>>({});\r\n  const [expandedLogs, setExpandedLogs] = useState<Record<string, boolean>>({});\r\n  const [loadingLogs, setLoadingLogs] = useState<Record<string, boolean>>({});\r\n\r\n  useEffect(() => {\r\n    fetchBots();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Initialize bot configs with defaults\r\n    if (bots.length > 0) {\r\n      const configs: Record<string, { paperTrading: boolean; tradeAmount: number; customPair?: string }> = {};\r\n      bots.forEach(bot => {\r\n        if (!botConfigs[bot.id]) {\r\n          configs[bot.id] = {\r\n            paperTrading: false,\r\n            tradeAmount: bot.trade_amount || 100,\r\n            customPair: bot.symbol === 'CUSTOM' ? '' : undefined\r\n          };\r\n        }\r\n      });\r\n      if (Object.keys(configs).length > 0) {\r\n        setBotConfigs(prev => ({ ...prev, ...configs }));\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [bots]);\r\n\r\n  const fetchBots = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const { data, error: fetchError } = await supabase\r\n        .from('pablo_ready_bots')\r\n        .select('*')\r\n        .eq('enabled', true)\r\n        .order('order_index', { ascending: true })\r\n        .order('created_at', { ascending: false });\r\n\r\n      if (fetchError) throw fetchError;\r\n\r\n      setBots(data || []);\r\n    } catch (err: any) {\r\n      console.error('Error fetching Pablo Ready bots:', err);\r\n      setError(err?.message || 'Failed to load bots');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleQuickStart = async (bot: PabloReadyBot) => {\r\n    if (!user) {\r\n      navigate('/auth');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setStartingBot(bot.id);\r\n      const config = botConfigs[bot.id] || { paperTrading: false, tradeAmount: bot.trade_amount || 100 };\r\n\r\n      // Check if bot allows custom pair and validate input\r\n      const allowsCustomPair = bot.strategy?.allows_custom_pair === true || bot.symbol === 'CUSTOM';\r\n      const symbolToUse = allowsCustomPair \r\n        ? (config.customPair?.trim().toUpperCase() || bot.symbol)\r\n        : bot.symbol;\r\n\r\n      // Validate custom pair if provided\r\n      if (allowsCustomPair && !config.customPair?.trim()) {\r\n        alert('❌ Please enter a trading pair (e.g., BTCUSDT, ETHUSDT)');\r\n        setStartingBot(null);\r\n        return;\r\n      }\r\n\r\n      if (allowsCustomPair && config.customPair) {\r\n        // Validate pair format\r\n        const pairRegex = /^[A-Z0-9]{2,20}USDT$/;\r\n        if (!pairRegex.test(config.customPair.trim().toUpperCase())) {\r\n          alert('❌ Invalid pair format. Please use format like BTCUSDT, ETHUSDT, SOLUSDT');\r\n          setStartingBot(null);\r\n          return;\r\n        }\r\n      }\r\n\r\n      // Create bot with Pablo Ready template\r\n      const botData = {\r\n        name: `${bot.name} - ${symbolToUse}`,\r\n        exchange: bot.exchange as 'bybit' | 'okx',\r\n        symbol: symbolToUse,\r\n        tradingType: bot.trading_type as 'spot' | 'futures',\r\n        leverage: bot.leverage,\r\n        riskLevel: bot.risk_level as 'low' | 'medium' | 'high',\r\n        tradeAmount: config.tradeAmount,\r\n        stopLoss: bot.stop_loss,\r\n        takeProfit: bot.take_profit,\r\n        timeframe: bot.timeframe,\r\n        strategy: bot.strategy,\r\n        strategyConfig: bot.strategy_config,\r\n        paperTrading: config.paperTrading,\r\n        status: 'running' as const, // Start bot immediately as running\r\n        pnl: 0,\r\n        pnlPercentage: 0,\r\n        totalTrades: 0,\r\n        winRate: 0\r\n      };\r\n\r\n      const createdBot = await createBot(botData);\r\n      \r\n      // Bot is already set to 'running' status, but ensure it's started\r\n      if (createdBot) {\r\n        // If status wasn't set to running, start it explicitly\r\n        if (createdBot.status !== 'running') {\r\n          await startBot(createdBot.id);\r\n        }\r\n        alert(`✅ Bot \"${createdBot.name}\" created and started successfully!`);\r\n        navigate('/bots');\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error starting bot:', error);\r\n      alert(`❌ Failed to start bot: ${error?.message || error}`);\r\n    } finally {\r\n      setStartingBot(null);\r\n    }\r\n  };\r\n\r\n  const updateBotConfig = (botId: string, field: 'paperTrading' | 'tradeAmount' | 'customPair', value: boolean | number | string) => {\r\n    setBotConfigs(prev => ({\r\n      ...prev,\r\n      [botId]: {\r\n        ...prev[botId],\r\n        [field]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  // Fetch performance and logs for existing bots\r\n  useEffect(() => {\r\n    if (user && bots.length > 0) {\r\n      const fetchAllData = async () => {\r\n        try {\r\n          const { data: userBots } = await supabase\r\n            .from('trading_bots')\r\n            .select('id, pnl, pnl_percentage, total_trades, win_rate, symbol, name')\r\n            .eq('user_id', user.id)\r\n            .order('created_at', { ascending: false });\r\n\r\n          if (userBots) {\r\n            const performance: Record<string, {\r\n              pnl: number;\r\n              pnlPercentage: number;\r\n              totalTrades: number;\r\n              winRate: number;\r\n              wins: number;\r\n              losses: number;\r\n            }> = {};\r\n\r\n            const logsMap: Record<string, any[]> = {};\r\n\r\n            bots.forEach(pabloBot => {\r\n              // Find matching bot by symbol and name pattern\r\n              const matchingBot = userBots.find(ub => \r\n                ub.symbol === pabloBot.symbol && \r\n                (ub.name.includes(pabloBot.name) || ub.name.includes(pabloBot.symbol))\r\n              );\r\n              \r\n              if (matchingBot) {\r\n                const winRate = matchingBot.win_rate || 0;\r\n                const totalTrades = matchingBot.total_trades || 0;\r\n                const wins = Math.round(totalTrades * (winRate / 100));\r\n                const losses = totalTrades - wins;\r\n\r\n                performance[pabloBot.id] = {\r\n                  pnl: matchingBot.pnl || 0,\r\n                  pnlPercentage: matchingBot.pnl_percentage || 0,\r\n                  totalTrades,\r\n                  winRate,\r\n                  wins,\r\n                  losses\r\n                };\r\n\r\n                // Fetch logs for this bot\r\n                fetchBotLogs(pabloBot.id, matchingBot.id);\r\n              }\r\n            });\r\n\r\n            setBotPerformance(prev => ({ ...prev, ...performance }));\r\n          }\r\n        } catch (error) {\r\n          console.error('Error fetching bot data:', error);\r\n        }\r\n      };\r\n\r\n      fetchAllData();\r\n      \r\n      // Refresh logs every 10 seconds\r\n      const interval = setInterval(async () => {\r\n        if (user && bots.length > 0) {\r\n          try {\r\n            const { data: userBots } = await supabase\r\n              .from('trading_bots')\r\n              .select('id, symbol, name')\r\n              .eq('user_id', user.id);\r\n\r\n            if (userBots) {\r\n              bots.forEach(pabloBot => {\r\n                const matchingBot = userBots.find(ub => \r\n                  ub.symbol === pabloBot.symbol && \r\n                  (ub.name.includes(pabloBot.name) || ub.name.includes(pabloBot.symbol))\r\n                );\r\n                if (matchingBot) {\r\n                  fetchBotLogs(pabloBot.id, matchingBot.id);\r\n                }\r\n              });\r\n            }\r\n          } catch (error) {\r\n            console.error('Error refreshing logs:', error);\r\n          }\r\n        }\r\n      }, 10000);\r\n\r\n      return () => clearInterval(interval);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [user, bots]);\r\n\r\n  const fetchBotLogs = async (pabloBotId: string, userBotId: string) => {\r\n    if (loadingLogs[pabloBotId]) return;\r\n    \r\n    try {\r\n      setLoadingLogs(prev => ({ ...prev, [pabloBotId]: true }));\r\n      \r\n      const { data: logs, error } = await supabase\r\n        .from('bot_activity_logs')\r\n        .select('*')\r\n        .eq('bot_id', userBotId)\r\n        .order('timestamp', { ascending: false })\r\n        .limit(20);\r\n\r\n      if (error) throw error;\r\n\r\n      setBotLogs(prev => ({\r\n        ...prev,\r\n        [pabloBotId]: logs || []\r\n      }));\r\n    } catch (error) {\r\n      console.error('Error fetching bot logs:', error);\r\n    } finally {\r\n      setLoadingLogs(prev => ({ ...prev, [pabloBotId]: false }));\r\n    }\r\n  };\r\n\r\n  const toggleLogs = (botId: string) => {\r\n    setExpandedLogs(prev => ({\r\n      ...prev,\r\n      [botId]: !prev[botId]\r\n    }));\r\n\r\n    // Fetch logs when expanding if not already loaded\r\n    if (!expandedLogs[botId] && !botLogs[botId]) {\r\n      // Find matching user bot\r\n      supabase\r\n        .from('trading_bots')\r\n        .select('id, symbol, name')\r\n        .eq('user_id', user?.id)\r\n        .then(({ data }) => {\r\n          if (data) {\r\n            const pabloBot = bots.find(b => b.id === botId);\r\n            if (pabloBot) {\r\n              const matchingBot = data.find(ub => \r\n                ub.symbol === pabloBot.symbol && \r\n                (ub.name.includes(pabloBot.name) || ub.name.includes(pabloBot.symbol))\r\n              );\r\n              if (matchingBot) {\r\n                fetchBotLogs(botId, matchingBot.id);\r\n              }\r\n            }\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  const formatLogTime = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffMs = now.getTime() - date.getTime();\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    \r\n    if (diffMins < 1) return 'Just now';\r\n    if (diffMins < 60) return `${diffMins}m ago`;\r\n    const diffHours = Math.floor(diffMins / 60);\r\n    if (diffHours < 24) return `${diffHours}h ago`;\r\n    return date.toLocaleDateString();\r\n  };\r\n\r\n  const getLogLevelColor = (level: string) => {\r\n    switch (level?.toLowerCase()) {\r\n      case 'error': return 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-200';\r\n      case 'warning': return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-200';\r\n      case 'success': return 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200';\r\n      case 'info': return 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-200';\r\n      default: return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n        <Header title=\"Pablo Ready\" />\r\n        <div className=\"pt-24 pb-20 px-4\">\r\n          <Card className=\"p-6 text-center\">\r\n            <p className=\"text-gray-600 dark:text-gray-300\">Loading Pablo Ready bots...</p>\r\n          </Card>\r\n        </div>\r\n        <Navigation />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n        <Header title=\"Pablo Ready\" />\r\n        <div className=\"pt-24 pb-20 px-4\">\r\n          <Card className=\"p-6 border border-red-200 bg-red-50 dark:border-red-900/40 dark:bg-red-900/20\">\r\n            <p className=\"text-red-700 dark:text-red-200\">{error}</p>\r\n            <Button className=\"mt-4\" onClick={fetchBots} size=\"sm\">\r\n              Retry\r\n            </Button>\r\n          </Card>\r\n        </div>\r\n        <Navigation />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24\">\r\n      <Header\r\n        title=\"Pablo Ready\"\r\n        subtitle=\"Pre-configured trading bots ready to deploy. Choose a bot and start trading instantly.\"\r\n        rightAction={\r\n          <Button variant=\"secondary\" size=\"sm\" onClick={() => navigate('/bots')}>\r\n            My Bots\r\n          </Button>\r\n        }\r\n      />\r\n\r\n      <main className=\"px-4 pt-24 pb-16\">\r\n        <div className=\"mx-auto max-w-6xl space-y-6\">\r\n          {bots.length === 0 ? (\r\n            <Card className=\"p-10 text-center\">\r\n              <div className=\"text-gray-400 dark:text-gray-500 mb-4\">\r\n                <i className=\"ri-robot-line text-5xl\"></i>\r\n              </div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n                No Pablo Ready bots available\r\n              </h3>\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                Check back soon for new pre-configured bots.\r\n              </p>\r\n            </Card>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n              {bots.map((bot) => (\r\n                <Card\r\n                  key={bot.id}\r\n                  className=\"group overflow-hidden border border-gray-200/70 bg-white/90 shadow-sm transition hover:-translate-y-1 hover:border-blue-300 hover:shadow-lg dark:border-gray-700 dark:bg-gray-900/90\"\r\n                >\r\n                  <div className=\"p-6 space-y-4\">\r\n                    {/* Header */}\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center gap-2 mb-2\">\r\n                          <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\r\n                            {bot.name}\r\n                          </h3>\r\n                          {bot.featured && (\r\n                            <span className=\"inline-flex items-center rounded-full bg-yellow-100 px-2 py-0.5 text-xs font-semibold text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-200\">\r\n                              <i className=\"ri-star-fill mr-1\"></i>\r\n                              Featured\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        {bot.description && (\r\n                          <p className=\"text-sm text-gray-500 dark:text-gray-300 mt-1\">\r\n                            {bot.description}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Bot Details */}\r\n                    <div className=\"space-y-3 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                      <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                        <div>\r\n                          <span className=\"text-gray-500 dark:text-gray-400 block text-xs mb-1\">Exchange</span>\r\n                          <span className=\"font-medium text-gray-900 dark:text-white capitalize\">\r\n                            {bot.exchange}\r\n                          </span>\r\n                        </div>\r\n                        <div>\r\n                          <span className=\"text-gray-500 dark:text-gray-400 block text-xs mb-1\">Symbol</span>\r\n                          <span className=\"font-medium text-gray-900 dark:text-white\">\r\n                            {bot.symbol === 'CUSTOM' ? 'Custom (User Input)' : bot.symbol}\r\n                          </span>\r\n                        </div>\r\n                        <div>\r\n                          <span className=\"text-gray-500 dark:text-gray-400 block text-xs mb-1\">Type</span>\r\n                          <span className=\"font-medium text-gray-900 dark:text-white capitalize\">\r\n                            {bot.trading_type}\r\n                          </span>\r\n                        </div>\r\n                        <div>\r\n                          <span className=\"text-gray-500 dark:text-gray-400 block text-xs mb-1\">Leverage</span>\r\n                          <span className=\"font-medium text-gray-900 dark:text-white\">\r\n                            {bot.leverage}x\r\n                          </span>\r\n                        </div>\r\n                        <div>\r\n                          <span className=\"text-gray-500 dark:text-gray-400 block text-xs mb-1\">Risk Level</span>\r\n                          <span className={`font-medium capitalize ${\r\n                            bot.risk_level === 'low' ? 'text-green-600 dark:text-green-400' :\r\n                            bot.risk_level === 'medium' ? 'text-yellow-600 dark:text-yellow-400' :\r\n                            'text-red-600 dark:text-red-400'\r\n                          }`}>\r\n                            {bot.risk_level}\r\n                          </span>\r\n                        </div>\r\n                        <div>\r\n                          <span className=\"text-gray-500 dark:text-gray-400 block text-xs mb-1\">Timeframe</span>\r\n                          <span className=\"font-medium text-gray-900 dark:text-white\">\r\n                            {bot.timeframe}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Strategy Features */}\r\n                      {bot.strategy_config && (\r\n                        <div className=\"pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                          <div className=\"flex flex-wrap gap-2\">\r\n                            {bot.strategy_config.enable_tp === true && (\r\n                              <span className=\"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-200\">\r\n                                <i className=\"ri-target-line mr-1\"></i>\r\n                                Multi TP\r\n                              </span>\r\n                            )}\r\n                            {bot.strategy_config.enable_trail_sl === true && (\r\n                              <span className=\"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-200\">\r\n                                <i className=\"ri-line-chart-line mr-1\"></i>\r\n                                Trailing SL\r\n                              </span>\r\n                            )}\r\n                            {bot.strategy_config.volume_multiplier && (\r\n                              <span className=\"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200\">\r\n                                <i className=\"ri-bar-chart-line mr-1\"></i>\r\n                                Volume Filter\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* Quick Start Configuration */}\r\n                    {user && (\r\n                      <div className=\"pt-4 border-t border-gray-200 dark:border-gray-700 space-y-3\">\r\n                        {/* Paper/Real Toggle */}\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                            Trading Mode\r\n                          </label>\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <button\r\n                              onClick={() => updateBotConfig(bot.id, 'paperTrading', false)}\r\n                              className={`px-3 py-1 rounded text-xs font-medium transition ${\r\n                                !botConfigs[bot.id]?.paperTrading\r\n                                  ? 'bg-blue-600 text-white'\r\n                                  : 'bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300'\r\n                              }`}\r\n                            >\r\n                              Real\r\n                            </button>\r\n                            <button\r\n                              onClick={() => updateBotConfig(bot.id, 'paperTrading', true)}\r\n                              className={`px-3 py-1 rounded text-xs font-medium transition ${\r\n                                botConfigs[bot.id]?.paperTrading\r\n                                  ? 'bg-blue-600 text-white'\r\n                                  : 'bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300'\r\n                              }`}\r\n                            >\r\n                              Paper\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Custom Pair Input (if bot allows it) */}\r\n                        {(bot.strategy?.allows_custom_pair === true || bot.symbol === 'CUSTOM') && (\r\n                          <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                              Trading Pair <span className=\"text-red-500\">*</span>\r\n                            </label>\r\n                            <input\r\n                              type=\"text\"\r\n                              placeholder=\"e.g., BTCUSDT, ETHUSDT, SOLUSDT\"\r\n                              value={botConfigs[bot.id]?.customPair || ''}\r\n                              onChange={(e) => updateBotConfig(bot.id, 'customPair', e.target.value.toUpperCase())}\r\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white\"\r\n                            />\r\n                            <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n                              Enter the trading pair you want to follow (must end with USDT)\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n\r\n                        {/* Trade Amount Input */}\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                            Trade Amount ($)\r\n                          </label>\r\n                          <input\r\n                            type=\"number\"\r\n                            min=\"10\"\r\n                            step=\"10\"\r\n                            value={botConfigs[bot.id]?.tradeAmount || bot.trade_amount || 100}\r\n                            onChange={(e) => updateBotConfig(bot.id, 'tradeAmount', parseFloat(e.target.value) || 100)}\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white\"\r\n                          />\r\n                        </div>\r\n\r\n                        {/* Performance Metrics */}\r\n                        {botPerformance[bot.id] && (\r\n                          <div className=\"pt-2 border-t border-gray-200 dark:border-gray-700\">\r\n                            <div className=\"grid grid-cols-2 gap-2 text-xs\">\r\n                              <div>\r\n                                <span className=\"text-gray-500 dark:text-gray-400\">PnL</span>\r\n                                <p className={`font-semibold ${\r\n                                  botPerformance[bot.id].pnl >= 0\r\n                                    ? 'text-green-600 dark:text-green-400'\r\n                                    : 'text-red-600 dark:text-red-400'\r\n                                }`}>\r\n                                  ${botPerformance[bot.id].pnl.toFixed(2)} ({botPerformance[bot.id].pnlPercentage.toFixed(2)}%)\r\n                                </p>\r\n                              </div>\r\n                              <div>\r\n                                <span className=\"text-gray-500 dark:text-gray-400\">Win Rate</span>\r\n                                <p className=\"font-semibold text-gray-900 dark:text-white\">\r\n                                  {botPerformance[bot.id].winRate.toFixed(1)}%\r\n                                </p>\r\n                              </div>\r\n                              <div>\r\n                                <span className=\"text-gray-500 dark:text-gray-400\">Total Trades</span>\r\n                                <p className=\"font-semibold text-gray-900 dark:text-white\">\r\n                                  {botPerformance[bot.id].totalTrades}\r\n                                </p>\r\n                              </div>\r\n                              <div>\r\n                                <span className=\"text-gray-500 dark:text-gray-400\">Win/Loss</span>\r\n                                <p className=\"font-semibold text-gray-900 dark:text-white\">\r\n                                  {botPerformance[bot.id].wins}/{botPerformance[bot.id].losses}\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                        {/* Start Button */}\r\n                        <Button\r\n                          onClick={() => handleQuickStart(bot)}\r\n                          className=\"w-full\"\r\n                          size=\"sm\"\r\n                          disabled={startingBot === bot.id}\r\n                        >\r\n                          {startingBot === bot.id ? (\r\n                            <>\r\n                              <i className=\"ri-loader-4-line animate-spin mr-2\"></i>\r\n                              Starting...\r\n                            </>\r\n                          ) : (\r\n                            <>\r\n                              <i className=\"ri-play-line mr-2\"></i>\r\n                              Start Bot\r\n                            </>\r\n                          )}\r\n                        </Button>\r\n\r\n                        {/* Bot Logs Section */}\r\n                        {user && (\r\n                          <div className=\"pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                            <button\r\n                              onClick={() => toggleLogs(bot.id)}\r\n                              className=\"w-full flex items-center justify-between text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400\"\r\n                            >\r\n                              <span className=\"flex items-center gap-2\">\r\n                                <i className=\"ri-file-list-line\"></i>\r\n                                Activity Logs\r\n                                {botLogs[bot.id] && botLogs[bot.id].length > 0 && (\r\n                                  <span className=\"px-2 py-0.5 bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-200 rounded text-xs\">\r\n                                    {botLogs[bot.id].length}\r\n                                  </span>\r\n                                )}\r\n                              </span>\r\n                              <i className={`ri-arrow-${expandedLogs[bot.id] ? 'up' : 'down'}-s-line`}></i>\r\n                            </button>\r\n\r\n                            {expandedLogs[bot.id] && (\r\n                              <div className=\"mt-3 max-h-64 overflow-y-auto space-y-2\">\r\n                                {loadingLogs[bot.id] ? (\r\n                                  <div className=\"text-center py-4 text-gray-500 text-sm\">\r\n                                    <i className=\"ri-loader-4-line animate-spin text-lg mb-1\"></i>\r\n                                    <p>Loading logs...</p>\r\n                                  </div>\r\n                                ) : botLogs[bot.id] && botLogs[bot.id].length > 0 ? (\r\n                                  botLogs[bot.id].map((log: any, idx: number) => (\r\n                                    <div\r\n                                      key={log.id || idx}\r\n                                      className=\"p-2 bg-gray-50 dark:bg-gray-800 rounded text-xs\"\r\n                                    >\r\n                                      <div className=\"flex items-start justify-between mb-1\">\r\n                                        <span className={`px-1.5 py-0.5 rounded text-xs font-medium ${getLogLevelColor(log.level)}`}>\r\n                                          {log.level || 'info'}\r\n                                        </span>\r\n                                        <span className=\"text-gray-500 dark:text-gray-400 text-xs\">\r\n                                          {formatLogTime(log.timestamp)}\r\n                                        </span>\r\n                                      </div>\r\n                                      <p className=\"text-gray-700 dark:text-gray-300 text-xs mt-1\">\r\n                                        {log.message}\r\n                                      </p>\r\n                                      {log.category && (\r\n                                        <span className=\"text-gray-500 dark:text-gray-400 text-xs mt-1 block\">\r\n                                          Category: {log.category}\r\n                                        </span>\r\n                                      )}\r\n                                    </div>\r\n                                  ))\r\n                                ) : (\r\n                                  <div className=\"text-center py-4 text-gray-500 dark:text-gray-400 text-sm\">\r\n                                    <i className=\"ri-file-list-line text-lg mb-1\"></i>\r\n                                    <p>No logs yet. Bot will show activity here once it starts trading.</p>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Sign In Prompt */}\r\n                    {!user && (\r\n                      <div className=\"pt-4 border-t border-gray-200 dark:border-gray-700\">\r\n                        <Button\r\n                          onClick={() => navigate('/auth')}\r\n                          className=\"w-full\"\r\n                          variant=\"secondary\"\r\n                          size=\"sm\"\r\n                        >\r\n                          <i className=\"ri-login-box-line mr-2\"></i>\r\n                          Sign In to Use\r\n                        </Button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n\r\n      <Navigation />\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["PabloReadyPage","navigate","useNavigate","user","useAuth","createBot","startBot","useBots","bots","setBots","useState","loading","setLoading","error","setError","startingBot","setStartingBot","botConfigs","setBotConfigs","botPerformance","setBotPerformance","botLogs","setBotLogs","expandedLogs","setExpandedLogs","loadingLogs","setLoadingLogs","useEffect","fetchBots","configs","bot","prev","data","fetchError","supabase","err","handleQuickStart","config","allowsCustomPair","_a","symbolToUse","_b","_c","botData","createdBot","updateBotConfig","botId","field","value","userBots","performance","logsMap","pabloBot","matchingBot","ub","winRate","totalTrades","wins","losses","fetchBotLogs","interval","pabloBotId","userBotId","logs","toggleLogs","b","formatLogTime","timestamp","date","diffMs","diffMins","diffHours","getLogLevelColor","level","jsxs","jsx","Header","Card","Navigation","Button","_d","e","_e","Fragment","log","idx"],"mappings":"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"}