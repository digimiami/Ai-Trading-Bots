{"version":3,"file":"page-5bd55b67.js","sources":["../../src/pages/auth/page.tsx"],"sourcesContent":["\nimport { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useAuth } from '../../hooks/useAuth'\nimport { Button } from '../../components/base/Button'\nimport { Card } from '../../components/base/Card'\nimport { supabase } from '../../lib/supabase'\n\nexport default function AuthPage() {\n  const [isLogin, setIsLogin] = useState(true)\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [inviteCode, setInviteCode] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [inviteValid, setInviteValid] = useState<boolean | null>(null)\n  const [showFixAuth, setShowFixAuth] = useState(false)\n  \n  const navigate = useNavigate()\n  const { user, loading: authLoading, signIn, signUp } = useAuth()\n\n  // Redirect authenticated users to home page\n  useEffect(() => {\n    if (!authLoading && user) {\n      navigate('/dashboard')\n    }\n  }, [user, authLoading, navigate])\n\n  // Check for invitation code in URL\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search)\n    const invite = urlParams.get('invite')\n    if (invite) {\n      setInviteCode(invite)\n      setIsLogin(false)\n      validateInviteCode(invite)\n    }\n  }, [])\n\n  // Show loading while checking authentication\n  if (authLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <Card title=\"Loading...\">\n          <div className=\"text-center\">\n            <p className=\"text-gray-600\">Checking authentication...</p>\n          </div>\n        </Card>\n      </div>\n    )\n  }\n\n  const validateInviteCode = async (code: string) => {\n    try {\n      const { data: { session } } = await supabase.auth.getSession()\n      const supabaseUrl = import.meta.env.VITE_PUBLIC_SUPABASE_URL\n      const response = await fetch(`${supabaseUrl}/functions/v1/invitation-management?action=validate`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${session?.access_token || ''}`\n        },\n        body: JSON.stringify({ code })\n      })\n      \n      const result = await response.json()\n      setInviteValid(result.valid)\n      \n      if (result.valid && result.invitation.email) {\n        setEmail(result.invitation.email)\n      }\n    } catch (err) {\n      setInviteValid(false)\n    }\n  }\n\n  const handleFixAuth = async () => {\n    setLoading(true)\n    setError(null)\n\n    try {\n      const supabaseUrl = import.meta.env.VITE_PUBLIC_SUPABASE_URL\n      const response = await fetch(`${supabaseUrl}/functions/v1/fix-auth-final`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: 'digimiami@gmail.com',\n          password: 'lagina123'\n        })\n      })\n\n      const result = await response.json()\n      \n      if (result.success) {\n        setError(null)\n        alert('Admin account fixed! You can now login with: digimiami@gmail.com / lagina123')\n        setEmail('digimiami@gmail.com')\n        setPassword('lagina123')\n        setShowFixAuth(false)\n      } else {\n        setError(result.error || 'Failed to fix admin account')\n      }\n    } catch (err) {\n      setError('Failed to fix admin account')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n    setError(null)\n\n    try {\n      let result\n      \n      if (isLogin) {\n        result = await signIn(email, password)\n        \n        // If sign in successful, wait a moment for state to update then navigate\n        if (!result.error && result.data?.user) {\n          // Wait for auth state to propagate\n          await new Promise(resolve => setTimeout(resolve, 500))\n          \n          // Double-check session was set\n          const { data: { session } } = await supabase.auth.getSession()\n          if (session?.user) {\n            // Session is set, redirect will happen via useEffect\n            return\n          }\n        }\n      } else {\n        // REQUIRE invitation code for signup\n        if (!inviteCode || !inviteCode.trim()) {\n          setError('Invitation code is required to create an account. Please contact an admin for an invitation code.')\n          setLoading(false)\n          return\n        }\n\n        // Validate invitation code before signup\n        if (inviteValid === false) {\n          setError('Invalid or expired invitation code. Please check your invitation code and try again.')\n          setLoading(false)\n          return\n        }\n\n        if (inviteValid === null) {\n          // Still validating, wait a moment\n          await new Promise(resolve => setTimeout(resolve, 500))\n          if (inviteValid === false) {\n            setError('Invalid or expired invitation code. Please check your invitation code and try again.')\n            setLoading(false)\n            return\n          }\n        }\n\n        result = await signUp(email, password)\n        \n        // If signup successful, mark invitation code as used\n        if (!result.error && result.data?.user && inviteCode) {\n          try {\n            let activeSession = result.data?.session || null\n\n            if (!activeSession) {\n              const loginResult = await supabase.auth.signInWithPassword({ email, password })\n              if (loginResult.error) {\n                console.warn('Auto sign-in after signup failed:', loginResult.error)\n              } else {\n                activeSession = loginResult.data?.session || null\n              }\n            }\n\n            const { data: { session: currentSession } } = await supabase.auth.getSession()\n            const accessToken = currentSession?.access_token || activeSession?.access_token\n\n            if (accessToken) {\n            const supabaseUrl = import.meta.env.VITE_PUBLIC_SUPABASE_URL\n            const useResponse = await fetch(`${supabaseUrl}/functions/v1/invitation-management?action=use`, {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json',\n                  'Authorization': `Bearer ${accessToken}`\n              },\n              body: JSON.stringify({ \n                code: inviteCode,\n                userId: result.data?.user?.id \n              })\n            })\n            \n            if (!useResponse.ok) {\n              console.error('Failed to mark invitation as used:', await useResponse.text())\n              }\n            } else {\n              console.warn('No access token available to mark invitation as used.')\n            }\n          } catch (inviteError) {\n            console.error('Failed to mark invitation as used:', inviteError)\n          }\n        }\n      }\n\n      if (result.error) {\n        setError(result.error.message || 'Authentication failed')\n        setLoading(false)\n      } else if (isLogin && result.data?.user) {\n        // Sign in successful - loading will be managed by redirect\n        // Don't set loading to false here to keep \"Processing...\" until redirect\n      } else {\n        setLoading(false)\n      }\n    } catch (err) {\n      console.error('Auth error:', err)\n      setError(err instanceof Error ? err.message : 'An unexpected error occurred')\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4\">\n      <Card className=\"w-full max-w-md p-8\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">\n            {isLogin ? 'Welcome Back' : 'Create Account'}\n          </h1>\n          <p className=\"text-gray-600\">\n            {isLogin ? 'Sign in to your trading account' : 'Start your trading journey'}\n          </p>\n          {inviteCode && (\n            <div className={`mt-3 p-2 rounded-lg text-sm ${\n              inviteValid === true ? 'bg-green-50 text-green-700' : \n              inviteValid === false ? 'bg-red-50 text-red-700' : \n              'bg-yellow-50 text-yellow-700'\n            }`}>\n              {inviteValid === true ? '✓ Valid invitation code' : \n               inviteValid === false ? '✗ Invalid or expired invitation' : \n               'Validating invitation...'}\n            </div>\n          )}\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          {!isLogin && (\n            <div>\n              <label htmlFor=\"inviteCode\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Invitation Code <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                id=\"inviteCode\"\n                type=\"text\"\n                value={inviteCode}\n                onChange={async (e) => {\n                  const code = e.target.value\n                  setInviteCode(code)\n                  if (code.trim()) {\n                    await validateInviteCode(code)\n                  } else {\n                    setInviteValid(null)\n                  }\n                }}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"Enter admin invitation code\"\n                required\n              />\n              {inviteCode && (\n                <div className={`mt-2 text-xs ${\n                  inviteValid === true ? 'text-green-600' : \n                  inviteValid === false ? 'text-red-600' : \n                  'text-gray-500'\n                }`}>\n                  {inviteValid === true ? '✓ Valid invitation code' : \n                   inviteValid === false ? '✗ Invalid or expired invitation code' : \n                   'Validating...'}\n                </div>\n              )}\n              <p className=\"mt-1 text-xs text-gray-500\">\n                An invitation code from an admin is required to create an account.\n              </p>\n            </div>\n          )}\n\n          <div>\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Email Address\n            </label>\n            <input\n              id=\"email\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              placeholder=\"Enter your email\"\n              required\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Password\n            </label>\n            <input\n              id=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              placeholder=\"Enter your password\"\n              required\n            />\n          </div>\n\n          {error && (\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\n              <p className=\"text-red-600 text-sm\">{error}</p>\n              {error.includes('Invalid login credentials') && (\n                <button\n                  type=\"button\"\n                  onClick={() => setShowFixAuth(true)}\n                  className=\"mt-2 text-blue-600 hover:text-blue-700 text-sm underline\"\n                >\n                  Fix Admin Account\n                </button>\n              )}\n            </div>\n          )}\n\n          {showFixAuth && (\n            <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n              <p className=\"text-yellow-800 text-sm mb-3\">\n                Click below to fix the admin account authentication:\n              </p>\n              <Button\n                type=\"button\"\n                onClick={handleFixAuth}\n                disabled={loading}\n                className=\"w-full bg-yellow-600 hover:bg-yellow-700\"\n              >\n                {loading ? 'Fixing...' : 'Fix Admin Account'}\n              </Button>\n            </div>\n          )}\n\n          <Button\n            type=\"submit\"\n            className=\"w-full\"\n            disabled={!!(loading || (!isLogin && (!inviteCode || inviteCode.trim() === '' || inviteValid === false)))}\n          >\n            {loading ? 'Processing...' : (isLogin ? 'Sign In' : 'Create Account')}\n          </Button>\n        </form>\n\n        <div className=\"mt-6 text-center\">\n          <button\n            onClick={() => setIsLogin(!isLogin)}\n            className=\"text-blue-600 hover:text-blue-700 text-sm font-medium\"\n          >\n            {isLogin ? \"Don't have an account? Sign up\" : 'Already have an account? Sign in'}\n          </button>\n        </div>\n      </Card>\n    </div>\n  )\n}\n"],"names":["AuthPage","isLogin","setIsLogin","useState","email","setEmail","password","setPassword","inviteCode","setInviteCode","loading","setLoading","error","setError","inviteValid","setInviteValid","showFixAuth","setShowFixAuth","navigate","useNavigate","user","authLoading","signIn","signUp","useAuth","useEffect","invite","validateInviteCode","jsx","Card","code","session","supabase","supabaseUrl","result","handleFixAuth","handleSubmit","e","_a","resolve","_b","activeSession","_c","loginResult","_d","currentSession","accessToken","useResponse","_f","_e","inviteError","_g","err","jsxs","Button"],"mappings":"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"}