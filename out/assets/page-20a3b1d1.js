import{r as m,s as _,j as e,a as B,A as R,u as be,b as pe}from"./index-8afdbb71.js";import{H as ye}from"./Header-13d82181.js";import{N as je}from"./Navigation-d8498cd0.js";import{B as C}from"./Button-358769bf.js";import{C as A}from"./Card-16d51d36.js";function Ne(){const[g,P]=m.useState(null),[r,h]=m.useState(!0),[S,k]=m.useState(null),j=async()=>{try{const{data:{session:i}}=await _.auth.getSession();if(!i){h(!1);return}const n=await fetch("https://dkawxgwdqiirgmmjbvhc.supabase.co/functions/v1/telegram-notifier?action=get_config",{headers:{Authorization:`Bearer ${i.access_token}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error("Failed to fetch Telegram configuration");const o=await n.json();o.success&&P(o.config)}catch(i){console.error("Error fetching Telegram config:",i),k(i.message)}finally{h(!1)}},w=async i=>{try{const{data:{session:n}}=await _.auth.getSession();if(!n)throw new Error("Not authenticated");const o=await fetch("https://dkawxgwdqiirgmmjbvhc.supabase.co/functions/v1/telegram-notifier?action=save_config",{method:"POST",headers:{Authorization:`Bearer ${n.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok)throw new Error("Failed to save Telegram configuration");const f=await o.json();if(f.success)return P(f.config),{success:!0,message:f.message};throw new Error("Failed to save configuration")}catch(n){return console.error("Error saving Telegram config:",n),{success:!1,message:n.message}}},T=async()=>{try{const{data:{session:i}}=await _.auth.getSession();if(!i)throw new Error("Not authenticated");const n=await fetch("https://dkawxgwdqiirgmmjbvhc.supabase.co/functions/v1/telegram-notifier?action=test",{method:"POST",headers:{Authorization:`Bearer ${i.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!n.ok){const f=await n.json();throw new Error(f.error||"Failed to send test message")}const o=await n.json();if(o.success)return{success:!0,message:o.message};throw new Error("Failed to send test message")}catch(i){return console.error("Error sending test message:",i),{success:!1,message:i.message}}},b=async(i,n)=>{try{const{data:{session:o}}=await _.auth.getSession();if(!o)throw new Error("Not authenticated");const f=await fetch("https://dkawxgwdqiirgmmjbvhc.supabase.co/functions/v1/telegram-notifier?action=send",{method:"POST",headers:{Authorization:`Bearer ${o.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({notification_type:i,data:n})});if(!f.ok)throw new Error("Failed to send notification");return(await f.json()).success}catch(o){return console.error("Error sending notification:",o),!1}};return m.useEffect(()=>{j()},[]),{config:g,loading:r,error:S,saveConfig:w,sendTestMessage:T,sendNotification:b,refreshConfig:j}}function ve(){const{config:g,loading:P,saveConfig:r,sendTestMessage:h}=Ne(),[S,k]=m.useState(!1),[j,w]=m.useState(!1),[T,b]=m.useState(!1),[i,n]=m.useState({bot_token:"",chat_id:"",enabled:!0,notifications:{trade_executed:!0,bot_started:!0,bot_stopped:!0,error_occurred:!0,daily_summary:!0,profit_alert:!0,loss_alert:!0}});m.useEffect(()=>{g&&n({bot_token:g.bot_token||"",chat_id:g.chat_id||"",enabled:g.enabled,notifications:g.notifications||i.notifications})},[g]);const o=async()=>{w(!0);const c=await r(i);w(!1),c.success?(alert("✅ Telegram configuration saved successfully!"),k(!1)):alert(`❌ Error: ${c.message}`)},f=async()=>{b(!0);const c=await h();b(!1),c.success?alert("✅ Test message sent! Check your Telegram."):alert(`❌ Error: ${c.message}`)};return P?e.jsx(A,{className:"p-6",children:e.jsx("div",{className:"text-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})})}):e.jsxs(A,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx("i",{className:"ri-telegram-line text-xl mr-2 text-blue-500"}),"Telegram Notifications"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${i.enabled&&g?"bg-green-500":"bg-gray-400"}`}),e.jsx("span",{className:`text-sm ${i.enabled&&g?"text-green-600":"text-gray-600"}`,children:i.enabled&&g?"Active":"Inactive"})]})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Get real-time alerts for trades, bot status, and errors directly on Telegram"}),S?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bot Token"}),e.jsx("input",{type:"password",value:i.bot_token,onChange:c=>n(x=>({...x,bot_token:c.target.value})),placeholder:"1234567890:ABCdefGHIjklMNOpqrsTUVwxyz",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Get from @BotFather on Telegram"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chat ID"}),e.jsx("input",{type:"text",value:i.chat_id,onChange:c=>n(x=>({...x,chat_id:c.target.value})),placeholder:"123456789",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your Telegram user ID (get from @userinfobot)"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Notification Types"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:i.notifications.trade_executed,onChange:c=>n(x=>({...x,notifications:{...x.notifications,trade_executed:c.target.checked}})),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"💰 Trade Executed"})]}),e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:i.notifications.bot_started,onChange:c=>n(x=>({...x,notifications:{...x.notifications,bot_started:c.target.checked}})),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"🚀 Bot Started"})]}),e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:i.notifications.bot_stopped,onChange:c=>n(x=>({...x,notifications:{...x.notifications,bot_stopped:c.target.checked}})),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"🛑 Bot Stopped"})]}),e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:i.notifications.error_occurred,onChange:c=>n(x=>({...x,notifications:{...x.notifications,error_occurred:c.target.checked}})),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"❌ Errors"})]}),e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:i.notifications.profit_alert,onChange:c=>n(x=>({...x,notifications:{...x.notifications,profit_alert:c.target.checked}})),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"🎉 Profit Alert"})]}),e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:i.notifications.loss_alert,onChange:c=>n(x=>({...x,notifications:{...x.notifications,loss_alert:c.target.checked}})),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"⚠️ Loss Alert"})]}),e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:i.notifications.daily_summary,onChange:c=>n(x=>({...x,notifications:{...x.notifications,daily_summary:c.target.checked}})),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"📊 Daily Summary"})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:o,disabled:j||!i.bot_token||!i.chat_id,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:j?"Saving...":"💾 Save Configuration"}),e.jsx("button",{onClick:f,disabled:T||!g,className:"px-6 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:T?"Testing...":"📨 Test"}),e.jsx("button",{onClick:()=>k(!1),className:"px-6 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 rounded-lg transition-colors font-medium",children:"Cancel"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4 mt-4",children:[e.jsxs("h4",{className:"font-semibold text-blue-900 text-sm mb-2 flex items-center",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"How to Setup Telegram Bot"]}),e.jsxs("ol",{className:"text-xs text-blue-800 space-y-1.5 ml-1 list-decimal list-inside",children:[e.jsxs("li",{children:["Open Telegram and search for ",e.jsx("strong",{className:"font-bold",children:"@BotFather"})]}),e.jsxs("li",{children:["Send command ",e.jsx("code",{className:"bg-blue-100 px-1 py-0.5 rounded",children:"/newbot"})," and follow instructions"]}),e.jsxs("li",{children:["Copy the ",e.jsx("strong",{className:"font-bold",children:"Bot Token"})," you receive"]}),e.jsxs("li",{children:["Search for ",e.jsx("strong",{className:"font-bold",children:"@userinfobot"})," to get your Chat ID"]}),e.jsxs("li",{children:["Paste both values above and click ",e.jsx("strong",{className:"font-bold",children:"Save"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{className:"font-bold",children:"Test"})," to verify notifications work!"]})]})]})]}):e.jsxs("button",{onClick:()=>k(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:[e.jsx("i",{className:"ri-settings-line mr-2"}),g?"Edit Configuration":"Setup Telegram Notifications"]})]})}function we(){const[g,P]=m.useState([]),[r,h]=m.useState(!0),[S,k]=m.useState(null),j=async()=>{try{h(!0);const n=await B(`${R.API_KEYS}/list`);P(n.apiKeys||[]),k(null)}catch(n){k(n instanceof Error?n.message:"Failed to fetch API keys")}finally{h(!1)}},w=async n=>{try{h(!0);const o=await B(`${R.API_KEYS}/save`,{method:"POST",body:JSON.stringify(n)});return await j(),o.apiKey}catch(o){throw new Error(o instanceof Error?o.message:"Failed to save API key")}finally{h(!1)}},T=async n=>{try{return await B(`${R.API_KEYS}/test`,{method:"POST",body:JSON.stringify(n)})}catch(o){throw new Error(o instanceof Error?o.message:"Failed to test API connection")}},b=async(n,o)=>{try{const f=await B(`${R.API_KEYS}/toggle`,{method:"PUT",body:JSON.stringify({id:n,isActive:o})});return await j(),f.apiKey}catch(f){throw new Error(f instanceof Error?f.message:"Failed to toggle API key")}},i=async n=>{try{await B(`${R.API_KEYS}?id=${n}`,{method:"DELETE"}),await j()}catch(o){throw new Error(o instanceof Error?o.message:"Failed to delete API key")}};return m.useEffect(()=>{j()},[]),{apiKeys:g,loading:r,error:S,saveApiKey:w,testApiConnection:T,toggleApiKey:b,deleteApiKey:i,refetch:j}}function ke(){const[g,P]=m.useState(!1),[r,h]=m.useState(null),S=async(w,T={})=>{try{P(!0),h(null);const{data:b,error:i}=await _.functions.invoke("profile-management",{body:{action:w,...T}});if(i)throw i;return b}catch(b){throw h(b.message),b}finally{P(!1)}};return{loading:g,error:r,getProfile:async()=>(await S("getProfile")).profile,updateProfile:async w=>await S("updateProfile",w)}}function Ee(){var Q;const g=be(),{signOut:P,user:r}=pe(),{apiKeys:h,loading:S,saveApiKey:k,testApiConnection:j,toggleApiKey:w,deleteApiKey:T}=we(),{getProfile:b,updateProfile:i}=ke(),[n]=m.useState({push:!0,email:!1,trading:!0,price:!0}),[o,f]=m.useState({twoFactor:!1,biometric:!0,autoLogout:30}),[c,x]=m.useState({defaultLeverage:5,riskLevel:"medium",autoRebalance:!0,stopLoss:5}),[G,ee]=m.useState({theme:"light",currency:"USD",language:"English"}),[d,se]=m.useState({bybitApiKey:"",bybitApiSecret:"",bybitTestnet:!0,okxApiKey:"",okxApiSecret:"",okxPassphrase:"",okxTestnet:!0,webhookUrl:"",webhookSecret:"",alertsEnabled:!0}),[a,te]=m.useState({priceThreshold:5,pnlThreshold:10,volumeThreshold:50,rsiOverbought:70,rsiOversold:30,emailAlerts:!0,pushAlerts:!0,webhookAlerts:!1,telegramBot:"",discordWebhook:"",lowBalanceAlert:!0,lowBalanceThreshold:100,liquidationAlert:!0,liquidationThreshold:80,newTradeAlert:!0,closePositionAlert:!0,profitAlert:!0,profitThreshold:5,lossAlert:!0,lossThreshold:5,dailyPnlAlert:!0,weeklyPnlAlert:!1,monthlyPnlAlert:!0}),[N,re]=m.useState({maxDailyLoss:500,maxPositionSize:1e3,stopLossPercentage:5,takeProfitPercentage:10,maxOpenPositions:5,riskPerTrade:2,autoStopTrading:!0,emergencyStopLoss:20}),[ae,U]=m.useState(!1),[le,I]=m.useState(!1),[ne,K]=m.useState(!1),[ie,D]=m.useState(!1),[v,L]=m.useState({id:"",email:"",name:"",bio:"",location:"",website:"",profile_picture_url:""}),[H,oe]=m.useState(null),[O,q]=m.useState(""),[J,X]=m.useState(!1);m.useEffect(()=>{r&&(async()=>{var l,t;try{if(console.log("🔄 Loading profile for user:",r==null?void 0:r.email),r){const y={id:r.id,email:r.email||"",name:((l=r.user_metadata)==null?void 0:l.name)||((t=r.email)==null?void 0:t.split("@")[0])||"User",bio:"",location:"",website:"",profile_picture_url:""};console.log("📋 Setting current user profile as default:",y),L(y)}const u=await b();console.log("📋 Profile loaded from backend:",u),u.email===(r==null?void 0:r.email)?(console.log("✅ Using backend profile data"),L(u),u.profile_picture_url&&q(u.profile_picture_url)):console.log("⚠️ Backend profile has wrong email, keeping current user data")}catch(u){console.error("❌ Error loading profile:",u),console.log("📋 Keeping current user data due to error")}})()},[r,b]);const ce=s=>{var t;const l=(t=s.target.files)==null?void 0:t[0];if(l){oe(l);const u=new FileReader;u.onload=y=>{var F;(F=y.target)!=null&&F.result&&q(y.target.result)},u.readAsDataURL(l)}},de=async()=>{if(J){console.log("⚠️ Profile save already in progress, ignoring duplicate click");return}try{X(!0),console.log("🔄 Starting profile save...");let s="";H&&(console.log("📸 Converting profile picture to base64..."),s=await new Promise((t,u)=>{const y=new FileReader;y.onload=F=>{var Z;(Z=F.target)!=null&&Z.result?t(F.target.result):u(new Error("Failed to read file"))},y.onerror=()=>u(new Error("File read error")),y.readAsDataURL(H)})),console.log("💾 Updating profile with backend...");const l=await i({name:v.name,bio:v.bio,location:v.location,website:v.website,profilePicture:s});console.log("✅ Profile update result:",l),l.success?(l.profilePictureUrl&&(q(l.profilePictureUrl),L(t=>({...t,profile_picture_url:l.profilePictureUrl}))),alert("Profile saved successfully!"),U(!1)):alert(`Failed to save profile: ${l.message||"Unknown error"}`)}catch(s){console.error("❌ Error saving profile:",s),alert(`Failed to save profile: ${s.message}`)}finally{X(!1)}},W=(s,l)=>{f(t=>({...t,[s]:l}))},M=(s,l)=>{x(t=>({...t,[s]:l}))},Y=(s,l)=>{ee(t=>({...t,[s]:l}))},E=(s,l)=>{se(t=>({...t,[s]:l}))},p=(s,l)=>{te(t=>({...t,[s]:l}))},me=async()=>{var s,l;try{const{data:{user:t}}=await _.auth.getUser();if(!t)return!1;const{error:u}=await _.from("users").select("id").eq("id",t.id).single();if(u&&u.code==="PGRST116"){const{error:y}=await _.from("users").insert({id:t.id,email:t.email,role:"user",name:((s=t.user_metadata)==null?void 0:s.name)||((l=t.email)==null?void 0:l.split("@")[0])||"User",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});return y?(console.error("Error creating user:",y),!1):(console.log("Created user:",t.id),!0)}else if(u)return console.error("Error checking user:",u),!1;return!0}catch(t){return console.error("Error ensuring user exists:",t),!1}},xe=async()=>{try{if(!await me()){alert("Failed to create user account. Please try again.");return}d.bybitApiKey&&d.bybitApiSecret&&await k({exchange:"bybit",apiKey:d.bybitApiKey,apiSecret:d.bybitApiSecret,isTestnet:d.bybitTestnet}),d.okxApiKey&&d.okxApiSecret&&await k({exchange:"okx",apiKey:d.okxApiKey,apiSecret:d.okxApiSecret,passphrase:d.okxPassphrase,isTestnet:d.okxTestnet}),I(!1),alert("API keys saved successfully!")}catch(s){alert(`Failed to save API keys: ${s.message}`)}},ue=()=>{K(!1)},z=(s,l)=>{L(t=>({...t,[s]:l}))},ge=async()=>{var s,l;if(console.log("🔄 Opening Edit Profile modal for user:",r==null?void 0:r.email),r){console.log("🔄 Forcing current user data for profile");const t={id:r.id,email:r.email||"",name:((s=r.user_metadata)==null?void 0:s.name)||((l=r.email)==null?void 0:l.split("@")[0])||"User",bio:"",location:"",website:"",profile_picture_url:""};console.log("📋 Current user profile data:",t),L(t)}try{const t=await b();console.log("📋 Backend profile data:",t),t.email===(r==null?void 0:r.email)?(console.log("✅ Using backend profile data"),L(t),t.profile_picture_url&&q(t.profile_picture_url)):console.log("⚠️ Backend profile has wrong email, using current user data")}catch(t){console.error("❌ Error refreshing profile:",t)}U(!0)},V=async s=>{try{let l;s==="bybit"?l={exchange:"bybit",apiKey:d.bybitApiKey,apiSecret:d.bybitApiSecret,isTestnet:d.bybitTestnet}:l={exchange:"okx",apiKey:d.okxApiKey,apiSecret:d.okxApiSecret,passphrase:d.okxPassphrase,isTestnet:d.okxTestnet};const t=await j(l);t.success?alert(`${s.toUpperCase()} API connection successful!`):alert(`${s.toUpperCase()} API connection failed: ${t.message}`)}catch(l){alert(`Failed to test ${s.toUpperCase()} API: ${l.message}`)}},he=async()=>{try{const{error:s}=await P();s?console.error("Sign out error:",s):g("/auth")}catch(s){console.error("Sign out failed:",s)}},$=(s,l)=>{re(t=>({...t,[s]:l}))},fe=()=>{D(!1)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(ye,{title:"Settings"}),e.jsxs("div",{className:"pt-20 pb-20 px-4 space-y-6",children:[e.jsxs(A,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"relative",children:O||v.profile_picture_url?e.jsx("img",{src:O||v.profile_picture_url,alt:"Profile",className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 border-2 border-gray-200 flex items-center justify-center",children:e.jsx("i",{className:"ri-user-line text-2xl text-gray-400"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.name||((Q=r==null?void 0:r.email)==null?void 0:Q.split("@")[0])||"User"}),e.jsx("p",{className:"text-gray-500",children:(r==null?void 0:r.email)||"No email"}),v.bio&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.bio}),e.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full mt-1 ${(r==null?void 0:r.role)==="admin"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:(r==null?void 0:r.role)==="admin"?"Admin":"Pro Member"})]})]}),e.jsxs("button",{onClick:ge,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-lg transition-colors",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Profile"]}),e.jsxs("button",{onClick:async()=>{console.log("🔄 Manual profile refresh for user:",r==null?void 0:r.email);try{const s=await b();console.log("📋 Manual refresh - Profile data:",s),L(s),alert("Profile refreshed! Check console for details.")}catch(s){console.error("❌ Manual refresh failed:",s),alert("Profile refresh failed! Check console for details.")}},className:"w-full bg-blue-100 hover:bg-blue-200 text-blue-700 py-2 px-4 rounded-lg transition-colors mt-2",children:[e.jsx("i",{className:"ri-refresh-line mr-2"}),"Refresh Profile Data"]})]}),e.jsxs(A,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Exchange Connections"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${h.length>0?"bg-green-500":"bg-gray-400"}`}),e.jsx("span",{className:`text-sm ${h.length>0?"text-green-600":"text-gray-600"}`,children:h.length>0?`${h.length} Connected`:"Not Connected"})]})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Configure your exchange API keys to view balances and enable trading"}),S?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading connections..."})]}):h.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("i",{className:"ri-exchange-line text-4xl mb-2"}),e.jsx("p",{children:"No exchange connections found"}),e.jsx("p",{className:"text-sm",children:"Connect your exchange API keys to get started"}),e.jsxs("button",{onClick:()=>I(!0),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Connect Exchange"]})]}):e.jsxs("div",{className:"space-y-3",children:[h.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s.exchange==="bybit"?"bg-orange-100":"bg-blue-100"}`,children:e.jsx("i",{className:`${s.exchange==="bybit"?"ri-currency-line text-orange-600":"ri-exchange-line text-blue-600"}`})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[s.exchange.toUpperCase()," API"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.isActive?"Active":"Inactive"," • ",s.isTestnet?"Testnet":"Live"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>w(s.id,!s.isActive),className:`px-3 py-1 rounded-full text-xs font-medium ${s.isActive?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:s.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>T(s.id),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove"})]})]},s.id)),e.jsxs("button",{onClick:()=>I(!0),className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-lg transition-colors",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Exchange Connection"]})]})]}),e.jsxs(A,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Risk Management"}),e.jsx("button",{onClick:()=>D(!0),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Configure"})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Protect your capital with automated risk controls"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("i",{className:"ri-shield-line text-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Max Daily Loss"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["$",N.maxDailyLoss]})]}),e.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("i",{className:"ri-pie-chart-line text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Position Size"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Max $",N.maxPositionSize]})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("i",{className:"ri-stop-line text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Stop Loss"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[N.stopLossPercentage,"%"]})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("i",{className:"ri-trophy-line text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Take Profit"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[N.takeProfitPercentage,"%"]})]})]})]}),e.jsxs(A,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Alert Preferences"}),e.jsx("button",{onClick:()=>K(!0),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Configure"})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Choose which alerts you want to receive"}),e.jsx("div",{className:"space-y-3",children:[{key:"newTradeAlert",label:"New Trade Alerts",desc:"Get notified when bots open new positions",icon:"ri-add-circle-line",color:"blue"},{key:"closePositionAlert",label:"Position Closed",desc:"Alerts when positions are closed",icon:"ri-close-circle-line",color:"green"},{key:"profitAlert",label:"Profit Alerts",desc:"Notifications for profitable trades",icon:"ri-arrow-up-line",color:"green"},{key:"lossAlert",label:"Loss Alerts",desc:"Notifications for losing trades",icon:"ri-arrow-down-line",color:"red"},{key:"lowBalanceAlert",label:"Low Balance Alert",desc:"Warning when account balance is low",icon:"ri-wallet-line",color:"orange"},{key:"liquidationAlert",label:"Liquidation Risk",desc:"Alert when positions are at risk",icon:"ri-alarm-warning-line",color:"red"}].map(({key:s,label:l,desc:t,icon:u,color:y})=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 bg-${y}-100 rounded-full flex items-center justify-center`,children:e.jsx("i",{className:`${u} text-${y}-600`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:l}),e.jsx("p",{className:"text-sm text-gray-500",children:t})]})]}),e.jsx("button",{onClick:()=>p(s,!a[s]),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a[s]?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a[s]?"translate-x-6":"translate-x-1"}`})})]},s))})]}),e.jsxs(A,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notifications"}),e.jsx("div",{className:"space-y-4",children:[{key:"push",label:"Push Notifications",desc:"Receive push notifications on your device"},{key:"email",label:"Email Alerts",desc:"Get important updates via email"},{key:"trading",label:"Trading Alerts",desc:"Notifications for bot actions and trades"},{key:"price",label:"Price Alerts",desc:"Alerts for significant price movements"}].map(({key:s,label:l,desc:t})=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:l}),e.jsx("p",{className:"text-sm text-gray-500",children:t})]}),e.jsx("button",{onClick:()=>{},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n[s]?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n[s]?"translate-x-6":"translate-x-1"}`})})]},s))})]}),e.jsxs(A,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security"})]}),e.jsx("button",{onClick:()=>W("twoFactor",!o.twoFactor),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o.twoFactor?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o.twoFactor?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Biometric Login"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Use fingerprint or face ID"})]}),e.jsx("button",{onClick:()=>W("biometric",!o.biometric),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o.biometric?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o.biometric?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Auto Logout (minutes)"}),e.jsxs("select",{value:o.autoLogout,onChange:s=>W("autoLogout",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:15,children:"15 minutes"}),e.jsx("option",{value:30,children:"30 minutes"}),e.jsx("option",{value:60,children:"1 hour"}),e.jsx("option",{value:120,children:"2 hours"})]})]})]})]}),e.jsxs(A,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Trading Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Leverage"}),e.jsxs("select",{value:c.defaultLeverage,onChange:s=>M("defaultLeverage",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:1,children:"1x"}),e.jsx("option",{value:2,children:"2x"}),e.jsx("option",{value:3,children:"3x"}),e.jsx("option",{value:5,children:"5x"}),e.jsx("option",{value:10,children:"10x"}),e.jsx("option",{value:20,children:"20x"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Risk Level"}),e.jsxs("select",{value:c.riskLevel,onChange:s=>M("riskLevel",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"low",children:"Low Risk"}),e.jsx("option",{value:"medium",children:"Medium Risk"}),e.jsx("option",{value:"high",children:"High Risk"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Auto Rebalance"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Automatically rebalance portfolio"})]}),e.jsx("button",{onClick:()=>M("autoRebalance",!c.autoRebalance),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.autoRebalance?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.autoRebalance?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Stop Loss (%)"}),e.jsx("input",{type:"number",value:c.stopLoss,onChange:s=>M("stopLoss",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",max:"20",step:"0.5"})]})]})]}),e.jsxs(A,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Appearance"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),e.jsx("div",{className:"flex space-x-2",children:["light","dark"].map(s=>e.jsx("button",{onClick:()=>Y("theme",s),className:`px-4 py-2 rounded-lg text-sm font-medium ${G.theme===s?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s.charAt(0).toUpperCase()+s.slice(1)},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),e.jsxs("select",{value:G.currency,onChange:s=>Y("currency",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR (€)"}),e.jsx("option",{value:"GBP",children:"GBP (£)"}),e.jsx("option",{value:"JPY",children:"JPY (¥)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),e.jsxs("select",{value:G.language,onChange:s=>Y("language",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"English",children:"English"}),e.jsx("option",{value:"Spanish",children:"Español"}),e.jsx("option",{value:"French",children:"Français"}),e.jsx("option",{value:"German",children:"Deutsch"})]})]})]})]}),e.jsxs(A,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(C,{variant:"secondary",className:"w-full justify-start",children:[e.jsx("i",{className:"ri-download-line mr-2"}),"Export Data"]}),e.jsxs(C,{variant:"secondary",className:"w-full justify-start",children:[e.jsx("i",{className:"ri-refresh-line mr-2"}),"Reset Settings"]}),e.jsxs("button",{onClick:he,className:"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-red-600 hover:bg-red-700 text-white focus:ring-red-500 px-4 py-2 text-sm w-full justify-start",children:[e.jsx("i",{className:"ri-logout-box-line mr-2"}),"Sign Out"]})]})]}),e.jsx(ve,{}),e.jsxs(A,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"App Information"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Version"}),e.jsx("span",{className:"text-gray-900",children:"1.2.3"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Build"}),e.jsx("span",{className:"text-gray-900",children:"2024.01.15"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"API Status"}),e.jsxs("span",{className:"text-green-600 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Connected"]})]}),e.jsxs(C,{variant:"secondary",className:"w-full justify-start mt-4",children:[e.jsx("i",{className:"ri-question-line mr-2"}),"Help & Support"]})]})]})]}),le&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"API Configuration"}),e.jsx("button",{onClick:()=>I(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl text-gray-500"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx("i",{className:"ri-currency-line text-orange-600 mr-2"}),"Bybit API"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),e.jsx("input",{type:"password",value:d.bybitApiKey,onChange:s=>E("bybitApiKey",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter Bybit API Key"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Secret"}),e.jsx("input",{type:"password",value:d.bybitApiSecret,onChange:s=>E("bybitApiSecret",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter Bybit API Secret"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Use Testnet"}),e.jsx("button",{onClick:()=>E("bybitTestnet",!d.bybitTestnet),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${d.bybitTestnet?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${d.bybitTestnet?"translate-x-6":"translate-x-1"}`})})]}),e.jsx("button",{onClick:()=>V("bybit"),className:"w-full bg-orange-100 hover:bg-orange-200 text-orange-700 py-2 px-4 rounded-lg transition-colors text-sm",children:"Test Connection"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx("i",{className:"ri-exchange-line text-blue-600 mr-2"}),"OKX API"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),e.jsx("input",{type:"password",value:d.okxApiKey,onChange:s=>E("okxApiKey",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter OKX API Key"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Secret"}),e.jsx("input",{type:"password",value:d.okxApiSecret,onChange:s=>E("okxApiSecret",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter OKX API Secret"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Passphrase"}),e.jsx("input",{type:"password",value:d.okxPassphrase,onChange:s=>E("okxPassphrase",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter OKX Passphrase"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Use Testnet"}),e.jsx("button",{onClick:()=>E("okxTestnet",!d.okxTestnet),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${d.okxTestnet?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${d.okxTestnet?"translate-x-6":"translate-x-1"}`})})]}),e.jsx("button",{onClick:()=>V("okx"),className:"w-full bg-blue-100 hover:bg-blue-200 text-blue-700 py-2 px-4 rounded-lg transition-colors text-sm",children:"Test Connection"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx("i",{className:"ri-webhook-line text-purple-600 mr-2"}),"Webhook Settings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Webhook URL"}),e.jsx("input",{type:"url",value:d.webhookUrl,onChange:s=>E("webhookUrl",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"https://your-webhook-url.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Webhook Secret"}),e.jsx("input",{type:"password",value:d.webhookSecret,onChange:s=>E("webhookSecret",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter webhook secret"})]})]})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx(C,{variant:"secondary",onClick:()=>I(!1),className:"flex-1",children:"Cancel"}),e.jsx(C,{variant:"primary",onClick:xe,className:"flex-1",children:"Save Settings"})]})]})})}),ie&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Risk Management"}),e.jsx("button",{onClick:()=>D(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl text-gray-500"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Daily Limits"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Daily Loss ($)"}),e.jsx("input",{type:"number",value:N.maxDailyLoss,onChange:s=>$("maxDailyLoss",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"50",max:"10000",step:"50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Position Size ($)"}),e.jsx("input",{type:"number",value:N.maxPositionSize,onChange:s=>$("maxPositionSize",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"100",max:"50000",step:"100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Open Positions"}),e.jsx("input",{type:"number",value:N.maxOpenPositions,onChange:s=>$("maxOpenPositions",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"1",max:"20",step:"1"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Risk Percentages"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stop Loss Percentage (%)"}),e.jsx("input",{type:"number",value:N.stopLossPercentage,onChange:s=>$("stopLossPercentage",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"1",max:"20",step:"0.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Take Profit Percentage (%)"}),e.jsx("input",{type:"number",value:N.takeProfitPercentage,onChange:s=>$("takeProfitPercentage",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"1",max:"50",step:"0.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Risk Per Trade (%)"}),e.jsx("input",{type:"number",value:N.riskPerTrade,onChange:s=>$("riskPerTrade",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"0.5",max:"10",step:"0.1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Stop Loss (%)"}),e.jsx("input",{type:"number",value:N.emergencyStopLoss,onChange:s=>$("emergencyStopLoss",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"10",max:"50",step:"1"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Automatic Controls"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Auto Stop Trading"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Stop all bots when daily loss limit is reached"})]}),e.jsx("button",{onClick:()=>$("autoStopTrading",!N.autoStopTrading),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${N.autoStopTrading?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${N.autoStopTrading?"translate-x-6":"translate-x-1"}`})})]})})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx(C,{variant:"secondary",onClick:()=>D(!1),className:"flex-1",children:"Cancel"}),e.jsx(C,{variant:"primary",onClick:fe,className:"flex-1",children:"Save Settings"})]})]})})}),ne&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Alert Configuration"}),e.jsx("button",{onClick:()=>K(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl text-gray-500"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Trading Alerts"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"New Trade Alerts"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Notify when bots open new positions"})]}),e.jsx("button",{onClick:()=>p("newTradeAlert",!a.newTradeAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.newTradeAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.newTradeAlert?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Close Position Alerts"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Notify when positions are closed"})]}),e.jsx("button",{onClick:()=>p("closePositionAlert",!a.closePositionAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.closePositionAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.closePositionAlert?"translate-x-6":"translate-x-1"}`})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"P&L Alerts"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Profit Alerts"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Notify for profitable trades"})]}),e.jsx("button",{onClick:()=>p("profitAlert",!a.profitAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.profitAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.profitAlert?"translate-x-6":"translate-x-1"}`})})]}),a.profitAlert&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profit Threshold (%)"}),e.jsx("input",{type:"number",value:a.profitThreshold,onChange:s=>p("profitThreshold",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"1",max:"50",step:"0.5"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Loss Alerts"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Notify for losing trades"})]}),e.jsx("button",{onClick:()=>p("lossAlert",!a.lossAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.lossAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.lossAlert?"translate-x-6":"translate-x-1"}`})})]}),a.lossAlert&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loss Threshold (%)"}),e.jsx("input",{type:"number",value:a.lossThreshold,onChange:s=>p("lossThreshold",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"1",max:"20",step:"0.5"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Risk Alerts"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Low Balance Alert"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Warning when balance is low"})]}),e.jsx("button",{onClick:()=>p("lowBalanceAlert",!a.lowBalanceAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.lowBalanceAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.lowBalanceAlert?"translate-x-6":"translate-x-1"}`})})]}),a.lowBalanceAlert&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Low Balance Threshold ($)"}),e.jsx("input",{type:"number",value:a.lowBalanceThreshold,onChange:s=>p("lowBalanceThreshold",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"10",max:"1000",step:"10"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Liquidation Risk Alert"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Alert when positions are at risk"})]}),e.jsx("button",{onClick:()=>p("liquidationAlert",!a.liquidationAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.liquidationAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.liquidationAlert?"translate-x-6":"translate-x-1"}`})})]}),a.liquidationAlert&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Liquidation Threshold (%)"}),e.jsx("input",{type:"number",value:a.liquidationThreshold,onChange:s=>p("liquidationThreshold",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"50",max:"95",step:"5"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"P&L Reports"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Daily P&L Report"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Daily profit/loss summary"})]}),e.jsx("button",{onClick:()=>p("dailyPnlAlert",!a.dailyPnlAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.dailyPnlAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.dailyPnlAlert?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Weekly P&L Report"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Weekly profit/loss summary"})]}),e.jsx("button",{onClick:()=>p("weeklyPnlAlert",!a.weeklyPnlAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.weeklyPnlAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.weeklyPnlAlert?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Monthly P&L Report"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Monthly profit/loss summary"})]}),e.jsx("button",{onClick:()=>p("monthlyPnlAlert",!a.monthlyPnlAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.monthlyPnlAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.monthlyPnlAlert?"translate-x-6":"translate-x-1"}`})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Notification Channels"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email Alerts"}),e.jsx("button",{onClick:()=>p("emailAlerts",!a.emailAlerts),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.emailAlerts?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.emailAlerts?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Push Notifications"}),e.jsx("button",{onClick:()=>p("pushAlerts",!a.pushAlerts),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.pushAlerts?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.pushAlerts?"translate-x-6":"translate-x-1"}`})})]})]})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx(C,{variant:"secondary",onClick:()=>K(!1),className:"flex-1",children:"Cancel"}),e.jsx(C,{variant:"primary",onClick:ue,className:"flex-1",children:"Save Settings"})]})]})})}),ae&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Profile"}),e.jsx("button",{onClick:()=>U(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl text-gray-500"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-200",children:O?e.jsx("img",{src:O,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("i",{className:"ri-user-line text-2xl text-gray-400"})})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:ce,className:"hidden",id:"profile-picture"}),e.jsxs("label",{htmlFor:"profile-picture",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 cursor-pointer transition-colors",children:[e.jsx("i",{className:"ri-upload-line mr-2"}),"Upload Photo"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG up to 5MB"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:v.name,onChange:s=>z("name",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:v.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500",placeholder:"Email cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),e.jsx("textarea",{value:v.bio||"",onChange:s=>z("bio",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tell us about yourself",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e.jsx("input",{type:"text",value:v.location||"",onChange:s=>z("location",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"City, Country"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),e.jsx("input",{type:"url",value:v.website||"",onChange:s=>z("website",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://yourwebsite.com"})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx(C,{variant:"secondary",onClick:()=>U(!1),className:"flex-1",children:"Cancel"}),e.jsx(C,{variant:"primary",onClick:de,className:"flex-1",disabled:J,children:J?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Saving..."]}):"Save Changes"})]})]})})}),e.jsx(je,{})]})}export{Ee as default};
//# sourceMappingURL=page-20a3b1d1.js.map
