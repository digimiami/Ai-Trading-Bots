{"version":3,"file":"PaperTradingBalance-fde8f04d.js","sources":["../../src/components/paper/PaperTradingBalance.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { supabase } from '../../lib/supabase';\nimport Card from '../base/Card';\nimport Button from '../base/Button';\n\ninterface PaperLog {\n  id: string;\n  timestamp: string;\n  level: string;\n  category: string;\n  message: string;\n  bot_name?: string;\n  symbol?: string;\n}\n\nexport default function PaperTradingBalance() {\n  const [balance, setBalance] = useState<any>(null);\n  const [addLoading, setAddLoading] = useState(false);\n  const [addAmount, setAddAmount] = useState('');\n  const [setBalanceAmount, setSetBalanceAmount] = useState('');\n  const [setLoading, setSetLoading] = useState(false);\n  const [initialAmount, setInitialAmount] = useState('');\n  const [setInitialLoading, setSetInitialLoading] = useState(false);\n  const [syncInitialWithBalance, setSyncInitialWithBalance] = useState(true);\n  const [resetLoading, setResetLoading] = useState(false);\n  const [logs, setLogs] = useState<PaperLog[]>([]);\n  const [loadingLogs, setLoadingLogs] = useState(false);\n  \n  const ensureAccountExists = async () => {\n    const { data: { session } } = await supabase.auth.getSession();\n    if (!session) return null;\n\n    const response = await fetch(`${import.meta.env.VITE_PUBLIC_SUPABASE_URL}/functions/v1/paper-trading`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${session.access_token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ action: 'get_balance' })\n    });\n\n    if (!response.ok) {\n      const err = await response.json().catch(() => ({}));\n      console.error('Failed to ensure paper account exists:', err?.error || response.statusText);\n      return null;\n    }\n\n    const result = await response.json().catch(() => null);\n    return result?.account ?? null;\n  };\n\n  useEffect(() => {\n    fetchBalance();\n    fetchLogs();\n    \n    // Refresh logs every 10 seconds\n    const interval = setInterval(() => {\n      fetchLogs();\n    }, 10000);\n    \n    return () => clearInterval(interval);\n  }, []);\n  \n  const fetchBalance = async () => {\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) return;\n    \n    const { data, error } = await supabase\n      .from('paper_trading_accounts')\n      .select('*')\n      .eq('user_id', user.id)\n      .single();\n    \n    if (data) {\n      setBalance(data);\n      return;\n    }\n\n    if (error?.code === 'PGRST116' || !data) {\n      const ensuredAccount = await ensureAccountExists();\n      if (ensuredAccount) {\n        setBalance(ensuredAccount);\n      } else {\n        setBalance(null);\n      }\n    }\n  };\n\n  const fetchLogs = async () => {\n    try {\n      setLoadingLogs(true);\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) {\n        setLogs([]);\n        return;\n      }\n\n      // Get user's paper trading bots\n      const { data: paperBots, error: botsError } = await supabase\n        .from('trading_bots')\n        .select('id, name')\n        .eq('user_id', user.id)\n        .eq('paper_trading', true);\n\n      if (botsError) {\n        console.error('Error fetching paper bots:', botsError);\n        setLogs([]);\n        return;\n      }\n\n      if (!paperBots || paperBots.length === 0) {\n        setLogs([]);\n        return;\n      }\n\n      const botIds = paperBots.map(b => b.id);\n      const botNameMap = new Map(paperBots.map(b => [b.id, b.name]));\n\n      // Get recent logs for paper trading bots - get all logs, filter by message in JS\n      const { data: logData, error: logsError } = await supabase\n        .from('bot_activity_logs')\n        .select('*')\n        .in('bot_id', botIds)\n        .order('timestamp', { ascending: false })\n        .limit(50);\n\n      if (logsError) {\n        console.error('Error fetching logs:', logsError);\n        setLogs([]);\n        return;\n      }\n\n      console.log(`üìù [Paper Logs] Found ${logData?.length || 0} total logs for ${botIds.length} paper bots`);\n\n      if (logData && logData.length > 0) {\n        // Filter for paper trading logs (messages containing [PAPER] or üìù)\n        const paperLogs = logData.filter(log => {\n          const message = log.message || '';\n          const isPaperLog = message.includes('[PAPER]') || \n                 message.includes('üìù') || \n                 message.includes('PAPER') ||\n                 log.details?.paper_trading === true;\n          \n          if (isPaperLog) {\n            console.log(`üìù [Paper Logs] Found paper log:`, log.message);\n          }\n          \n          return isPaperLog;\n        });\n\n        console.log(`üìù [Paper Logs] Filtered to ${paperLogs.length} paper trading logs`);\n\n        const enrichedLogs = paperLogs.slice(0, 20).map(log => ({\n          id: log.id,\n          timestamp: log.timestamp,\n          level: log.level,\n          category: log.category,\n          message: log.message,\n          bot_name: botNameMap.get(log.bot_id),\n          symbol: log.details?.symbol || log.details?.paper_trading?.symbol || log.details?.paper_trading?.side\n        }));\n        \n        setLogs(enrichedLogs);\n      } else {\n        console.log('üìù [Paper Logs] No logs found');\n        setLogs([]);\n      }\n    } catch (error) {\n      console.error('Error fetching paper trading logs:', error);\n      setLogs([]);\n    } finally {\n      setLoadingLogs(false);\n    }\n  };\n  \n  const handleAddFunds = async () => {\n    const amount = parseFloat(addAmount);\n    if (!amount || amount <= 0) {\n      alert('Please enter a valid amount');\n      return;\n    }\n    \n    setAddLoading(true);\n    try {\n      // Call edge function to add funds\n      const { data: { session } } = await supabase.auth.getSession();\n      if (!session) {\n        throw new Error('Not authenticated');\n      }\n      const response = await fetch(`${import.meta.env.VITE_PUBLIC_SUPABASE_URL}/functions/v1/paper-trading`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${session?.access_token}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          action: 'add_funds',\n          amount: amount\n        })\n      });\n      \n      if (response.ok) {\n        await fetchBalance();\n        setAddAmount('');\n        alert(`‚úÖ Added $${amount.toFixed(2)} to paper trading balance`);\n        // Refresh logs to show the balance update\n        setTimeout(() => fetchLogs(), 1000);\n      } else {\n        const error = await response.json();\n        throw new Error(error.error || 'Failed to add funds');\n      }\n    } catch (error: any) {\n      alert('Error adding funds: ' + error.message);\n    } finally {\n      setAddLoading(false);\n    }\n  };\n\n  const handleSetBalance = async () => {\n    const amount = parseFloat(setBalanceAmount);\n    if (isNaN(amount) || amount < 0) {\n      alert('Please enter a valid amount (0 or greater)');\n      return;\n    }\n\n    setSetLoading(true);\n    try {\n      const { data: { session } } = await supabase.auth.getSession();\n      if (!session) {\n        throw new Error('Not authenticated');\n      }\n\n      const response = await fetch(`${import.meta.env.VITE_PUBLIC_SUPABASE_URL}/functions/v1/paper-trading`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${session?.access_token}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          action: 'set_balance',\n          amount\n        })\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || 'Failed to set balance');\n      }\n\n      await fetchBalance();\n      setSetBalanceAmount('');\n      alert(`‚úÖ Paper trading balance set to $${amount.toFixed(2)}`);\n      setTimeout(() => fetchLogs(), 1000);\n    } catch (error: any) {\n      alert('Error setting balance: ' + error.message);\n    } finally {\n      setSetLoading(false);\n    }\n  };\n\n  const handleSetInitialBalance = async () => {\n    const amount = parseFloat(initialAmount);\n    if (!amount || amount <= 0) {\n      alert('Please enter a valid initial balance greater than 0');\n      return;\n    }\n\n    setSetInitialLoading(true);\n    try {\n      const { data: { session } } = await supabase.auth.getSession();\n      if (!session) {\n        throw new Error('Not authenticated');\n      }\n\n      const response = await fetch(`${import.meta.env.VITE_PUBLIC_SUPABASE_URL}/functions/v1/paper-trading`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${session?.access_token}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          action: 'set_initial_balance',\n          amount,\n          applyToBalance: syncInitialWithBalance\n        })\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || 'Failed to set initial balance');\n      }\n\n      await fetchBalance();\n      if (syncInitialWithBalance) {\n        setSetBalanceAmount('');\n        setAddAmount('');\n      }\n      setInitialAmount('');\n      alert(`‚úÖ Initial balance set to $${amount.toFixed(2)}${syncInitialWithBalance ? ' (current balance updated too)' : ''}`);\n      setTimeout(() => fetchLogs(), 1000);\n    } catch (error: any) {\n      alert('Error setting initial balance: ' + error.message);\n    } finally {\n      setSetInitialLoading(false);\n    }\n  };\n\n  const handleResetBalance = async () => {\n    const confirmed = window.confirm('Resetting will restore your paper trading account to your initial balance and clear open paper trades. Continue?');\n    if (!confirmed) {\n      return;\n    }\n\n    setResetLoading(true);\n    try {\n      const { data: { session } } = await supabase.auth.getSession();\n      if (!session) {\n        throw new Error('Not authenticated');\n      }\n\n      const response = await fetch(`${import.meta.env.VITE_PUBLIC_SUPABASE_URL}/functions/v1/paper-trading`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${session?.access_token}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          action: 'reset_balance'\n        })\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || 'Failed to reset balance');\n      }\n\n      await fetchBalance();\n      setAddAmount('');\n      setSetBalanceAmount('');\n      setInitialAmount('');\n      alert('‚úÖ Paper trading balance reset to your initial balance');\n      setTimeout(() => fetchLogs(), 1000);\n    } catch (error: any) {\n      alert('Error resetting balance: ' + error.message);\n    } finally {\n      setResetLoading(false);\n    }\n  };\n\n  const getLevelIcon = (level: string) => {\n    switch (level) {\n      case 'info': return 'ri-information-line text-blue-600';\n      case 'warning': return 'ri-alert-line text-yellow-600';\n      case 'error': return 'ri-error-warning-line text-red-600';\n      case 'success': return 'ri-checkbox-circle-line text-green-600';\n      default: return 'ri-information-line text-gray-600';\n    }\n  };\n\n  const formatTime = (timestamp: string) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMins / 60);\n    \n    if (diffMins < 1) return 'Just now';\n    if (diffMins < 60) return `${diffMins}m ago`;\n    if (diffHours < 24) return `${diffHours}h ago`;\n    return date.toLocaleDateString() + ' ' + date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n  };\n  \n  if (!balance) {\n    // Still show logs even if balance doesn't exist yet\n    return (\n      <Card className=\"p-4\">\n        <h3 className=\"text-lg font-semibold mb-3\">üìù Paper Trading Balance</h3>\n        <div className=\"space-y-3\">\n          <div className=\"text-center py-4 text-gray-500 text-sm\">\n            <i className=\"ri-wallet-line text-2xl mb-2 block\"></i>\n            <p>Account will be created on first trade</p>\n            <p className=\"text-xs mt-1\">Default balance: $10,000</p>\n          </div>\n          \n          {/* Paper Trading Logs */}\n          <div className=\"border-t pt-4 mt-4\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h4 className=\"text-sm font-semibold text-gray-700\">Recent Activity</h4>\n              <Button\n                onClick={fetchLogs}\n                variant=\"secondary\"\n                size=\"sm\"\n                loading={loadingLogs}\n              >\n                <i className=\"ri-refresh-line\"></i>\n              </Button>\n            </div>\n            \n            {loadingLogs && logs.length === 0 ? (\n              <div className=\"text-center py-4 text-gray-500 text-sm\">\n                <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2\"></div>\n                <p>Loading activity...</p>\n              </div>\n            ) : logs.length === 0 ? (\n              <div className=\"text-center py-4 text-gray-500 text-sm\">\n                <i className=\"ri-file-list-line text-2xl mb-2 block\"></i>\n                <p>No paper trading activity yet</p>\n                <p className=\"text-xs mt-1\">Activity will appear here when bots execute trades</p>\n                <p className=\"text-xs mt-1 text-gray-400\">Make sure you have paper trading bots running</p>\n              </div>\n            ) : (\n              <div className=\"space-y-2 max-h-64 overflow-y-auto\">\n                {logs.map((log) => (\n                  <div\n                    key={log.id}\n                    className=\"p-2 bg-gray-50 rounded-lg border border-gray-200 text-sm hover:bg-gray-100 transition-colors\"\n                  >\n                    <div className=\"flex items-start gap-2\">\n                      <i className={`${getLevelIcon(log.level)} mt-0.5 flex-shrink-0`}></i>\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center gap-2 mb-1 flex-wrap\">\n                          {log.bot_name && (\n                            <span className=\"font-medium text-gray-900 text-xs\">\n                              {log.bot_name}\n                            </span>\n                          )}\n                          {log.symbol && (\n                            <span className=\"text-xs text-gray-500 bg-gray-200 px-1.5 py-0.5 rounded\">\n                              {log.symbol}\n                            </span>\n                          )}\n                          <span className=\"text-xs text-gray-400 ml-auto\">\n                            {formatTime(log.timestamp)}\n                          </span>\n                        </div>\n                        <p className=\"text-xs text-gray-700 break-words\">\n                          {log.message}\n                        </p>\n                        {log.category && (\n                          <span className=\"inline-block mt-1 px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded\">\n                            {log.category}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </Card>\n    );\n  }\n  \n  return (\n    <Card className=\"p-4\">\n      <h3 className=\"text-lg font-semibold mb-3\">üìù Paper Trading Balance</h3>\n      <div className=\"space-y-3\">\n        <div className=\"flex justify-between\">\n          <span className=\"text-gray-600\">Available Balance:</span>\n          <span className=\"text-xl font-bold text-green-600\">\n            ${parseFloat(balance.balance).toFixed(2)}\n          </span>\n        </div>\n        <div className=\"flex justify-between text-sm\">\n          <span className=\"text-gray-500\">Initial Balance:</span>\n          <span>${parseFloat(balance.initial_balance).toFixed(2)}</span>\n        </div>\n        <div className=\"flex justify-between text-sm\">\n          <span className=\"text-gray-500\">Total Deposited:</span>\n          <span className=\"text-green-600\">${parseFloat(balance.total_deposited || 0).toFixed(2)}</span>\n        </div>\n        <div className=\"border-t pt-3 mt-3 space-y-3\">\n          <div className=\"flex gap-2\">\n            <input\n              type=\"number\"\n              value={addAmount}\n              onChange={(e) => setAddAmount(e.target.value)}\n              placeholder=\"Amount to add\"\n              className=\"flex-1 px-3 py-2 border rounded-lg\"\n              min=\"1\"\n              step=\"0.01\"\n            />\n            <Button\n              onClick={handleAddFunds}\n              loading={addLoading}\n              variant=\"primary\"\n            >\n              Add Funds\n            </Button>\n          </div>\n          <div className=\"flex gap-2\">\n            <input\n              type=\"number\"\n              value={setBalanceAmount}\n              onChange={(e) => setSetBalanceAmount(e.target.value)}\n              placeholder={`Set balance${balance && typeof balance.balance !== 'undefined' ? ` (current $${parseFloat(balance.balance).toFixed(2)})` : ''}`}\n              className=\"flex-1 px-3 py-2 border rounded-lg\"\n              min=\"0\"\n              step=\"0.01\"\n            />\n            <Button\n              onClick={handleSetBalance}\n              loading={setLoading}\n              variant=\"secondary\"\n            >\n              Set Balance\n            </Button>\n          </div>\n          <div className=\"border border-blue-200 bg-blue-50 rounded-lg px-3 py-3 space-y-3\">\n            <div className=\"flex flex-col gap-2 md:flex-row md:items-center\">\n              <div className=\"flex-1\">\n                <label className=\"block text-xs font-semibold text-blue-700 mb-1\">\n                  Set Initial Balance\n                </label>\n                <input\n                  type=\"number\"\n                  value={initialAmount}\n                  onChange={(e) => setInitialAmount(e.target.value)}\n                  placeholder={`Initial balance${balance && typeof balance.initial_balance !== 'undefined' ? ` (current $${parseFloat(balance.initial_balance).toFixed(2)})` : ''}`}\n                  className=\"w-full px-3 py-2 border rounded-lg\"\n                  min=\"1\"\n                  step=\"0.01\"\n                />\n              </div>\n              <Button\n                onClick={handleSetInitialBalance}\n                loading={setInitialLoading}\n                variant=\"success\"\n                className=\"md:w-auto w-full\"\n              >\n                Save Initial Balance\n              </Button>\n            </div>\n            <label className=\"flex items-center gap-2 text-xs text-blue-800\">\n              <input\n                type=\"checkbox\"\n                checked={syncInitialWithBalance}\n                onChange={(e) => setSyncInitialWithBalance(e.target.checked)}\n              />\n              Also update current available balance when saving initial balance\n            </label>\n          </div>\n          <div className=\"flex items-center justify-between bg-red-50 border border-red-200 rounded-lg px-3 py-2\">\n            <div className=\"text-sm text-red-700\">\n              <p className=\"font-medium\">Reset Paper Account</p>\n              <p className=\"text-xs text-red-600\">Restores your initial balance setting and clears paper positions/trades.</p>\n            </div>\n            <Button\n              onClick={handleResetBalance}\n              loading={resetLoading}\n              variant=\"danger\"\n            >\n              Reset Balance\n            </Button>\n          </div>\n        </div>\n\n        {/* Paper Trading Logs */}\n        <div className=\"border-t pt-4 mt-4\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h4 className=\"text-sm font-semibold text-gray-700\">Recent Activity</h4>\n            <Button\n              onClick={fetchLogs}\n              variant=\"secondary\"\n              size=\"sm\"\n              loading={loadingLogs}\n            >\n              <i className=\"ri-refresh-line\"></i>\n            </Button>\n          </div>\n          \n          {loadingLogs && logs.length === 0 ? (\n            <div className=\"text-center py-4 text-gray-500 text-sm\">\n              <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2\"></div>\n              <p>Loading activity...</p>\n            </div>\n          ) : logs.length === 0 ? (\n            <div className=\"text-center py-4 text-gray-500 text-sm\">\n              <i className=\"ri-file-list-line text-2xl mb-2 block\"></i>\n              <p>No paper trading activity yet</p>\n              <p className=\"text-xs mt-1\">Activity will appear here when bots execute trades</p>\n              <p className=\"text-xs mt-1 text-gray-400\">Make sure you have paper trading bots running</p>\n            </div>\n          ) : (\n            <div className=\"space-y-2 max-h-64 overflow-y-auto\">\n              {logs.map((log) => (\n                <div\n                  key={log.id}\n                  className=\"p-2 bg-gray-50 rounded-lg border border-gray-200 text-sm hover:bg-gray-100 transition-colors\"\n                >\n                  <div className=\"flex items-start gap-2\">\n                    <i className={`${getLevelIcon(log.level)} mt-0.5 flex-shrink-0`}></i>\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center gap-2 mb-1 flex-wrap\">\n                        {log.bot_name && (\n                          <span className=\"font-medium text-gray-900 text-xs\">\n                            {log.bot_name}\n                          </span>\n                        )}\n                        {log.symbol && (\n                          <span className=\"text-xs text-gray-500 bg-gray-200 px-1.5 py-0.5 rounded\">\n                            {log.symbol}\n                          </span>\n                        )}\n                        <span className=\"text-xs text-gray-400 ml-auto\">\n                          {formatTime(log.timestamp)}\n                        </span>\n                      </div>\n                      <p className=\"text-xs text-gray-700 break-words\">\n                        {log.message}\n                      </p>\n                      {log.category && (\n                        <span className=\"inline-block mt-1 px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded\">\n                          {log.category}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </Card>\n  );\n}\n\n"],"names":["PaperTradingBalance","balance","setBalance","useState","addLoading","setAddLoading","addAmount","setAddAmount","setBalanceAmount","setSetBalanceAmount","setLoading","setSetLoading","initialAmount","setInitialAmount","setInitialLoading","setSetInitialLoading","syncInitialWithBalance","setSyncInitialWithBalance","resetLoading","setResetLoading","logs","setLogs","loadingLogs","setLoadingLogs","ensureAccountExists","session","supabase","response","err","result","useEffect","fetchBalance","fetchLogs","interval","user","data","error","ensuredAccount","paperBots","botsError","botIds","b","botNameMap","logData","logsError","paperLogs","log","message","isPaperLog","_a","enrichedLogs","_c","_b","_e","_d","handleAddFunds","amount","handleSetBalance","handleSetInitialBalance","handleResetBalance","getLevelIcon","level","formatTime","timestamp","date","diffMs","diffMins","diffHours","jsxs","Card","jsx","e","Button"],"mappings":"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"}