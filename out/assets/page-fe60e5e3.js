import{u as B,r as x,j as e}from"./index-11de833d.js";import{B as w}from"./Button-fda56067.js";import{C as p}from"./Card-119e7607.js";import{H as R}from"./Header-7b35ec3b.js";import{u as U}from"./useBots-c1be9635.js";function q(){var _,N,T,k;const g=B(),{createBot:C}=U(),c=((_=window.history.state)==null?void 0:_.usr)||{},S=c.fromBacktest,u=c.backtestResults,l=c.backtestConfig,[a,P]=x.useState({name:c.botName||"",exchange:(l==null?void 0:l.exchange)||"bybit",tradingType:(l==null?void 0:l.tradingType)||"spot",symbol:"BTCUSDT",customPairs:"",useCustomPairs:!1,timeframe:(l==null?void 0:l.timeframe)||"1h",leverage:(l==null?void 0:l.leverage)||5,riskLevel:(l==null?void 0:l.riskLevel)||"medium",tradeAmount:(l==null?void 0:l.tradeAmount)||100,stopLoss:(l==null?void 0:l.stopLoss)||2,takeProfit:(l==null?void 0:l.takeProfit)||4}),[o,D]=x.useState(c.backtestStrategy||{rsiThreshold:70,adxThreshold:25,bbWidthThreshold:.02,emaSlope:.5,atrPercentage:2.5,vwapDistance:1.2,momentumThreshold:.8,useMLPrediction:!0,minSamplesForML:100}),[t,n]=x.useState(c.backtestAdvancedConfig||{bias_mode:"auto",htf_timeframe:"4h",htf_trend_indicator:"EMA200",ema_fast_period:50,require_price_vs_trend:"any",adx_min_htf:23,require_adx_rising:!0,regime_mode:"auto",adx_trend_min:25,adx_meanrev_max:19,session_filter_enabled:!1,allowed_hours_utc:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],cooldown_bars:8,atr_percentile_min:20,bb_width_min:.012,bb_width_max:.03,min_24h_volume_usd:5e8,max_spread_bps:3,risk_per_trade_pct:.75,daily_loss_limit_pct:3,weekly_loss_limit_pct:6,max_trades_per_day:8,max_concurrent:2,sl_atr_mult:1.3,tp1_r:1,tp2_r:2,tp1_size:.5,breakeven_at_r:.8,trail_after_tp1_atr:1,time_stop_hours:48,rsi_period:14,rsi_oversold:30,rsi_overbought:70,use_ml_prediction:!0,ml_confidence_threshold:.6,ml_min_samples:100}),[h,F]=x.useState(!1),[v,f]=x.useState(!1),[j,y]=x.useState(null),A=["BTCUSDT","ETHUSDT","SOLUSDT","ADAUSDT","DOTUSDT","AVAXUSDT","BNBUSDT","XRPUSDT","MATICUSDT","LINKUSDT","UNIUSDT","LTCUSDT"],M=async s=>{s.preventDefault(),f(!0),y(null);try{let r=[];if(a.useCustomPairs&&a.customPairs.trim()){if(r=a.customPairs.split(/[\n,]/).map(b=>b.trim().toUpperCase()).filter(b=>b.length>0),r.length===0)throw new Error("Please enter at least one trading pair")}else r=[a.symbol];const m={name:a.name,exchange:a.exchange,tradingType:a.tradingType,symbol:a.useCustomPairs?r[0]:a.symbol,symbols:r,customPairs:a.useCustomPairs?a.customPairs:void 0,timeframe:a.timeframe,leverage:a.leverage,riskLevel:a.riskLevel,tradeAmount:a.tradeAmount,stopLoss:a.stopLoss,takeProfit:a.takeProfit,strategy:o,strategyConfig:t,status:"stopped",pnl:0,pnlPercentage:0,totalTrades:0,winRate:0,lastTradeAt:void 0};console.log("Frontend: Sending bot data:",m),console.log("Frontend: Exchange value:",a.exchange,"Type:",typeof a.exchange),console.log("Frontend: Symbols to trade:",r),await C(m);const L=r.length>1?`Bot "${a.name}" created with ${r.length} trading pairs!`:`Bot "${a.name}" created successfully!`;g("/bots",{state:{message:L}})}catch(r){y(r.message||"Failed to create bot")}finally{f(!1)}},i=(s,r)=>{P(m=>({...m,[s]:r}))},d=(s,r)=>{D(m=>({...m,[s]:r}))};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(R,{title:"Create New Bot"}),e.jsx("div",{className:"pt-16 pb-6 px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("button",{onClick:()=>g("/bots"),className:"mr-3 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-arrow-left-line text-xl"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Bot"})]}),j&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-error-warning-line text-red-500 mr-2"}),e.jsx("span",{className:"text-red-700",children:j})]})}),S&&u&&e.jsx(p,{className:"mb-6 bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("i",{className:"ri-test-tube-line text-2xl text-green-600 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Creating Bot from Backtest Results"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Win Rate"}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[(N=u.win_rate)==null?void 0:N.toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Total PnL"}),e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",(T=u.total_pnl)==null?void 0:T.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Total Trades"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u.total_trades})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Sharpe Ratio"}),e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(k=u.sharpe_ratio)==null?void 0:k.toFixed(2)})]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"This configuration is based on a successful backtest. Review and adjust settings as needed before creating your bot."})]})}),e.jsxs("form",{onSubmit:M,className:"space-y-6",children:[e.jsxs(p,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Basic Configuration"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bot Name"}),e.jsx("input",{type:"text",value:a.name,onChange:s=>i("name",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter bot name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exchange"}),e.jsxs("select",{value:a.exchange,onChange:s=>i("exchange",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"bybit",children:"Bybit"}),e.jsx("option",{value:"okx",children:"OKX"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trading Type"}),e.jsxs("select",{value:a.tradingType,onChange:s=>i("tradingType",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"spot",children:"Spot Trading"}),e.jsx("option",{value:"futures",children:"Futures Trading"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trading Pair Mode"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"pairMode",checked:!a.useCustomPairs,onChange:()=>i("useCustomPairs",!1),className:"mr-2"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Select from popular pairs"})]}),a.useCustomPairs?e.jsxs("div",{className:"space-y-2",children:[e.jsx("textarea",{value:a.customPairs,onChange:s=>i("customPairs",s.target.value),placeholder:`Enter pairs separated by comma or new line
Example: BTCUSDT, ETHUSDT, SOLUSDT`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,required:a.useCustomPairs}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enter trading pairs separated by commas (e.g., BTCUSDT, ETHUSDT, SOLUSDT) or one per line"})]}):e.jsx("select",{value:a.symbol,onChange:s=>i("symbol",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:A.map(s=>e.jsx("option",{value:s,children:s},s))}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"pairMode",checked:a.useCustomPairs,onChange:()=>i("useCustomPairs",!0),className:"mr-2"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Use custom pairs"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Frame"}),e.jsxs("select",{value:a.timeframe,onChange:s=>i("timeframe",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"1m",children:"1 Minute"}),e.jsx("option",{value:"5m",children:"5 Minutes"}),e.jsx("option",{value:"15m",children:"15 Minutes"}),e.jsx("option",{value:"1h",children:"1 Hour"}),e.jsx("option",{value:"2h",children:"2 Hours"}),e.jsx("option",{value:"3h",children:"3 Hours"}),e.jsx("option",{value:"4h",children:"4 Hours"}),e.jsx("option",{value:"1d",children:"1 Day"}),e.jsx("option",{value:"1w",children:"1 Week"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Chart interval for technical analysis"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Leverage"}),e.jsxs("select",{value:a.leverage,onChange:s=>i("leverage",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:1,children:"1x"}),e.jsx("option",{value:2,children:"2x"}),e.jsx("option",{value:3,children:"3x"}),e.jsx("option",{value:5,children:"5x"}),e.jsx("option",{value:10,children:"10x"}),e.jsx("option",{value:20,children:"20x"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Risk Level"}),e.jsxs("select",{value:a.riskLevel,onChange:s=>i("riskLevel",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"low",children:"Low Risk"}),e.jsx("option",{value:"medium",children:"Medium Risk"}),e.jsx("option",{value:"high",children:"High Risk"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trade Amount (USD)"}),e.jsx("input",{type:"number",value:a.tradeAmount,onChange:s=>i("tradeAmount",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"10",max:"10000",step:"10",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Base trade amount in USD (will be multiplied by leverage and risk level)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stop Loss (%)"}),e.jsx("input",{type:"number",value:a.stopLoss,onChange:s=>i("stopLoss",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0.5",max:"10",step:"0.5",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum loss percentage before closing position"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Take Profit (%)"}),e.jsx("input",{type:"number",value:a.takeProfit,onChange:s=>i("takeProfit",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",max:"20",step:"0.5",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Target profit percentage before closing position"})]})]})]}),e.jsxs(p,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Strategy Parameters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RSI Threshold"}),e.jsx("input",{type:"number",value:o.rsiThreshold,onChange:s=>d("rsiThreshold",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"30",max:"90",step:"5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ADX Threshold"}),e.jsx("input",{type:"number",value:o.adxThreshold,onChange:s=>d("adxThreshold",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"10",max:"50",step:"5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BB Width Threshold"}),e.jsx("input",{type:"number",value:o.bbWidthThreshold,onChange:s=>d("bbWidthThreshold",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0.01",max:"0.1",step:"0.005"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"EMA Slope"}),e.jsx("input",{type:"number",value:o.emaSlope,onChange:s=>d("emaSlope",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0.1",max:"2",step:"0.1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ATR Percentage"}),e.jsx("input",{type:"number",value:o.atrPercentage,onChange:s=>d("atrPercentage",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",max:"10",step:"0.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"VWAP Distance"}),e.jsx("input",{type:"number",value:o.vwapDistance,onChange:s=>d("vwapDistance",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0.5",max:"3",step:"0.1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Momentum Threshold"}),e.jsx("input",{type:"number",value:o.momentumThreshold,onChange:s=>d("momentumThreshold",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0.1",max:"2",step:"0.1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Samples for ML"}),e.jsx("input",{type:"number",value:o.minSamplesForML,onChange:s=>d("minSamplesForML",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"50",max:"500",step:"25"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:o.useMLPrediction,onChange:s=>d("useMLPrediction",s.target.checked),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Enable ML Prediction (fallback to rules until min samples)"})]})})]}),e.jsxs(p,{className:"p-6",children:[e.jsxs("button",{type:"button",onClick:()=>F(!h),className:"w-full flex items-center justify-between text-left",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"âš™ï¸ Advanced Strategy Configuration"}),e.jsx("i",{className:`ri-arrow-${h?"up":"down"}-s-line text-2xl text-gray-600`})]}),h&&e.jsxs("div",{className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-3",children:"ðŸŽ¯ Directional Bias"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bias Mode"}),e.jsxs("select",{value:t.bias_mode,onChange:s=>n(r=>({...r,bias_mode:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"auto",children:"Auto (Follow HTF Trend)"}),e.jsx("option",{value:"long-only",children:"Long Only"}),e.jsx("option",{value:"short-only",children:"Short Only"}),e.jsx("option",{value:"both",children:"Both Directions"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"HTF Timeframe"}),e.jsxs("select",{value:t.htf_timeframe,onChange:s=>n(r=>({...r,htf_timeframe:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"4h",children:"4 Hours"}),e.jsx("option",{value:"1d",children:"1 Day"}),e.jsx("option",{value:"1h",children:"1 Hour"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"HTF Trend Indicator"}),e.jsxs("select",{value:t.htf_trend_indicator,onChange:s=>n(r=>({...r,htf_trend_indicator:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"EMA200",children:"EMA 200"}),e.jsx("option",{value:"SMA200",children:"SMA 200"}),e.jsx("option",{value:"Supertrend",children:"Supertrend"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["ADX Min (HTF): ",t.adx_min_htf]}),e.jsx("input",{type:"range",value:t.adx_min_htf,onChange:s=>n(r=>({...r,adx_min_htf:parseFloat(s.target.value)})),className:"w-full",min:"15",max:"35",step:"1"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Minimum ADX for trend confirmation"})]})]})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-3",children:"ðŸ“Š Regime Filter"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Regime Mode"}),e.jsxs("select",{value:t.regime_mode,onChange:s=>n(r=>({...r,regime_mode:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"auto",children:"Auto Detect"}),e.jsx("option",{value:"trend",children:"Trend Only"}),e.jsx("option",{value:"mean-reversion",children:"Mean Reversion Only"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["ADX Trend Min: ",t.adx_trend_min]}),e.jsx("input",{type:"range",value:t.adx_trend_min,onChange:s=>n(r=>({...r,adx_trend_min:parseFloat(s.target.value)})),className:"w-full",min:"20",max:"35",step:"1"}),e.jsx("p",{className:"text-xs text-gray-500",children:"ADX â‰¥ this = trending"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["ADX Mean Rev Max: ",t.adx_meanrev_max]}),e.jsx("input",{type:"range",value:t.adx_meanrev_max,onChange:s=>n(r=>({...r,adx_meanrev_max:parseFloat(s.target.value)})),className:"w-full",min:"15",max:"25",step:"1"}),e.jsx("p",{className:"text-xs text-gray-500",children:"ADX â‰¤ this = ranging"})]})]})]}),e.jsxs("div",{className:"border-l-4 border-red-500 pl-4",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-3",children:"ðŸ›¡ï¸ Risk Management"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Risk Per Trade: ",t.risk_per_trade_pct,"%"]}),e.jsx("input",{type:"range",value:t.risk_per_trade_pct,onChange:s=>n(r=>({...r,risk_per_trade_pct:parseFloat(s.target.value)})),className:"w-full",min:"0.25",max:"2.0",step:"0.25"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Daily Loss Limit: ",t.daily_loss_limit_pct,"%"]}),e.jsx("input",{type:"range",value:t.daily_loss_limit_pct,onChange:s=>n(r=>({...r,daily_loss_limit_pct:parseFloat(s.target.value)})),className:"w-full",min:"1",max:"10",step:"0.5"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Max Trades/Day: ",t.max_trades_per_day]}),e.jsx("input",{type:"range",value:t.max_trades_per_day,onChange:s=>n(r=>({...r,max_trades_per_day:parseInt(s.target.value)})),className:"w-full",min:"2",max:"20",step:"1"})]})]})]}),e.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-3",children:"ðŸŽ¯ Exit Strategy"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["TP1 (R): ",t.tp1_r]}),e.jsx("input",{type:"range",value:t.tp1_r,onChange:s=>n(r=>({...r,tp1_r:parseFloat(s.target.value)})),className:"w-full",min:"0.5",max:"3.0",step:"0.25"}),e.jsx("p",{className:"text-xs text-gray-500",children:"First take profit (R = Risk units)"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["TP2 (R): ",t.tp2_r]}),e.jsx("input",{type:"range",value:t.tp2_r,onChange:s=>n(r=>({...r,tp2_r:parseFloat(s.target.value)})),className:"w-full",min:"1.0",max:"5.0",step:"0.25"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Second take profit"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["TP1 Size: ",(t.tp1_size*100).toFixed(0),"%"]}),e.jsx("input",{type:"range",value:t.tp1_size,onChange:s=>n(r=>({...r,tp1_size:parseFloat(s.target.value)})),className:"w-full",min:"0.25",max:"0.75",step:"0.05"}),e.jsx("p",{className:"text-xs text-gray-500",children:"% to close at TP1"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"âš¡ Quick Presets"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsx("button",{type:"button",onClick:()=>n({...t,bias_mode:"auto",regime_mode:"trend",risk_per_trade_pct:.5,max_trades_per_day:6,tp1_r:1.5,tp2_r:3}),className:"px-4 py-2 bg-white border-2 border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50 font-medium",children:"ðŸ¢ Conservative"}),e.jsx("button",{type:"button",onClick:()=>n({...t,bias_mode:"auto",regime_mode:"auto",risk_per_trade_pct:.75,max_trades_per_day:8,tp1_r:1,tp2_r:2}),className:"px-4 py-2 bg-white border-2 border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50 font-medium",children:"âš–ï¸ Balanced"}),e.jsx("button",{type:"button",onClick:()=>n({...t,bias_mode:"both",regime_mode:"auto",risk_per_trade_pct:1,max_trades_per_day:12,tp1_r:.8,tp2_r:1.5}),className:"px-4 py-2 bg-white border-2 border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50 font-medium",children:"ðŸš€ Aggressive"})]})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(w,{type:"button",variant:"secondary",onClick:()=>g("/bots"),className:"flex-1",children:"Cancel"}),e.jsx(w,{type:"submit",variant:"primary",loading:v,className:"flex-1",children:v?"Creating Bot...":"Create Bot"})]})]})]})})]})}export{q as default};
//# sourceMappingURL=page-fe60e5e3.js.map
