import{j as e,u,r as o,a as j,A as f,b as N}from"./index-saG1DHHi.js";import{H as p}from"./Header-M2Qxtr8K.js";import{N as y}from"./Navigation-DIttmz_A.js";import{C as d}from"./Card-C1vMKp8k.js";import{B as h}from"./Button-Dot_qHsB.js";import{u as b}from"./useBots-le-rFvjl.js";function v({title:t,value:r,change:i,changeType:c,icon:a}){const l={positive:"text-green-600",negative:"text-red-600",neutral:"text-gray-600"};return e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:r}),e.jsx("p",{className:`text-sm mt-1 ${l[c]}`,children:i})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:`${a} text-blue-600 text-xl`})})]})})}function w(){const t=[{title:"Total PnL",value:"$12,847",change:"+8.2% today",changeType:"positive",icon:"ri-money-dollar-circle-line"},{title:"Active Bots",value:"24",change:"3 new today",changeType:"positive",icon:"ri-robot-line"},{title:"Win Rate",value:"73.5%",change:"+2.1% this week",changeType:"positive",icon:"ri-trophy-line"},{title:"Total Trades",value:"1,247",change:"89 today",changeType:"neutral",icon:"ri-exchange-line"}];return e.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.map((r,i)=>e.jsx(v,{...r},i))})}function C({bots:t=[]}){const r=u(),i=s=>{switch(s){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"stopped":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},c=s=>s==="bybit"?"ri-currency-line":"ri-exchange-line",a=s=>s>=0?"text-green-600":"text-red-600",l=Array.isArray(t)?t:[];return e.jsxs(d,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Active Bots"}),e.jsxs(h,{variant:"secondary",size:"sm",onClick:()=>r("/create-bot"),children:[e.jsx("i",{className:"ri-add-line mr-1"}),"New Bot"]})]}),e.jsx("div",{className:"space-y-3",children:l.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"ri-robot-line text-2xl text-gray-400"})}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No active bots yet"}),e.jsx(h,{variant:"primary",onClick:()=>r("/create-bot"),className:"text-sm",children:"Create Your First Bot"})]}):l.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:`${c(s.exchange)} text-blue-600`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.symbol," â€¢ ",s.exchange.toUpperCase()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i(s.status)}`,children:s.status})}),e.jsxs("p",{className:`text-sm font-medium mt-1 ${a(s.pnl||0)}`,children:[(s.pnl||0)>=0?"+":"",(s.pnl||0).toFixed(2)]})]})]},s.id))})]})}function S({marketData:t}){const r=a=>a>=0?"text-green-600":"text-red-600",i=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:4}),c=t||[];return e.jsxs(d,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Market Overview"}),e.jsx("button",{className:"text-blue-600 text-sm font-medium",children:"Refresh"})]}),e.jsx("div",{className:"space-y-3",children:c.length>0?c.slice(0,6).map((a,l)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-currency-line text-orange-600 text-sm"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:a.symbol}),e.jsxs("p",{className:"text-xs text-gray-500",children:["RSI: ",a.rsi?.toFixed(1)||"N/A"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-medium text-gray-900",children:i(a.price)}),e.jsxs("p",{className:`text-sm ${r(a.change24h)}`,children:[a.change24h>=0?"+":"",a.change24h.toFixed(2),"%"]})]})]},l)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("i",{className:"ri-line-chart-line text-gray-400 text-lg"})}),e.jsx("p",{className:"text-gray-500 text-sm",children:"No market data available"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Check your connection and try again"})]})})]})}function B(t="BTCUSDT",r="bybit"){const[i,c]=o.useState(null),[a,l]=o.useState(!0),[s,x]=o.useState(null),m=async()=>{try{l(!0);const n=await j(`${f.MARKET_DATA}?symbol=${t}&exchange=${r}`);c(n),x(null)}catch(n){x(n instanceof Error?n.message:"Failed to fetch market data")}finally{l(!1)}};return o.useEffect(()=>{m();const n=setInterval(m,3e4);return()=>clearInterval(n)},[t,r]),{data:i,loading:a,error:s,refetch:m}}function k(){const[t,r]=o.useState([]),[i,c]=o.useState(!0),[a,l]=o.useState(null),s=async()=>{try{c(!0);const x=await j(`${f.API_KEYS}/balances`);r(x.balances||[]),l(null)}catch(x){l(x instanceof Error?x.message:"Failed to fetch balances")}finally{c(!1)}};return o.useEffect(()=>{s();const x=setInterval(s,6e4);return()=>clearInterval(x)},[]),{balances:t,loading:i,error:a,refetch:s}}function A({balances:t}){const r=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(s),i=s=>{switch(s.toLowerCase()){case"bybit":return"ri-currency-line";case"okx":return"ri-exchange-line";default:return"ri-exchange-line"}},c=s=>{switch(s.toLowerCase()){case"bybit":return"text-yellow-600 bg-yellow-100";case"okx":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},a=s=>{switch(s){case"connected":return"text-green-600 bg-green-100";case"disconnected":return"text-gray-600 bg-gray-100";case"error":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},l=s=>{switch(s){case"connected":return"ri-check-line";case"disconnected":return"ri-close-line";case"error":return"ri-error-warning-line";default:return"ri-question-line"}};return!t||t.length===0?e.jsxs(d,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Exchange Balances"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"})]}),e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("i",{className:"ri-wallet-line text-4xl mb-2"}),e.jsx("p",{children:"No exchange connections found"}),e.jsx("p",{className:"text-sm",children:"Connect your exchange API keys to view balances"})]})]}):e.jsxs(d,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Exchange Balances"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm text-green-600",children:"Connected"})]})]}),e.jsx("div",{className:"space-y-4",children:t.map((s,x)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${c(s.exchange)}`,children:e.jsx("i",{className:`${i(s.exchange)} text-lg`})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.exchange.toUpperCase()}),e.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${a(s.status)}`,children:[e.jsx("i",{className:`${l(s.status)} text-xs`}),e.jsx("span",{children:s.status})]})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Updated ",new Date(s.lastUpdated).toLocaleTimeString()]}),s.error&&e.jsxs("p",{className:"text-sm text-red-500 mt-1",children:["Error: ",s.error]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-gray-900",children:r(s.totalBalance)}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Available: ",r(s.availableBalance)]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Locked: ",r(s.lockedBalance)]})]})]}),s.assets&&s.assets.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.assets.slice(0,4).map((m,n)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:m.asset}),e.jsx("span",{className:"font-medium",children:m.total.toFixed(4)})]},n))})]},x))})]})}function L(){const t=u(),{user:r}=N(),{bots:i}=b();B();const{balances:c}=k(),[a,l]=o.useState(!1);o.useEffect(()=>{!localStorage.getItem("welcome_shown")&&r&&(l(!0),localStorage.setItem("welcome_shown","true"))},[r]);const s=i.filter(n=>n.status==="active");i.reduce((n,g)=>n+(g.totalPnL||0),0);const x=()=>{l(!1),t("/create-bot")},m=()=>{confirm("Are you sure you want to reset all data? This will clear all bots, trades, and settings.")&&(localStorage.clear(),window.location.reload())};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(p,{title:"Pablo",subtitle:"AI Trading Platform",rightAction:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(h,{variant:"danger",size:"sm",onClick:m,children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"Reset"]}),e.jsx("button",{onClick:()=>t("/help"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-notification-line text-xl text-gray-600"})})]})}),e.jsxs("div",{className:"pt-20 pb-20 px-4 space-y-6",children:[a&&e.jsx(d,{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-robot-line text-2xl text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Welcome to Pablo! ðŸŽ‰"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Ready to start automated trading? Create your first AI trading bot and let it work 24/7 for you."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(h,{variant:"primary",onClick:x,className:"text-sm",children:"Create First Bot"}),e.jsx(h,{variant:"secondary",onClick:()=>l(!1),className:"text-sm",children:"Maybe Later"})]})]}),e.jsx("button",{onClick:()=>l(!1),className:"p-1 hover:bg-blue-100 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-gray-500"})})]})}),e.jsx(w,{}),e.jsxs(d,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(h,{variant:"primary",onClick:()=>t("/create-bot"),className:"h-12 flex items-center justify-center",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Create Bot"]}),e.jsxs(h,{variant:"secondary",onClick:()=>t("/bots"),className:"h-12 flex items-center justify-center",children:[e.jsx("i",{className:"ri-robot-line mr-2"}),"Manage Bots"]})]})]}),e.jsx(C,{}),e.jsx(A,{balances:c}),e.jsx(S,{}),e.jsxs(d,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),e.jsx(h,{variant:"secondary",onClick:()=>t("/trades"),className:"text-sm",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:[{type:"trade",message:"BTC Scalper opened LONG position",time:"2 minutes ago",icon:"ri-arrow-up-line",color:"green"},{type:"profit",message:"ETH Momentum closed with +$45.20 profit",time:"15 minutes ago",icon:"ri-money-dollar-circle-line",color:"green"},{type:"alert",message:"SOL Trader hit stop loss at -2.5%",time:"1 hour ago",icon:"ri-alert-line",color:"red"},{type:"bot",message:'New bot "DOGE Swing" created',time:"2 hours ago",icon:"ri-robot-line",color:"blue"}].map((n,g)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`w-8 h-8 bg-${n.color}-100 rounded-full flex items-center justify-center`,children:e.jsx("i",{className:`${n.icon} text-${n.color}-600`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.message}),e.jsx("p",{className:"text-xs text-gray-500",children:n.time})]})]},g))})]}),e.jsxs(d,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Today's Performance"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"+$156.30"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total P&L"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"12"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Trades Executed"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"75%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:s.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Bots"})]})]})]}),e.jsxs(d,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Trading Tips"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-lightbulb-line text-blue-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"Risk Management"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Never risk more than 2-3% of your capital on a single trade. Use stop losses to protect your investments."})]})]})}),e.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-bar-chart-line text-green-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-900 mb-1",children:"Diversification"}),e.jsx("p",{className:"text-sm text-green-700",children:"Spread your trades across different cryptocurrencies and strategies to reduce overall risk."})]})]})})]})]})]}),e.jsx(y,{})]})}export{L as default};
//# sourceMappingURL=page-DkHVacr4.js.map
