{"version":3,"file":"page-4e35ba7b.js","sources":["../../src/components/bot/BotActivityLogs.tsx","../../src/services/botReport.ts","../../src/components/bot/BotReportViewer.tsx","../../src/services/activityReport.ts","../../src/components/activity/ActivityReportGenerator.tsx","../../src/pages/bot-activity/page.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport Card from '../../components/base/Card';\r\nimport Button from '../../components/base/Button';\r\nimport { BotActivityLog, BotActivity } from '../../hooks/useBotActivity';\r\n\r\ninterface BotActivityLogsProps {\r\n  activity: BotActivity;\r\n  onClearLogs: (botId: string) => void;\r\n  onSimulateActivity: (botId: string) => void;\r\n}\r\n\r\nexport default function BotActivityLogs({ activity, onClearLogs, onSimulateActivity }: BotActivityLogsProps) {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [filter, setFilter] = useState<'all' | 'info' | 'warning' | 'error' | 'success'>('all');\r\n  const [timeSinceActivity, setTimeSinceActivity] = useState<string>('');\r\n\r\n  // Update time since activity every second for real-time display\r\n  useEffect(() => {\r\n    const updateTime = () => {\r\n      if (activity.lastActivity) {\r\n        const timeDiff = Date.now() - new Date(activity.lastActivity).getTime();\r\n        const seconds = Math.floor(timeDiff / 1000);\r\n        const minutes = Math.floor(seconds / 60);\r\n        const hours = Math.floor(minutes / 60);\r\n        \r\n        if (hours > 0) {\r\n          setTimeSinceActivity(`${hours}h ${minutes % 60}m ago`);\r\n        } else if (minutes > 0) {\r\n          setTimeSinceActivity(`${minutes}m ${seconds % 60}s ago`);\r\n        } else {\r\n          setTimeSinceActivity(`${seconds}s ago`);\r\n        }\r\n      }\r\n    };\r\n    \r\n    updateTime();\r\n    const interval = setInterval(updateTime, 1000);\r\n    return () => clearInterval(interval);\r\n  }, [activity.lastActivity]);\r\n\r\n  const getLevelColor = (level: string) => {\r\n    switch (level) {\r\n      case 'info': return 'text-blue-600 bg-blue-50';\r\n      case 'warning': return 'text-yellow-600 bg-yellow-50';\r\n      case 'error': return 'text-red-600 bg-red-50';\r\n      case 'success': return 'text-green-600 bg-green-50';\r\n      default: return 'text-gray-600 bg-gray-50';\r\n    }\r\n  };\r\n\r\n  const getCategoryIcon = (category: string) => {\r\n    switch (category) {\r\n      case 'market': return 'ri-line-chart-line';\r\n      case 'trade': return 'ri-exchange-line';\r\n      case 'strategy': return 'ri-brain-line';\r\n      case 'system': return 'ri-settings-line';\r\n      case 'error': return 'ri-error-warning-line';\r\n      default: return 'ri-information-line';\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'running': return 'ri-play-circle-fill text-green-500';\r\n      case 'paused': return 'ri-pause-circle-fill text-yellow-500';\r\n      case 'stopped': return 'ri-stop-circle-fill text-red-500';\r\n      default: return 'ri-question-mark-circle-fill text-gray-500';\r\n    }\r\n  };\r\n\r\n  const getExecutionStateInfo = (state?: string) => {\r\n    switch (state) {\r\n      case 'executing':\r\n        return {\r\n          icon: 'ri-loader-4-line animate-spin',\r\n          color: 'bg-purple-100 text-purple-800 border-purple-200',\r\n          label: 'Executing',\r\n          badge: 'Executing Trade'\r\n        };\r\n      case 'analyzing':\r\n        return {\r\n          icon: 'ri-bar-chart-line',\r\n          color: 'bg-blue-100 text-blue-800 border-blue-200',\r\n          label: 'Analyzing',\r\n          badge: 'Analyzing Market'\r\n        };\r\n      case 'waiting':\r\n        return {\r\n          icon: 'ri-time-line',\r\n          color: 'bg-yellow-100 text-yellow-800 border-yellow-200',\r\n          label: 'Waiting',\r\n          badge: 'Waiting for Signal'\r\n        };\r\n      case 'error':\r\n        return {\r\n          icon: 'ri-error-warning-line',\r\n          color: 'bg-red-100 text-red-800 border-red-200',\r\n          label: 'Error',\r\n          badge: 'Error Detected'\r\n        };\r\n      case 'idle':\r\n        return {\r\n          icon: 'ri-pause-line',\r\n          color: 'bg-gray-100 text-gray-800 border-gray-200',\r\n          label: 'Idle',\r\n          badge: 'Not Running'\r\n        };\r\n      default:\r\n        return {\r\n          icon: 'ri-question-line',\r\n          color: 'bg-gray-100 text-gray-800 border-gray-200',\r\n          label: 'Unknown',\r\n          badge: 'Unknown State'\r\n        };\r\n    }\r\n  };\r\n\r\n  const filteredLogs = activity.logs.filter(log => \r\n    filter === 'all' || log.level === filter\r\n  );\r\n\r\n  // Extract performance metrics from activity logs\r\n  const performanceLog = activity.logs.find(log => \r\n    log.message?.includes('Performance Update') || \r\n    log.details?.winTrades !== undefined\r\n  );\r\n  \r\n  const performanceMetrics = performanceLog?.details || null;\r\n  const winTrades = performanceMetrics?.winTrades || 0;\r\n  const lossTrades = performanceMetrics?.lossTrades || 0;\r\n  const drawdown = performanceMetrics?.drawdown || 0;\r\n  const drawdownPercentage = performanceMetrics?.drawdownPercentage || 0;\r\n  const winRate = performanceMetrics?.winRate || 0;\r\n  const totalTrades = performanceMetrics?.totalTrades || 0;\r\n\r\n  const formatTime = (timestamp: string) => {\r\n    return new Date(timestamp).toLocaleTimeString();\r\n  };\r\n\r\n  const formatDate = (timestamp: string) => {\r\n    return new Date(timestamp).toLocaleDateString();\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-4\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <div className=\"flex items-center space-x-3 flex-1\">\r\n          <i className={`${getStatusIcon(activity.status)} text-xl`}></i>\r\n          <div className=\"flex-1 min-w-0\">\r\n            <div className=\"flex items-center gap-2 mb-1\">\r\n              <h3 className=\"font-semibold text-gray-900\">{activity.botName}</h3>\r\n              {activity.executionState && (\r\n                <span className={`px-2 py-0.5 rounded-full text-xs font-medium border ${getExecutionStateInfo(activity.executionState).color}`}>\r\n                  <i className={`${getExecutionStateInfo(activity.executionState).icon} mr-1`}></i>\r\n                  {getExecutionStateInfo(activity.executionState).badge}\r\n                </span>\r\n              )}\r\n            </div>\r\n            <p className=\"text-sm text-gray-600 mb-1\">\r\n              {activity.currentAction || 'No recent activity'}\r\n            </p>\r\n            <div className=\"flex items-center gap-3 text-xs text-gray-500\">\r\n              {timeSinceActivity && (\r\n                <span>\r\n                  <i className=\"ri-time-line mr-1\"></i>\r\n                  {timeSinceActivity}\r\n                </span>\r\n              )}\r\n              {activity.lastExecutionTime && (\r\n                <span>\r\n                  <i className=\"ri-exchange-line mr-1\"></i>\r\n                  Last trade: {new Date(activity.lastExecutionTime).toLocaleString()}\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n            activity.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'\r\n          }`}>\r\n            {activity.status}\r\n          </span>\r\n          <Button\r\n            variant=\"secondary\"\r\n            size=\"sm\"\r\n            onClick={() => setExpanded(!expanded)}\r\n          >\r\n            <i className={`ri-${expanded ? 'arrow-up' : 'arrow-down'}-line`}></i>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Performance Metrics Section */}\r\n      {performanceMetrics && (\r\n        <div className=\"mb-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-lg\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <h4 className=\"text-sm font-semibold text-gray-900 flex items-center\">\r\n              <i className=\"ri-line-chart-line mr-2 text-blue-600\"></i>\r\n              Performance Metrics\r\n            </h4>\r\n            {performanceLog && (\r\n              <span className=\"text-xs text-gray-500\">\r\n                Updated: {formatTime(performanceLog.timestamp)}\r\n              </span>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n            {/* Win Trades */}\r\n            <div className=\"bg-white rounded-lg p-3 border border-green-200\">\r\n              <div className=\"flex items-center justify-between mb-1\">\r\n                <span className=\"text-xs text-gray-600\">Win Trades</span>\r\n                <i className=\"ri-arrow-up-line text-green-600\"></i>\r\n              </div>\r\n              <div className=\"text-xl font-bold text-green-600\">{winTrades}</div>\r\n              <div className=\"text-xs text-gray-500\">\r\n                {totalTrades > 0 ? `${((winTrades / totalTrades) * 100).toFixed(1)}%` : '0%'} of total\r\n              </div>\r\n            </div>\r\n\r\n            {/* Loss Trades */}\r\n            <div className=\"bg-white rounded-lg p-3 border border-red-200\">\r\n              <div className=\"flex items-center justify-between mb-1\">\r\n                <span className=\"text-xs text-gray-600\">Loss Trades</span>\r\n                <i className=\"ri-arrow-down-line text-red-600\"></i>\r\n              </div>\r\n              <div className=\"text-xl font-bold text-red-600\">{lossTrades}</div>\r\n              <div className=\"text-xs text-gray-500\">\r\n                {totalTrades > 0 ? `${((lossTrades / totalTrades) * 100).toFixed(1)}%` : '0%'} of total\r\n              </div>\r\n            </div>\r\n\r\n            {/* Win Rate */}\r\n            <div className=\"bg-white rounded-lg p-3 border border-blue-200\">\r\n              <div className=\"flex items-center justify-between mb-1\">\r\n                <span className=\"text-xs text-gray-600\">Win Rate</span>\r\n                <i className=\"ri-percent-line text-blue-600\"></i>\r\n              </div>\r\n              <div className=\"text-xl font-bold text-blue-600\">{winRate.toFixed(1)}%</div>\r\n              <div className=\"text-xs text-gray-500\">\r\n                {totalTrades} total trades\r\n              </div>\r\n            </div>\r\n\r\n            {/* Drawdown */}\r\n            <div className=\"bg-white rounded-lg p-3 border border-orange-200\">\r\n              <div className=\"flex items-center justify-between mb-1\">\r\n                <span className=\"text-xs text-gray-600\">Drawdown</span>\r\n                <i className=\"ri-line-chart-line text-orange-600\"></i>\r\n              </div>\r\n              <div className=\"text-xl font-bold text-orange-600\">\r\n                ${drawdown.toFixed(2)}\r\n              </div>\r\n              <div className=\"text-xs text-gray-500\">\r\n                {drawdownPercentage.toFixed(1)}% of peak\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Additional Performance Details */}\r\n          {performanceMetrics.peakPnL !== undefined && (\r\n            <div className=\"mt-3 pt-3 border-t border-blue-200 grid grid-cols-2 gap-2 text-xs\">\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-600\">Peak P&L:</span>\r\n                <span className=\"font-medium text-green-600\">\r\n                  ${(performanceMetrics.peakPnL || 0).toFixed(2)}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-600\">Current P&L:</span>\r\n                <span className={`font-medium ${\r\n                  (performanceMetrics.currentPnL || 0) >= 0 ? 'text-green-600' : 'text-red-600'\r\n                }`}>\r\n                  ${(performanceMetrics.currentPnL || 0).toFixed(2)}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Activity Stats */}\r\n      <div className=\"grid grid-cols-4 gap-4 mb-4\">\r\n        <div className=\"text-center\">\r\n          <div className=\"text-lg font-bold text-blue-600\">{activity.logs.length}</div>\r\n          <div className=\"text-xs text-gray-500\">Total Logs</div>\r\n        </div>\r\n        <div className=\"text-center\">\r\n          <div className=\"text-lg font-bold text-green-600\">{activity.successCount}</div>\r\n          <div className=\"text-xs text-gray-500\">Success</div>\r\n        </div>\r\n        <div className=\"text-center\">\r\n          <div className=\"text-lg font-bold text-yellow-600\">{activity.logs.filter(l => l.level === 'warning').length}</div>\r\n          <div className=\"text-xs text-gray-500\">Warnings</div>\r\n        </div>\r\n        <div className=\"text-center\">\r\n          <div className=\"text-lg font-bold text-red-600\">{activity.errorCount}</div>\r\n          <div className=\"text-xs text-gray-500\">Errors</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Current Status - Real-time Activity Indicator */}\r\n      <div className=\"mb-4 p-3 rounded-lg border-2\" style={{\r\n        backgroundColor: activity.executionState === 'executing' ? '#f3e8ff' :\r\n                         activity.executionState === 'analyzing' ? '#eff6ff' :\r\n                         activity.executionState === 'waiting' ? '#fefce8' :\r\n                         activity.executionState === 'error' ? '#fef2f2' :\r\n                         '#f9fafb',\r\n        borderColor: activity.executionState === 'executing' ? '#c084fc' :\r\n                     activity.executionState === 'analyzing' ? '#60a5fa' :\r\n                     activity.executionState === 'waiting' ? '#eab308' :\r\n                     activity.executionState === 'error' ? '#f87171' :\r\n                     '#e5e7eb'\r\n      }}>\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            {activity.executionState && (\r\n              <i className={`${getExecutionStateInfo(activity.executionState).icon} text-lg ${\r\n                activity.executionState === 'executing' ? 'text-purple-600' :\r\n                activity.executionState === 'analyzing' ? 'text-blue-600' :\r\n                activity.executionState === 'waiting' ? 'text-yellow-600' :\r\n                activity.executionState === 'error' ? 'text-red-600' :\r\n                'text-gray-600'\r\n              }`}></i>\r\n            )}\r\n            <div>\r\n              <span className={`text-sm font-medium ${\r\n                activity.executionState === 'executing' ? 'text-purple-800' :\r\n                activity.executionState === 'analyzing' ? 'text-blue-800' :\r\n                activity.executionState === 'waiting' ? 'text-yellow-800' :\r\n                activity.executionState === 'error' ? 'text-red-800' :\r\n                'text-gray-800'\r\n              }`}>\r\n                {activity.executionState ? getExecutionStateInfo(activity.executionState).label : 'Status'}:\r\n              </span>\r\n              <span className={`ml-2 text-sm ${\r\n                activity.executionState === 'executing' ? 'text-purple-700' :\r\n                activity.executionState === 'analyzing' ? 'text-blue-700' :\r\n                activity.executionState === 'waiting' ? 'text-yellow-700' :\r\n                activity.executionState === 'error' ? 'text-red-700' :\r\n                'text-gray-700'\r\n              }`}>\r\n                {activity.currentAction || 'No activity'}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          {activity.waitingFor && (\r\n            <div className=\"text-xs text-gray-600\">\r\n              <i className=\"ri-hourglass-line mr-1\"></i>\r\n              {activity.waitingFor}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Expanded Logs */}\r\n      {expanded && (\r\n        <div className=\"space-y-4\">\r\n          {/* Filter Buttons */}\r\n          <div className=\"flex space-x-2\">\r\n            {['all', 'info', 'warning', 'error', 'success'].map((level) => (\r\n              <button\r\n                key={level}\r\n                onClick={() => setFilter(level as any)}\r\n                className={`px-3 py-1 rounded-full text-xs font-medium ${\r\n                  filter === level\r\n                    ? 'bg-blue-600 text-white'\r\n                    : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n                }`}\r\n              >\r\n                {level.charAt(0).toUpperCase() + level.slice(1)}\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Logs List */}\r\n          <div className=\"max-h-96 overflow-y-auto space-y-2\">\r\n            {filteredLogs.length === 0 ? (\r\n              <div className=\"text-center py-8 text-gray-500\">\r\n                <i className=\"ri-file-list-line text-2xl mb-2\"></i>\r\n                <p>No logs found</p>\r\n              </div>\r\n            ) : (\r\n              filteredLogs.map((log) => (\r\n                <div key={log.id} className=\"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg\">\r\n                  <div className={`w-8 h-8 rounded-full flex items-center justify-center ${getLevelColor(log.level)}`}>\r\n                    <i className={`${getCategoryIcon(log.category)} text-sm`}></i>\r\n                  </div>\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center justify-between mb-1\">\r\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${getLevelColor(log.level)}`}>\r\n                        {log.level}\r\n                      </span>\r\n                      <span className=\"text-xs text-gray-500\">\r\n                        {formatTime(log.timestamp)}\r\n                      </span>\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-900 mb-1\">{log.message}</p>\r\n                    {log.details && (\r\n                      <details className=\"text-xs text-gray-600\">\r\n                        <summary className=\"cursor-pointer hover:text-gray-800\">Details</summary>\r\n                        <pre className=\"mt-1 p-2 bg-white rounded border text-xs overflow-x-auto\">\r\n                          {JSON.stringify(log.details, null, 2)}\r\n                        </pre>\r\n                      </details>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex space-x-2 pt-4 border-t border-gray-200\">\r\n            <Button\r\n              variant=\"secondary\"\r\n              size=\"sm\"\r\n              onClick={() => onSimulateActivity(activity.botId)}\r\n            >\r\n              <i className=\"ri-play-line mr-1\"></i>\r\n              Simulate Activity\r\n            </Button>\r\n            <Button\r\n              variant=\"danger\"\r\n              size=\"sm\"\r\n              onClick={() => onClearLogs(activity.botId)}\r\n            >\r\n              <i className=\"ri-delete-bin-line mr-1\"></i>\r\n              Clear Logs\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n","import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = import.meta.env.VITE_PUBLIC_SUPABASE_URL || import.meta.env.VITE_SUPABASE_URL;\r\nconst supabaseAnonKey = import.meta.env.VITE_PUBLIC_SUPABASE_ANON_KEY || import.meta.env.VITE_SUPABASE_ANON_KEY;\r\n\r\nexport interface BotReport {\r\n  generated_at: string;\r\n  overview: {\r\n    total_bots: number;\r\n    active_bots: number;\r\n    total_pnl: number;\r\n    total_pnl_from_trades?: number;\r\n    total_pnl_from_bots?: number;\r\n    total_fees: number;\r\n    net_profit_loss: number;\r\n    total_trades: number;\r\n  };\r\n  active_bots: Array<{\r\n    id: string;\r\n    name: string;\r\n    symbol: string;\r\n    exchange: string;\r\n    trading_type: string;\r\n    status: string;\r\n    pnl: number;\r\n    total_fees: number;\r\n    net_profit_loss: number;\r\n    total_trades: number;\r\n    win_rate: number;\r\n    win_trades?: number;\r\n    loss_trades?: number;\r\n    drawdown?: number;\r\n    drawdown_percentage?: number;\r\n    peak_pnl?: number;\r\n    current_pnl?: number;\r\n    last_trade_at: string | null;\r\n  }>;\r\n  contract_summary: Array<{\r\n    contract: string;\r\n    exchange: string;\r\n    total_trades: number;\r\n    total_net_pnl: number;\r\n    total_fees_paid: number;\r\n    net_profit_loss: number;\r\n    win_trades?: number;\r\n    loss_trades?: number;\r\n    win_rate?: number;\r\n    drawdown?: number;\r\n    drawdown_percentage?: number;\r\n    peak_pnl?: number;\r\n    current_pnl?: number;\r\n  }>;\r\n  recent_trades: Array<{\r\n    id: string;\r\n    symbol: string;\r\n    pnl: number;\r\n    fee: number;\r\n    amount: number;\r\n    price: number;\r\n    created_at: string;\r\n  }>;\r\n}\r\n\r\nexport async function generateBotReport(): Promise<BotReport> {\r\n  const supabase = createClient(supabaseUrl!, supabaseAnonKey!);\r\n  \r\n  // Get current session\r\n  const { data: { session } } = await supabase.auth.getSession();\r\n  if (!session) {\r\n    throw new Error('Not authenticated');\r\n  }\r\n\r\n  // Call the edge function\r\n  const response = await fetch(`${supabaseUrl}/functions/v1/bot-report`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Authorization': `Bearer ${session.access_token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n\r\n  if (!response.ok) {\r\n    const error = await response.json();\r\n    throw new Error(error.error || 'Failed to generate report');\r\n  }\r\n\r\n  const data = await response.json();\r\n  return data.report;\r\n}\r\n\r\n","import { useState } from 'react';\r\nimport Card from '../base/Card';\r\nimport Button from '../base/Button';\r\nimport { generateBotReport, BotReport } from '../../services/botReport';\r\n\r\nexport default function BotReportViewer() {\r\n  const [report, setReport] = useState<BotReport | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const handleGenerateReport = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const data = await generateBotReport();\r\n      setReport(data);\r\n    } catch (err: any) {\r\n      setError(err.message || 'Failed to generate report');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2,\r\n    }).format(value);\r\n  };\r\n\r\n  const handleDownloadReport = (reportData: BotReport, format: 'csv' | 'json') => {\r\n    if (!reportData) return;\r\n\r\n    if (format === 'json') {\r\n      // Download as JSON\r\n      const jsonStr = JSON.stringify(reportData, null, 2);\r\n      const blob = new Blob([jsonStr], { type: 'application/json' });\r\n      const url = URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `bot-performance-report-${new Date().toISOString().split('T')[0]}.json`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      URL.revokeObjectURL(url);\r\n    } else {\r\n      // Download as CSV\r\n      let csv = 'Bot Performance Report\\n';\r\n      csv += `Generated: ${new Date(reportData.generated_at).toLocaleString()}\\n\\n`;\r\n      \r\n      // Overview Section\r\n      csv += 'OVERVIEW SUMMARY\\n';\r\n      csv += `Total Bots,${reportData.overview.total_bots}\\n`;\r\n      csv += `Active Bots,${reportData.overview.active_bots}\\n`;\r\n      csv += `Total P&L,${reportData.overview.total_pnl.toFixed(2)}\\n`;\r\n      csv += `Total Fees Paid,${reportData.overview.total_fees.toFixed(2)}\\n`;\r\n      csv += `Net Profit/Loss,${reportData.overview.net_profit_loss.toFixed(2)}\\n`;\r\n      csv += `Total Trades,${reportData.overview.total_trades}\\n\\n`;\r\n      \r\n      // Contract Performance Section\r\n      if (reportData.contract_summary && reportData.contract_summary.length > 0) {\r\n        csv += 'CONTRACT PERFORMANCE\\n';\r\n        csv += 'Contract,Exchange,Trades,Total P&L,Total Fees Paid,Net Profit/Loss\\n';\r\n        reportData.contract_summary.forEach((contract) => {\r\n          csv += `${contract.contract},${contract.exchange},${contract.total_trades},${contract.total_net_pnl.toFixed(2)},${contract.total_fees_paid.toFixed(2)},${contract.net_profit_loss.toFixed(2)}\\n`;\r\n        });\r\n        csv += '\\n';\r\n      }\r\n      \r\n      // Active Bots Section\r\n      if (reportData.active_bots && reportData.active_bots.length > 0) {\r\n        csv += 'ACTIVE BOTS\\n';\r\n        csv += 'Bot Name,Symbol,Exchange,P&L,Total Fees,Net Profit/Loss,Total Trades,Win Rate\\n';\r\n        reportData.active_bots.forEach((bot) => {\r\n          csv += `${bot.name},${bot.symbol},${bot.exchange},${bot.pnl.toFixed(2)},${(bot.total_fees || 0).toFixed(2)},${(bot.net_profit_loss || 0).toFixed(2)},${bot.total_trades},${bot.win_rate.toFixed(2)}%\\n`;\r\n        });\r\n      }\r\n      \r\n      const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\r\n      const url = URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `bot-performance-report-${new Date().toISOString().split('T')[0]}.csv`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      URL.revokeObjectURL(url);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-6\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <div>\r\n          <h3 className=\"text-lg font-semibold text-gray-900\">Bot Performance Report</h3>\r\n          <p className=\"text-sm text-gray-500\">Generate comprehensive report with P&L and fees</p>\r\n        </div>\r\n        <div className=\"flex space-x-2\">\r\n          {report && (\r\n            <Button\r\n              variant=\"secondary\"\r\n              onClick={() => handleDownloadReport(report, 'csv')}\r\n            >\r\n              <i className=\"ri-download-line mr-2\"></i>\r\n              Download CSV\r\n            </Button>\r\n          )}\r\n          {report && (\r\n            <Button\r\n              variant=\"secondary\"\r\n              onClick={() => handleDownloadReport(report, 'json')}\r\n            >\r\n              <i className=\"ri-download-line mr-2\"></i>\r\n              Download JSON\r\n            </Button>\r\n          )}\r\n          <Button\r\n            variant=\"primary\"\r\n            onClick={handleGenerateReport}\r\n            disabled={loading}\r\n          >\r\n            {loading ? (\r\n              <>\r\n                <i className=\"ri-loader-4-line animate-spin mr-2\"></i>\r\n                Generating...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <i className=\"ri-file-chart-line mr-2\"></i>\r\n                Generate Report\r\n              </>\r\n            )}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n          <p className=\"text-red-600 text-sm\">{error}</p>\r\n        </div>\r\n      )}\r\n\r\n      {report && (\r\n        <div className=\"space-y-6\">\r\n          {/* Overview Summary */}\r\n          <div className=\"border-l-4 border-blue-500 pl-4\">\r\n            <h4 className=\"text-md font-semibold text-gray-900 mb-3\">Overview Summary</h4>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-blue-600\">{report.overview.total_bots}</div>\r\n                <div className=\"text-sm text-gray-500\">Total Bots</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-green-600\">{report.overview.active_bots}</div>\r\n                <div className=\"text-sm text-gray-500\">Active Bots</div>\r\n              </div>\r\n              <div>\r\n                <div className={`text-2xl font-bold ${report.overview.total_pnl >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                  {formatCurrency(report.overview.total_pnl)}\r\n                </div>\r\n                <div className=\"text-sm text-gray-500\">Total P&L</div>\r\n              </div>\r\n              <div>\r\n                <div className={`text-2xl font-bold ${report.overview.net_profit_loss >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                  {formatCurrency(report.overview.net_profit_loss)}\r\n                </div>\r\n                <div className=\"text-sm text-gray-500\">Net Profit/Loss</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4\">\r\n              <div>\r\n                <div className=\"text-lg font-semibold text-gray-700\">{formatCurrency(report.overview.total_fees)}</div>\r\n                <div className=\"text-xs text-gray-500\">Total Fees Paid</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-lg font-semibold text-gray-700\">{report.overview.total_trades}</div>\r\n                <div className=\"text-xs text-gray-500\">Total Trades</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-xs text-gray-500\">\r\n                  Generated: {new Date(report.generated_at).toLocaleString()}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Contract Summary */}\r\n          {report.contract_summary && report.contract_summary.length > 0 && (\r\n            <div>\r\n              <h4 className=\"text-md font-semibold text-gray-900 mb-3\">Contract Performance</h4>\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full text-sm\">\r\n                  <thead>\r\n                    <tr className=\"border-b border-gray-200\">\r\n                      <th className=\"text-left py-2 px-3\">Contract</th>\r\n                      <th className=\"text-left py-2 px-3\">Exchange</th>\r\n                      <th className=\"text-right py-2 px-3\">Trades</th>\r\n                      <th className=\"text-right py-2 px-3\">Win/Loss</th>\r\n                      <th className=\"text-right py-2 px-3\">Win Rate</th>\r\n                      <th className=\"text-right py-2 px-3\">Total P&L</th>\r\n                      <th className=\"text-right py-2 px-3\">Fees</th>\r\n                      <th className=\"text-right py-2 px-3\">Net Profit/Loss</th>\r\n                      <th className=\"text-right py-2 px-3\">Drawdown</th>\r\n                      <th className=\"text-right py-2 px-3\">Peak/Current P&L</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {report.contract_summary.map((contract, idx) => (\r\n                      <tr key={idx} className=\"border-b border-gray-100\">\r\n                        <td className=\"py-2 px-3 font-medium\">{contract.contract}</td>\r\n                        <td className=\"py-2 px-3 text-gray-600\">{contract.exchange}</td>\r\n                        <td className=\"py-2 px-3 text-right\">{contract.total_trades}</td>\r\n                        <td className=\"py-2 px-3 text-right\">\r\n                          <span className=\"text-green-600 font-medium\">{contract.win_trades || 0}</span>\r\n                          <span className=\"text-gray-400 mx-1\">/</span>\r\n                          <span className=\"text-red-600 font-medium\">{contract.loss_trades || 0}</span>\r\n                        </td>\r\n                        <td className=\"py-2 px-3 text-right\">\r\n                          <span className={`font-medium ${(contract.win_rate || 0) >= 50 ? 'text-green-600' : 'text-red-600'}`}>\r\n                            {(contract.win_rate || 0).toFixed(1)}%\r\n                          </span>\r\n                        </td>\r\n                        <td className={`py-2 px-3 text-right font-medium ${contract.total_net_pnl >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                          {formatCurrency(contract.total_net_pnl)}\r\n                        </td>\r\n                        <td className=\"py-2 px-3 text-right text-gray-600\">{formatCurrency(contract.total_fees_paid)}</td>\r\n                        <td className={`py-2 px-3 text-right font-semibold ${contract.net_profit_loss >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                          {formatCurrency(contract.net_profit_loss)}\r\n                        </td>\r\n                        <td className=\"py-2 px-3 text-right\">\r\n                          <div className=\"text-red-600 font-medium\">{formatCurrency(contract.drawdown || 0)}</div>\r\n                          <div className=\"text-xs text-gray-500\">{(contract.drawdown_percentage || 0).toFixed(1)}%</div>\r\n                        </td>\r\n                        <td className=\"py-2 px-3 text-right\">\r\n                          <div className=\"text-green-600 font-medium\">{formatCurrency(contract.peak_pnl || 0)}</div>\r\n                          <div className={`text-xs font-medium ${(contract.current_pnl || 0) >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                            {formatCurrency(contract.current_pnl || 0)}\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Active Bots */}\r\n          {report.active_bots && report.active_bots.length > 0 && (\r\n            <div>\r\n              <h4 className=\"text-md font-semibold text-gray-900 mb-3\">Active Bots</h4>\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full text-sm\">\r\n                  <thead>\r\n                    <tr className=\"border-b border-gray-200\">\r\n                      <th className=\"text-left py-2 px-3\">Bot Name</th>\r\n                      <th className=\"text-left py-2 px-3\">Symbol</th>\r\n                      <th className=\"text-left py-2 px-3\">Exchange</th>\r\n                      <th className=\"text-right py-2 px-3\">P&L</th>\r\n                      <th className=\"text-right py-2 px-3\">Fees</th>\r\n                      <th className=\"text-right py-2 px-3\">Net Profit/Loss</th>\r\n                      <th className=\"text-right py-2 px-3\">Trades</th>\r\n                      <th className=\"text-right py-2 px-3\">Win/Loss</th>\r\n                      <th className=\"text-right py-2 px-3\">Win Rate</th>\r\n                      <th className=\"text-right py-2 px-3\">Drawdown</th>\r\n                      <th className=\"text-right py-2 px-3\">Peak/Current P&L</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {report.active_bots.map((bot) => (\r\n                      <tr key={bot.id} className=\"border-b border-gray-100\">\r\n                        <td className=\"py-2 px-3 font-medium\">{bot.name}</td>\r\n                        <td className=\"py-2 px-3 text-gray-600\">{bot.symbol}</td>\r\n                        <td className=\"py-2 px-3 text-gray-600\">{bot.exchange}</td>\r\n                        <td className={`py-2 px-3 text-right font-medium ${bot.pnl >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                          {formatCurrency(bot.pnl)}\r\n                        </td>\r\n                        <td className=\"py-2 px-3 text-right text-gray-600\">{formatCurrency(bot.total_fees || 0)}</td>\r\n                        <td className={`py-2 px-3 text-right font-semibold ${(bot.net_profit_loss || 0) >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                          {formatCurrency(bot.net_profit_loss || 0)}\r\n                        </td>\r\n                        <td className=\"py-2 px-3 text-right\">{bot.total_trades}</td>\r\n                        <td className=\"py-2 px-3 text-right\">\r\n                          <span className=\"text-green-600 font-medium\">{bot.win_trades || 0}</span>\r\n                          <span className=\"text-gray-400 mx-1\">/</span>\r\n                          <span className=\"text-red-600 font-medium\">{bot.loss_trades || 0}</span>\r\n                        </td>\r\n                        <td className=\"py-2 px-3 text-right\">\r\n                          <span className={`font-medium ${bot.win_rate >= 50 ? 'text-green-600' : 'text-red-600'}`}>\r\n                            {bot.win_rate.toFixed(1)}%\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"py-2 px-3 text-right\">\r\n                          <div className=\"text-red-600 font-medium\">{formatCurrency(bot.drawdown || 0)}</div>\r\n                          <div className=\"text-xs text-gray-500\">{(bot.drawdown_percentage || 0).toFixed(1)}%</div>\r\n                        </td>\r\n                        <td className=\"py-2 px-3 text-right\">\r\n                          <div className=\"text-green-600 font-medium\">{formatCurrency(bot.peak_pnl || 0)}</div>\r\n                          <div className={`text-xs font-medium ${(bot.current_pnl || 0) >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                            {formatCurrency(bot.current_pnl || 0)}\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n\r\n","import { supabase } from '../lib/supabase';\r\n\r\nexport interface ActivityReport {\r\n  generated_at: string;\r\n  period: {\r\n    start: string;\r\n    end: string;\r\n  };\r\n  overview: {\r\n    total_bots: number;\r\n    active_bots: number;\r\n    total_logs: number;\r\n    errors: number;\r\n    warnings: number;\r\n    successes: number;\r\n    info_logs: number;\r\n  };\r\n  bot_activity: Array<{\r\n    bot_id: string;\r\n    bot_name: string;\r\n    status: string;\r\n    total_logs: number;\r\n    errors: number;\r\n    warnings: number;\r\n    successes: number;\r\n    last_activity: string;\r\n    recent_logs: Array<{\r\n      timestamp: string;\r\n      level: string;\r\n      category: string;\r\n      message: string;\r\n      details?: any;\r\n    }>;\r\n  }>;\r\n  performance_summary: {\r\n    total_trades: number;\r\n    total_pnl: number;\r\n    win_rate: number;\r\n    profitable_bots: number;\r\n  };\r\n  errors_summary: Array<{\r\n    bot_name: string;\r\n    error_count: number;\r\n    last_error: string;\r\n    common_errors: string[];\r\n  }>;\r\n}\r\n\r\nexport async function generateActivityReport(\r\n  startDate?: Date,\r\n  endDate?: Date\r\n): Promise<ActivityReport> {\r\n  const { data: { user } } = await supabase.auth.getUser();\r\n  if (!user) throw new Error('Not authenticated');\r\n\r\n  const end = endDate || new Date();\r\n  const start = startDate || new Date(Date.now() - 7 * 24 * 60 * 60 * 1000); // Default: last 7 days\r\n\r\n  // Fetch bots\r\n  const { data: bots, error: botsError } = await supabase\r\n    .from('trading_bots')\r\n    .select('id, name, status')\r\n    .eq('user_id', user.id);\r\n\r\n  if (botsError) throw botsError;\r\n\r\n  // Fetch activity logs for all bots\r\n  const botIds = bots?.map(b => b.id) || [];\r\n  \r\n  let activityLogs: any[] = [];\r\n  if (botIds.length > 0) {\r\n    const { data: logs, error: logsError } = await supabase\r\n      .from('bot_activity_logs')\r\n      .select('*')\r\n      .in('bot_id', botIds)\r\n      .gte('timestamp', start.toISOString())\r\n      .lte('timestamp', end.toISOString())\r\n      .order('timestamp', { ascending: false })\r\n      .limit(10000);\r\n\r\n    if (logsError) throw logsError;\r\n    activityLogs = logs || [];\r\n  }\r\n\r\n  // Fetch trades for performance summary\r\n  const { data: trades, error: tradesError } = await supabase\r\n    .from('trades')\r\n    .select('pnl, status, created_at')\r\n    .eq('user_id', user.id)\r\n    .gte('created_at', start.toISOString())\r\n    .lte('created_at', end.toISOString());\r\n\r\n  if (tradesError) throw tradesError;\r\n\r\n  // Calculate overview\r\n  const totalBots = bots?.length || 0;\r\n  const activeBots = bots?.filter(b => b.status === 'running').length || 0;\r\n  const total_logs = activityLogs.length;\r\n  const errors = activityLogs.filter(l => l.level === 'error').length;\r\n  const warnings = activityLogs.filter(l => l.level === 'warning').length;\r\n  const successes = activityLogs.filter(l => l.level === 'success').length;\r\n  const info_logs = activityLogs.filter(l => l.level === 'info').length;\r\n\r\n  // Calculate performance summary\r\n  const filledTrades = trades?.filter(t => t.status === 'filled' || t.status === 'closed') || [];\r\n  const totalTrades = filledTrades.length;\r\n  const totalPnL = filledTrades.reduce((sum, t) => sum + (parseFloat(t.pnl || '0') || 0), 0);\r\n  const winningTrades = filledTrades.filter(t => (parseFloat(t.pnl || '0') || 0) > 0).length;\r\n  const winRate = totalTrades > 0 ? (winningTrades / totalTrades) * 100 : 0;\r\n\r\n  // Group logs by bot\r\n  const botActivityMap = new Map<string, any>();\r\n  \r\n  bots?.forEach(bot => {\r\n    botActivityMap.set(bot.id, {\r\n      bot_id: bot.id,\r\n      bot_name: bot.name,\r\n      status: bot.status,\r\n      total_logs: 0,\r\n      errors: 0,\r\n      warnings: 0,\r\n      successes: 0,\r\n      last_activity: '',\r\n      recent_logs: []\r\n    });\r\n  });\r\n\r\n  activityLogs.forEach(log => {\r\n    const botData = botActivityMap.get(log.bot_id);\r\n    if (botData) {\r\n      botData.total_logs++;\r\n      if (log.level === 'error') botData.errors++;\r\n      if (log.level === 'warning') botData.warnings++;\r\n      if (log.level === 'success') botData.successes++;\r\n      \r\n      if (!botData.last_activity || log.timestamp > botData.last_activity) {\r\n        botData.last_activity = log.timestamp;\r\n      }\r\n\r\n      // Keep last 10 logs per bot\r\n      if (botData.recent_logs.length < 10) {\r\n        botData.recent_logs.push({\r\n          timestamp: log.timestamp,\r\n          level: log.level,\r\n          category: log.category,\r\n          message: log.message,\r\n          details: log.details\r\n        });\r\n      }\r\n    }\r\n  });\r\n\r\n  // Calculate errors summary\r\n  const errorsSummary: any[] = [];\r\n  botActivityMap.forEach((botData, botId) => {\r\n    if (botData.errors > 0) {\r\n      const botErrorLogs = activityLogs.filter(\r\n        l => l.bot_id === botId && l.level === 'error'\r\n      );\r\n      const errorMessages = botErrorLogs.map(l => l.message);\r\n      const commonErrors = Array.from(\r\n        new Set(errorMessages.slice(0, 5))\r\n      );\r\n\r\n      errorsSummary.push({\r\n        bot_name: botData.bot_name,\r\n        error_count: botData.errors,\r\n        last_error: botErrorLogs[0]?.timestamp || '',\r\n        common_errors: commonErrors\r\n      });\r\n    }\r\n  });\r\n\r\n  // Calculate profitable bots\r\n  const { data: botPnL } = await supabase\r\n    .from('trading_bots')\r\n    .select('id, pnl')\r\n    .eq('user_id', user.id)\r\n    .in('id', botIds);\r\n\r\n  const profitableBots = botPnL?.filter(b => (parseFloat(b.pnl || '0') || 0) > 0).length || 0;\r\n\r\n  return {\r\n    generated_at: new Date().toISOString(),\r\n    period: {\r\n      start: start.toISOString(),\r\n      end: end.toISOString()\r\n    },\r\n    overview: {\r\n      total_bots: totalBots,\r\n      active_bots: activeBots,\r\n      total_logs: total_logs,\r\n      errors: errors,\r\n      warnings: warnings,\r\n      successes: successes,\r\n      info_logs: info_logs\r\n    },\r\n    bot_activity: Array.from(botActivityMap.values()),\r\n    performance_summary: {\r\n      total_trades: totalTrades,\r\n      total_pnl,\r\n      win_rate: winRate,\r\n      profitable_bots: profitableBots\r\n    },\r\n    errors_summary: errorsSummary\r\n  };\r\n}\r\n\r\n","/**\r\n * Activity Report Generator Component\r\n * Generates comprehensive reports from bot activity logs\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport Card from '../base/Card';\r\nimport Button from '../base/Button';\r\nimport { generateActivityReport, ActivityReport } from '../../services/activityReport';\r\n\r\nexport default function ActivityReportGenerator() {\r\n  const [report, setReport] = useState<ActivityReport | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [selectedPeriod, setSelectedPeriod] = useState<'7d' | '30d' | '60d' | '90d' | 'custom'>('7d');\r\n\r\n  const handleGenerateReport = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      let startDate: Date | undefined;\r\n      const endDate = new Date();\r\n\r\n      switch (selectedPeriod) {\r\n        case '7d':\r\n          startDate = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000);\r\n          break;\r\n        case '30d':\r\n          startDate = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000);\r\n          break;\r\n        case '60d':\r\n          startDate = new Date(Date.now() - 60 * 24 * 60 * 60 * 1000);\r\n          break;\r\n        case '90d':\r\n          startDate = new Date(Date.now() - 90 * 24 * 60 * 60 * 1000);\r\n          break;\r\n        default:\r\n          startDate = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000);\r\n      }\r\n\r\n      const data = await generateActivityReport(startDate, endDate);\r\n      setReport(data);\r\n    } catch (err: any) {\r\n      setError(err.message || 'Failed to generate report');\r\n      console.error('Report generation error:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleExportPDF = () => {\r\n    if (!report) return;\r\n\r\n    // Create a printable HTML document\r\n    const htmlContent = generatePDFContent(report);\r\n    const printWindow = window.open('', '_blank');\r\n    if (printWindow) {\r\n      printWindow.document.write(htmlContent);\r\n      printWindow.document.close();\r\n      printWindow.focus();\r\n      setTimeout(() => {\r\n        printWindow.print();\r\n      }, 250);\r\n    }\r\n  };\r\n\r\n  const handleExportCSV = () => {\r\n    if (!report) return;\r\n\r\n    let csv = 'Activity Report\\n';\r\n    csv += `Generated: ${new Date(report.generated_at).toLocaleString()}\\n`;\r\n    csv += `Period: ${new Date(report.period.start).toLocaleDateString()} - ${new Date(report.period.end).toLocaleDateString()}\\n\\n`;\r\n\r\n    // Overview\r\n    csv += 'OVERVIEW\\n';\r\n    csv += `Total Bots,${report.overview.total_bots}\\n`;\r\n    csv += `Active Bots,${report.overview.active_bots}\\n`;\r\n    csv += `Total Logs,${report.overview.total_logs}\\n`;\r\n    csv += `Errors,${report.overview.errors}\\n`;\r\n    csv += `Warnings,${report.overview.warnings}\\n`;\r\n    csv += `Successes,${report.overview.successes}\\n`;\r\n    csv += `Info Logs,${report.overview.info_logs}\\n\\n`;\r\n\r\n    // Performance Summary\r\n    csv += 'PERFORMANCE SUMMARY\\n';\r\n    csv += `Total Trades,${report.performance_summary.total_trades}\\n`;\r\n    csv += `Total P&L,${report.performance_summary.total_pnl.toFixed(2)}\\n`;\r\n    csv += `Win Rate,${report.performance_summary.win_rate.toFixed(2)}%\\n`;\r\n    csv += `Profitable Bots,${report.performance_summary.profitable_bots}\\n\\n`;\r\n\r\n    // Bot Activity\r\n    csv += 'BOT ACTIVITY\\n';\r\n    csv += 'Bot Name,Status,Total Logs,Errors,Warnings,Successes,Last Activity\\n';\r\n    report.bot_activity.forEach(bot => {\r\n      csv += `${bot.bot_name},${bot.status},${bot.total_logs},${bot.errors},${bot.warnings},${bot.successes},${new Date(bot.last_activity).toLocaleString()}\\n`;\r\n    });\r\n    csv += '\\n';\r\n\r\n    // Errors Summary\r\n    if (report.errors_summary.length > 0) {\r\n      csv += 'ERRORS SUMMARY\\n';\r\n      csv += 'Bot Name,Error Count,Last Error,Common Errors\\n';\r\n      report.errors_summary.forEach(error => {\r\n        csv += `${error.bot_name},${error.error_count},${new Date(error.last_error).toLocaleString()},\"${error.common_errors.join('; ')}\"\\n`;\r\n      });\r\n    }\r\n\r\n    // Download CSV\r\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `activity-report-${new Date().toISOString().split('T')[0]}.csv`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const handleExportJSON = () => {\r\n    if (!report) return;\r\n\r\n    const jsonStr = JSON.stringify(report, null, 2);\r\n    const blob = new Blob([jsonStr], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `activity-report-${new Date().toISOString().split('T')[0]}.json`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-6\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <div>\r\n          <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n            <i className=\"ri-file-chart-2-line mr-2 text-blue-600\"></i>\r\n            Activity Report Generator\r\n          </h3>\r\n          <p className=\"text-sm text-gray-500 mt-1\">\r\n            Generate comprehensive reports from bot activity logs\r\n          </p>\r\n        </div>\r\n        <div className=\"flex space-x-2\">\r\n          {report && (\r\n            <>\r\n              <Button\r\n                variant=\"secondary\"\r\n                size=\"sm\"\r\n                onClick={handleExportPDF}\r\n              >\r\n                <i className=\"ri-file-pdf-line mr-2\"></i>\r\n                Export PDF\r\n              </Button>\r\n              <Button\r\n                variant=\"secondary\"\r\n                size=\"sm\"\r\n                onClick={handleExportCSV}\r\n              >\r\n                <i className=\"ri-file-excel-line mr-2\"></i>\r\n                Export CSV\r\n              </Button>\r\n              <Button\r\n                variant=\"secondary\"\r\n                size=\"sm\"\r\n                onClick={handleExportJSON}\r\n              >\r\n                <i className=\"ri-file-code-line mr-2\"></i>\r\n                Export JSON\r\n              </Button>\r\n            </>\r\n          )}\r\n          <Button\r\n            variant=\"primary\"\r\n            size=\"sm\"\r\n            onClick={handleGenerateReport}\r\n            disabled={loading}\r\n          >\r\n            {loading ? (\r\n              <>\r\n                <i className=\"ri-loader-4-line animate-spin mr-2\"></i>\r\n                Generating...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <i className=\"ri-file-chart-line mr-2\"></i>\r\n                Generate Report\r\n              </>\r\n            )}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Period Selection */}\r\n      <div className=\"mb-4\">\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n          Report Period\r\n        </label>\r\n        <div className=\"flex space-x-2\">\r\n          {['7d', '30d', '60d', '90d'].map((period) => (\r\n            <button\r\n              key={period}\r\n              onClick={() => setSelectedPeriod(period as any)}\r\n              className={`px-3 py-2 rounded text-sm font-medium ${\r\n                selectedPeriod === period\r\n                  ? 'bg-blue-600 text-white'\r\n                  : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n              }`}\r\n            >\r\n              Last {period}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n          <p className=\"text-red-600 text-sm\">{error}</p>\r\n        </div>\r\n      )}\r\n\r\n      {report && (\r\n        <div className=\"space-y-6 mt-6\">\r\n          {/* Overview Summary */}\r\n          <div className=\"border-l-4 border-blue-500 pl-4\">\r\n            <h4 className=\"text-md font-semibold text-gray-900 mb-3\">Overview Summary</h4>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-blue-600\">{report.overview.total_bots}</div>\r\n                <div className=\"text-sm text-gray-500\">Total Bots</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-green-600\">{report.overview.active_bots}</div>\r\n                <div className=\"text-sm text-gray-500\">Active Bots</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-red-600\">{report.overview.errors}</div>\r\n                <div className=\"text-sm text-gray-500\">Errors</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-yellow-600\">{report.overview.warnings}</div>\r\n                <div className=\"text-sm text-gray-500\">Warnings</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4\">\r\n              <div>\r\n                <div className=\"text-lg font-semibold text-gray-700\">{report.overview.total_logs}</div>\r\n                <div className=\"text-xs text-gray-500\">Total Logs</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-lg font-semibold text-green-600\">{report.overview.successes}</div>\r\n                <div className=\"text-xs text-gray-500\">Successes</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-xs text-gray-500\">\r\n                  Period: {new Date(report.period.start).toLocaleDateString()} - {new Date(report.period.end).toLocaleDateString()}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Performance Summary */}\r\n          <div>\r\n            <h4 className=\"text-md font-semibold text-gray-900 mb-3\">Performance Summary</h4>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n              <div className=\"bg-gray-50 p-3 rounded-lg\">\r\n                <div className=\"text-lg font-semibold text-gray-700\">{report.performance_summary.total_trades}</div>\r\n                <div className=\"text-xs text-gray-500\">Total Trades</div>\r\n              </div>\r\n              <div className={`p-3 rounded-lg ${(report.performance_summary?.total_pnl || 0) >= 0 ? 'bg-green-50' : 'bg-red-50'}`}>\r\n                <div className={`text-lg font-semibold ${(report.performance_summary?.total_pnl || 0) >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                  ${(report.performance_summary?.total_pnl || 0).toFixed(2)}\r\n                </div>\r\n                <div className=\"text-xs text-gray-500\">Total P&L</div>\r\n              </div>\r\n              <div className=\"bg-gray-50 p-3 rounded-lg\">\r\n                <div className=\"text-lg font-semibold text-gray-700\">{report.performance_summary.win_rate.toFixed(2)}%</div>\r\n                <div className=\"text-xs text-gray-500\">Win Rate</div>\r\n              </div>\r\n              <div className=\"bg-green-50 p-3 rounded-lg\">\r\n                <div className=\"text-lg font-semibold text-green-600\">{report.performance_summary.profitable_bots}</div>\r\n                <div className=\"text-xs text-gray-500\">Profitable Bots</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Bot Activity Table */}\r\n          <div>\r\n            <h4 className=\"text-md font-semibold text-gray-900 mb-3\">Bot Activity Details</h4>\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"w-full text-sm\">\r\n                <thead>\r\n                  <tr className=\"border-b border-gray-200\">\r\n                    <th className=\"text-left py-2 px-3\">Bot Name</th>\r\n                    <th className=\"text-left py-2 px-3\">Status</th>\r\n                    <th className=\"text-right py-2 px-3\">Total Logs</th>\r\n                    <th className=\"text-right py-2 px-3\">Errors</th>\r\n                    <th className=\"text-right py-2 px-3\">Warnings</th>\r\n                    <th className=\"text-right py-2 px-3\">Successes</th>\r\n                    <th className=\"text-left py-2 px-3\">Last Activity</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {report.bot_activity.map((bot, idx) => (\r\n                    <tr key={idx} className=\"border-b border-gray-100 hover:bg-gray-50\">\r\n                      <td className=\"py-2 px-3 font-medium\">{bot.bot_name}</td>\r\n                      <td className=\"py-2 px-3\">\r\n                        <span className={`px-2 py-1 rounded-full text-xs ${\r\n                          bot.status === 'running' ? 'bg-green-100 text-green-800' :\r\n                          bot.status === 'paused' ? 'bg-yellow-100 text-yellow-800' :\r\n                          'bg-gray-100 text-gray-800'\r\n                        }`}>\r\n                          {bot.status}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"py-2 px-3 text-right\">{bot.total_logs}</td>\r\n                      <td className=\"py-2 px-3 text-right text-red-600\">{bot.errors}</td>\r\n                      <td className=\"py-2 px-3 text-right text-yellow-600\">{bot.warnings}</td>\r\n                      <td className=\"py-2 px-3 text-right text-green-600\">{bot.successes}</td>\r\n                      <td className=\"py-2 px-3 text-gray-600 text-xs\">\r\n                        {bot.last_activity ? new Date(bot.last_activity).toLocaleString() : 'N/A'}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Errors Summary */}\r\n          {report.errors_summary.length > 0 && (\r\n            <div>\r\n              <h4 className=\"text-md font-semibold text-gray-900 mb-3 text-red-600\">Errors Summary</h4>\r\n              <div className=\"space-y-2\">\r\n                {report.errors_summary.map((error, idx) => (\r\n                  <div key={idx} className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                      <span className=\"font-medium text-gray-900\">{error.bot_name}</span>\r\n                      <span className=\"text-red-600 font-semibold\">{error.error_count} error(s)</span>\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-600 mb-1\">\r\n                      Last Error: {new Date(error.last_error).toLocaleString()}\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-700\">\r\n                      <strong>Common Errors:</strong> {error.common_errors.join(', ')}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n\r\nfunction generatePDFContent(report: ActivityReport): string {\r\n  return `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <title>Activity Report - ${new Date().toISOString().split('T')[0]}</title>\r\n  <style>\r\n    body {\r\n      font-family: Arial, sans-serif;\r\n      padding: 20px;\r\n      color: #333;\r\n    }\r\n    h1 {\r\n      color: #2563eb;\r\n      border-bottom: 2px solid #2563eb;\r\n      padding-bottom: 10px;\r\n    }\r\n    h2 {\r\n      color: #1f2937;\r\n      margin-top: 30px;\r\n      margin-bottom: 15px;\r\n    }\r\n    table {\r\n      width: 100%;\r\n      border-collapse: collapse;\r\n      margin: 20px 0;\r\n    }\r\n    th, td {\r\n      border: 1px solid #ddd;\r\n      padding: 8px;\r\n      text-align: left;\r\n    }\r\n    th {\r\n      background-color: #f3f4f6;\r\n      font-weight: bold;\r\n    }\r\n    .stat-box {\r\n      display: inline-block;\r\n      padding: 15px;\r\n      margin: 10px;\r\n      border: 1px solid #ddd;\r\n      border-radius: 5px;\r\n      min-width: 150px;\r\n    }\r\n    .stat-value {\r\n      font-size: 24px;\r\n      font-weight: bold;\r\n      color: #2563eb;\r\n    }\r\n    .stat-label {\r\n      font-size: 12px;\r\n      color: #666;\r\n      margin-top: 5px;\r\n    }\r\n    .error-box {\r\n      background-color: #fef2f2;\r\n      border-left: 4px solid #ef4444;\r\n      padding: 10px;\r\n      margin: 10px 0;\r\n    }\r\n    @media print {\r\n      body { padding: 0; }\r\n      .no-print { display: none; }\r\n    }\r\n  </style>\r\n</head>\r\n<body>\r\n  <h1>Bot Activity Report</h1>\r\n  <p><strong>Generated:</strong> ${new Date(report.generated_at).toLocaleString()}</p>\r\n  <p><strong>Period:</strong> ${new Date(report.period.start).toLocaleDateString()} - ${new Date(report.period.end).toLocaleDateString()}</p>\r\n  \r\n  <h2>Overview Summary</h2>\r\n  <div>\r\n    <div class=\"stat-box\">\r\n      <div class=\"stat-value\">${report.overview.total_bots}</div>\r\n      <div class=\"stat-label\">Total Bots</div>\r\n    </div>\r\n    <div class=\"stat-box\">\r\n      <div class=\"stat-value\">${report.overview.active_bots}</div>\r\n      <div class=\"stat-label\">Active Bots</div>\r\n    </div>\r\n    <div class=\"stat-box\">\r\n      <div class=\"stat-value\">${report.overview.total_logs}</div>\r\n      <div class=\"stat-label\">Total Logs</div>\r\n    </div>\r\n    <div class=\"stat-box\">\r\n      <div class=\"stat-value\" style=\"color: #ef4444;\">${report.overview.errors}</div>\r\n      <div class=\"stat-label\">Errors</div>\r\n    </div>\r\n    <div class=\"stat-box\">\r\n      <div class=\"stat-value\" style=\"color: #f59e0b;\">${report.overview.warnings}</div>\r\n      <div class=\"stat-label\">Warnings</div>\r\n    </div>\r\n  </div>\r\n  \r\n  <h2>Performance Summary</h2>\r\n  <table>\r\n    <tr>\r\n      <th>Metric</th>\r\n      <th>Value</th>\r\n    </tr>\r\n    <tr>\r\n      <td>Total Trades</td>\r\n      <td>${report.performance_summary.total_trades}</td>\r\n    </tr>\r\n    <tr>\r\n      <td>Total P&L</td>\r\n      <td>$${report.performance_summary.total_pnl.toFixed(2)}</td>\r\n    </tr>\r\n    <tr>\r\n      <td>Win Rate</td>\r\n      <td>${report.performance_summary.win_rate.toFixed(2)}%</td>\r\n    </tr>\r\n    <tr>\r\n      <td>Profitable Bots</td>\r\n      <td>${report.performance_summary.profitable_bots}</td>\r\n    </tr>\r\n  </table>\r\n  \r\n  <h2>Bot Activity Details</h2>\r\n  <table>\r\n    <tr>\r\n      <th>Bot Name</th>\r\n      <th>Status</th>\r\n      <th>Total Logs</th>\r\n      <th>Errors</th>\r\n      <th>Warnings</th>\r\n      <th>Successes</th>\r\n      <th>Last Activity</th>\r\n    </tr>\r\n    ${report.bot_activity.map(bot => `\r\n    <tr>\r\n      <td>${bot.bot_name}</td>\r\n      <td>${bot.status}</td>\r\n      <td>${bot.total_logs}</td>\r\n      <td>${bot.errors}</td>\r\n      <td>${bot.warnings}</td>\r\n      <td>${bot.successes}</td>\r\n      <td>${bot.last_activity ? new Date(bot.last_activity).toLocaleString() : 'N/A'}</td>\r\n    </tr>\r\n    `).join('')}\r\n  </table>\r\n  \r\n  ${report.errors_summary.length > 0 ? `\r\n  <h2>Errors Summary</h2>\r\n  ${report.errors_summary.map(error => `\r\n  <div class=\"error-box\">\r\n    <strong>${error.bot_name}</strong> - ${error.error_count} error(s)<br>\r\n    Last Error: ${new Date(error.last_error).toLocaleString()}<br>\r\n    Common Errors: ${error.common_errors.join(', ')}\r\n  </div>\r\n  `).join('')}\r\n  ` : ''}\r\n  \r\n  <script>\r\n    window.onload = function() {\r\n      setTimeout(function() {\r\n        window.print();\r\n      }, 500);\r\n    };\r\n  </script>\r\n</body>\r\n</html>\r\n  `;\r\n}\r\n\r\n","import { useState } from 'react';\nimport Header from '../../components/feature/Header';\nimport Navigation from '../../components/feature/Navigation';\nimport Button from '../../components/base/Button';\nimport Card from '../../components/base/Card';\nimport { useBotActivity } from '../../hooks/useBotActivity';\nimport { useBots } from '../../hooks/useBots';\nimport BotActivityLogs from '../../components/bot/BotActivityLogs';\nimport BotReportViewer from '../../components/bot/BotReportViewer';\nimport ActivityReportGenerator from '../../components/activity/ActivityReportGenerator';\n\nexport default function BotActivityPage() {\n  const { bots } = useBots();\n  const { activities, loading, addLog, clearBotLogs, simulateBotActivity } = useBotActivity(bots);\n  const [filter, setFilter] = useState<'all' | 'running' | 'paused' | 'stopped'>('all');\n\n  const filteredActivities = activities.filter(activity => \n    filter === 'all' || activity.status === filter\n  );\n\n  const handleAddTestLog = async (botId: string) => {\n    await addLog(botId, {\n      level: 'info',\n      category: 'system',\n      message: 'Manual test log added',\n      details: { timestamp: new Date().toISOString(), source: 'manual' }\n    });\n  };\n\n  const handleSimulateError = async (botId: string) => {\n    await addLog(botId, {\n      level: 'error',\n      category: 'error',\n      message: 'Simulated error for testing',\n      details: { error: 'Connection timeout', retry: true }\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Header \n        title=\"Bot Activity Logs\"\n        subtitle=\"Monitor bot operations and debug issues\"\n        rightAction={\n          <div className=\"flex space-x-2\">\n            <Button\n              variant=\"primary\"\n              size=\"sm\"\n              onClick={() => window.location.reload()}\n            >\n              <i className=\"ri-refresh-line mr-1\"></i>\n              Refresh\n            </Button>\n          </div>\n        }\n      />\n      \n      <div className=\"pt-20 pb-20 px-4 space-y-6\">\n        {/* Recent Activity Overview */}\n        <Card className=\"p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n              <i className=\"ri-pulse-line mr-2 text-blue-600 animate-pulse\"></i>\n              Recent Activity\n            </h3>\n            <span className=\"text-xs text-gray-500\">\n              Updates every 10s\n            </span>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {/* Executing Bots */}\n            {activities.filter(a => a.executionState === 'executing').length > 0 && (\n              <div className=\"p-4 bg-purple-50 border-2 border-purple-200 rounded-lg\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className=\"text-sm font-medium text-purple-800\">Executing</span>\n                  <i className=\"ri-loader-4-line animate-spin text-purple-600\"></i>\n                </div>\n                <div className=\"space-y-2\">\n                  {activities\n                    .filter(a => a.executionState === 'executing')\n                    .slice(0, 3)\n                    .map(activity => (\n                      <div key={activity.botId} className=\"text-sm\">\n                        <span className=\"font-medium text-purple-900\">{activity.botName}</span>\n                        <span className=\"text-purple-700 ml-2\"> {activity.currentAction}</span>\n                      </div>\n                    ))}\n                  {activities.filter(a => a.executionState === 'executing').length > 3 && (\n                    <div className=\"text-xs text-purple-600\">\n                      +{activities.filter(a => a.executionState === 'executing').length - 3} more\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/* Analyzing Bots */}\n            {activities.filter(a => a.executionState === 'analyzing').length > 0 && (\n              <div className=\"p-4 bg-blue-50 border-2 border-blue-200 rounded-lg\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className=\"text-sm font-medium text-blue-800\">Analyzing Market</span>\n                  <i className=\"ri-bar-chart-line text-blue-600\"></i>\n                </div>\n                <div className=\"space-y-2\">\n                  {activities\n                    .filter(a => a.executionState === 'analyzing')\n                    .slice(0, 3)\n                    .map(activity => (\n                      <div key={activity.botId} className=\"text-sm\">\n                        <span className=\"font-medium text-blue-900\">{activity.botName}</span>\n                        <span className=\"text-blue-700 ml-2\"> {activity.currentAction}</span>\n                      </div>\n                    ))}\n                  {activities.filter(a => a.executionState === 'analyzing').length > 3 && (\n                    <div className=\"text-xs text-blue-600\">\n                      +{activities.filter(a => a.executionState === 'analyzing').length - 3} more\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/* Waiting Bots */}\n            {activities.filter(a => a.executionState === 'waiting').length > 0 && (\n              <div className=\"p-4 bg-yellow-50 border-2 border-yellow-200 rounded-lg\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className=\"text-sm font-medium text-yellow-800\">Waiting</span>\n                  <i className=\"ri-time-line text-yellow-600\"></i>\n                </div>\n                <div className=\"space-y-2\">\n                  {activities\n                    .filter(a => a.executionState === 'waiting')\n                    .slice(0, 3)\n                    .map(activity => (\n                      <div key={activity.botId} className=\"text-sm\">\n                        <span className=\"font-medium text-yellow-900\">{activity.botName}</span>\n                        <span className=\"text-yellow-700 ml-2\">\n                          {activity.waitingFor ? ` Waiting: ${activity.waitingFor}` : ` ${activity.currentAction}`}\n                        </span>\n                      </div>\n                    ))}\n                  {activities.filter(a => a.executionState === 'waiting').length > 3 && (\n                    <div className=\"text-xs text-yellow-600\">\n                      +{activities.filter(a => a.executionState === 'waiting').length - 3} more\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Quick Stats Row */}\n          <div className=\"mt-4 pt-4 border-t border-gray-200 grid grid-cols-4 gap-4 text-center\">\n            <div>\n              <div className=\"text-2xl font-bold text-purple-600\">\n                {activities.filter(a => a.executionState === 'executing').length}\n              </div>\n              <div className=\"text-xs text-gray-500\">Executing</div>\n            </div>\n            <div>\n              <div className=\"text-2xl font-bold text-blue-600\">\n                {activities.filter(a => a.executionState === 'analyzing').length}\n              </div>\n              <div className=\"text-xs text-gray-500\">Analyzing</div>\n            </div>\n            <div>\n              <div className=\"text-2xl font-bold text-yellow-600\">\n                {activities.filter(a => a.executionState === 'waiting').length}\n              </div>\n              <div className=\"text-xs text-gray-500\">Waiting</div>\n            </div>\n            <div>\n              <div className=\"text-2xl font-bold text-red-600\">\n                {activities.filter(a => a.executionState === 'error').length}\n              </div>\n              <div className=\"text-xs text-gray-500\">Errors</div>\n            </div>\n          </div>\n        </Card>\n\n        {/* Filter Tabs */}\n        <div className=\"flex space-x-2 overflow-x-auto\">\n          {['all', 'running', 'paused', 'stopped'].map((status) => (\n            <button\n              key={status}\n              onClick={() => setFilter(status as any)}\n              className={`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap ${\n                filter === status\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-white text-gray-600 border border-gray-200'\n              }`}\n            >\n              {status.charAt(0).toUpperCase() + status.slice(1)}\n            </button>\n          ))}\n        </div>\n\n        {/* Summary Stats */}\n        <div className=\"grid grid-cols-4 gap-4\">\n          <Card className=\"p-4 text-center\">\n            <div className=\"text-2xl font-bold text-blue-600\">{activities.length}</div>\n            <div className=\"text-sm text-gray-500\">Total Bots</div>\n          </Card>\n          <Card className=\"p-4 text-center\">\n            <div className=\"text-2xl font-bold text-green-600\">\n              {activities.filter(a => a.status === 'running').length}\n            </div>\n            <div className=\"text-sm text-gray-500\">Active</div>\n          </Card>\n          <Card className=\"p-4 text-center\">\n            <div className=\"text-2xl font-bold text-yellow-600\">\n              {activities.reduce((sum, a) => sum + a.logs.filter(l => l.level === 'warning').length, 0)}\n            </div>\n            <div className=\"text-sm text-gray-500\">Warnings</div>\n          </Card>\n          <Card className=\"p-4 text-center\">\n            <div className=\"text-2xl font-bold text-red-600\">\n              {activities.reduce((sum, a) => sum + a.errorCount, 0)}\n            </div>\n            <div className=\"text-sm text-gray-500\">Errors</div>\n          </Card>\n        </div>\n\n        {/* Bot Activities */}\n        <div className=\"space-y-4\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n              <p className=\"text-gray-600\">Loading bot activities...</p>\n            </div>\n          ) : filteredActivities.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-robot-line text-4xl text-gray-400 mb-4\"></i>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No bots found</h3>\n              <p className=\"text-gray-500 mb-4\">Create some bots to see their activity logs</p>\n            </div>\n          ) : (\n            filteredActivities.map((activity) => (\n              <BotActivityLogs\n                key={activity.botId}\n                activity={activity}\n                onClearLogs={clearBotLogs}\n                onSimulateActivity={simulateBotActivity}\n              />\n            ))\n          )}\n        </div>\n\n        {/* Activity Report Generator */}\n        <ActivityReportGenerator />\n\n        {/* Bot Performance Report */}\n        <BotReportViewer />\n\n        {/* Debug Tools */}\n        <Card className=\"p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Debug Tools</h3>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <h4 className=\"font-medium text-gray-700 mb-2\">Test Logging</h4>\n              <p className=\"text-sm text-gray-500 mb-3\">\n                Add test logs to verify the logging system is working\n              </p>\n              <div className=\"space-x-2\">\n                {activities.slice(0, 3).map((activity) => (\n                  <Button\n                    key={activity.botId}\n                    variant=\"secondary\"\n                    size=\"sm\"\n                    onClick={() => handleAddTestLog(activity.botId)}\n                  >\n                    Test {activity.botName}\n                  </Button>\n                ))}\n              </div>\n            </div>\n            <div>\n              <h4 className=\"font-medium text-gray-700 mb-2\">Error Simulation</h4>\n              <p className=\"text-sm text-gray-500 mb-3\">\n                Simulate errors to test error handling and logging\n              </p>\n              <div className=\"space-x-2\">\n                {activities.slice(0, 3).map((activity) => (\n                  <Button\n                    key={activity.botId}\n                    variant=\"danger\"\n                    size=\"sm\"\n                    onClick={() => handleSimulateError(activity.botId)}\n                  >\n                    Error {activity.botName}\n                  </Button>\n                ))}\n              </div>\n            </div>\n          </div>\n        </Card>\n      </div>\n\n      <Navigation />\n    </div>\n  );\n}\n"],"names":["BotActivityLogs","activity","onClearLogs","onSimulateActivity","expanded","setExpanded","useState","filter","setFilter","timeSinceActivity","setTimeSinceActivity","useEffect","updateTime","timeDiff","seconds","minutes","hours","interval","getLevelColor","level","getCategoryIcon","category","getStatusIcon","status","getExecutionStateInfo","state","filteredLogs","log","performanceLog","_a","_b","performanceMetrics","winTrades","lossTrades","drawdown","drawdownPercentage","winRate","totalTrades","formatTime","timestamp","jsxs","Card","jsx","Button","l","supabaseUrl","supabaseAnonKey","generateBotReport","supabase","createClient","session","response","error","BotReportViewer","report","setReport","loading","setLoading","setError","handleGenerateReport","data","err","formatCurrency","value","handleDownloadReport","reportData","format","jsonStr","blob","url","link","csv","contract","bot","Fragment","idx","generateActivityReport","startDate","endDate","user","end","start","bots","botsError","botIds","b","activityLogs","logs","logsError","trades","tradesError","totalBots","activeBots","total_logs","errors","warnings","successes","info_logs","filledTrades","t","sum","winningTrades","botActivityMap","botData","errorsSummary","botId","botErrorLogs","errorMessages","commonErrors","botPnL","profitableBots","ActivityReportGenerator","selectedPeriod","setSelectedPeriod","handleExportPDF","htmlContent","generatePDFContent","printWindow","handleExportCSV","handleExportJSON","period","_c","BotActivityPage","useBots","activities","addLog","clearBotLogs","simulateBotActivity","useBotActivity","filteredActivities","handleAddTestLog","handleSimulateError","Header","a","Navigation"],"mappings":"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"}