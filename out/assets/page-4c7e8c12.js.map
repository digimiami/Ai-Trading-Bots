{"version":3,"file":"page-4c7e8c12.js","sources":["../../src/hooks/useTrades.ts","../../src/pages/trades/page.tsx"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { API_ENDPOINTS, apiCall } from '../lib/supabase'\r\n\r\nexport interface Trade {\r\n  id: string\r\n  botId: string\r\n  symbol: string\r\n  side: 'long' | 'short'\r\n  size: number\r\n  entryPrice: number\r\n  exitPrice?: number\r\n  pnl?: number\r\n  status: 'open' | 'closed'\r\n  timestamp: string\r\n  exchange: string\r\n}\r\n\r\nexport function useTrades(botId?: string) {\r\n  const [trades, setTrades] = useState<Trade[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  const fetchTrades = async () => {\r\n    try {\r\n      setLoading(true)\r\n      const url = botId \r\n        ? `${API_ENDPOINTS.TRADING_ENGINE}/trades?botId=${botId}`\r\n        : `${API_ENDPOINTS.TRADING_ENGINE}/trades`\r\n      const response = await apiCall(url)\r\n      setTrades(response.trades || [])\r\n      setError(null)\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to fetch trades')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const closeTrade = async (tradeId: string, exitPrice: number) => {\r\n    try {\r\n      const response = await apiCall(`${API_ENDPOINTS.TRADING_ENGINE}/close-trade`, {\r\n        method: 'POST',\r\n        body: JSON.stringify({ tradeId, exitPrice }),\r\n      })\r\n      await fetchTrades() // Refresh the list\r\n      return response.trade\r\n    } catch (err) {\r\n      throw new Error(err instanceof Error ? err.message : 'Failed to close trade')\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchTrades()\r\n    \r\n    // Set up polling for real-time updates\r\n    const interval = setInterval(fetchTrades, 30000) // Update every 30 seconds\r\n    \r\n    return () => clearInterval(interval)\r\n  }, [botId])\r\n\r\n  return {\r\n    trades,\r\n    loading,\r\n    error,\r\n    fetchTrades,\r\n    closeTrade,\r\n  }\r\n}\r\n","import { useState } from 'react';\nimport Header from '../../components/feature/Header';\nimport Navigation from '../../components/feature/Navigation';\nimport Card from '../../components/base/Card';\nimport Button from '../../components/base/Button';\nimport { Trade } from '../../types/trading';\nimport { useTrades } from '../../hooks/useTrades';\nimport { useBots } from '../../hooks/useBots';\n\nexport default function Trades() {\n  const [selectedFilter, setSelectedFilter] = useState('all');\n  const [selectedBot, setSelectedBot] = useState('all');\n  const { trades, loading: tradesLoading, fetchTrades } = useTrades();\n  const { bots } = useBots();\n\n  const filteredTrades = trades.filter(trade => {\n    if (selectedFilter !== 'all' && trade.status !== selectedFilter) return false;\n    if (selectedBot !== 'all' && trade.botId !== selectedBot) return false;\n    return true;\n  });\n\n  const getTradeStatusColor = (status: string) => {\n    switch (status) {\n      case 'open': return 'text-blue-600 bg-blue-50';\n      case 'closed': return 'text-green-600 bg-green-50';\n      default: return 'text-gray-600 bg-gray-50';\n    }\n  };\n\n  const getSideColor = (side: string) => {\n    return side === 'long' ? 'text-green-600' : 'text-red-600';\n  };\n\n  const formatPrice = (price: number) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 4\n    }).format(price);\n  };\n\n  const formatPnL = (pnl?: number) => {\n    if (!pnl) return '-';\n    const color = pnl >= 0 ? 'text-green-600' : 'text-red-600';\n    const sign = pnl >= 0 ? '+' : '';\n    return (\n      <span className={color}>\n        {sign}{formatPrice(pnl)}\n      </span>\n    );\n  };\n\n  const handleReset = () => {\n    if (confirm('Are you sure you want to reset all trade data? This will clear all trade history.')) {\n      // Clear trades from localStorage or call API to clear\n      localStorage.removeItem('trades');\n      fetchTrades(); // Refresh the trades\n    }\n  };\n\n  const getBotName = (botId: string) => {\n    const bot = bots.find(b => b.id === botId);\n    return bot?.name || 'Unknown Bot';\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Header \n        title=\"Trades\" \n        subtitle=\"Monitor your trading activity\"\n        rightAction={\n          <Button\n            variant=\"danger\"\n            size=\"sm\"\n            onClick={handleReset}\n          >\n            <i className=\"ri-refresh-line mr-1\"></i>\n            Reset\n          </Button>\n        }\n      />\n      \n      <div className=\"pt-20 pb-20 px-4 space-y-4\">\n        {/* Filters */}\n        <Card className=\"p-4\">\n          <div className=\"space-y-4\">\n            {/* Status Filter */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Status</label>\n              <div className=\"flex space-x-2\">\n                {['all', 'open', 'closed'].map((status) => (\n                  <button\n                    key={status}\n                    onClick={() => setSelectedFilter(status)}\n                    className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${\n                      selectedFilter === status\n                        ? 'bg-blue-600 text-white'\n                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                    }`}\n                  >\n                    {status.charAt(0).toUpperCase() + status.slice(1)}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Bot Filter */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Bot</label>\n              <select\n                value={selectedBot}\n                onChange={(e) => setSelectedBot(e.target.value)}\n                className=\"w-full bg-gray-100 border-none rounded-lg px-3 py-2 text-sm\"\n              >\n                <option value=\"all\">All Bots</option>\n                {bots.map((bot) => (\n                  <option key={bot.id} value={bot.id}>\n                    {bot.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n        </Card>\n\n        {/* Trade Statistics */}\n        {(() => {\n          const closedTrades = filteredTrades.filter(t => t.status === 'closed' || t.status === 'filled');\n          const tradesWithPnL = closedTrades.filter(t => t.pnl !== null && t.pnl !== undefined && t.pnl !== 0);\n          const winningTrades = tradesWithPnL.filter(t => (t.pnl || 0) > 0);\n          const losingTrades = tradesWithPnL.filter(t => (t.pnl || 0) < 0);\n          \n          const totalPnL = tradesWithPnL.reduce((sum, t) => sum + (t.pnl || 0), 0);\n          const totalWins = winningTrades.reduce((sum, t) => sum + (t.pnl || 0), 0);\n          const totalLosses = Math.abs(losingTrades.reduce((sum, t) => sum + (t.pnl || 0), 0));\n          \n          const winRate = tradesWithPnL.length > 0 ? (winningTrades.length / tradesWithPnL.length) * 100 : 0;\n          const profitFactor = totalLosses > 0 ? totalWins / totalLosses : (totalWins > 0 ? 999 : 0);\n          const avgWin = winningTrades.length > 0 ? totalWins / winningTrades.length : 0;\n          const avgLoss = losingTrades.length > 0 ? totalLosses / losingTrades.length : 0;\n          \n          // Calculate total volume (estimate from trade size and entry price)\n          const totalVolume = filteredTrades.reduce((sum, t) => {\n            const size = parseFloat(t.size?.toString() || '0');\n            const entryPrice = parseFloat(t.entryPrice?.toString() || '0');\n            return sum + (size * entryPrice);\n          }, 0);\n          \n          // Calculate total fees (estimate 0.1% of volume)\n          const totalFees = totalVolume * 0.001;\n          \n          return (\n            <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4\">\n          <Card className=\"p-4\">\n            <div className=\"text-center\">\n                  <div className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                {filteredTrades.length}\n              </div>\n                  <div className=\"text-sm text-gray-500 dark:text-gray-400\">Total Trades</div>\n            </div>\n          </Card>\n          <Card className=\"p-4\">\n            <div className=\"text-center\">\n                  <div className=\"text-2xl font-bold text-green-600 dark:text-green-400\">\n                {filteredTrades.filter(t => t.status === 'open').length}\n              </div>\n                  <div className=\"text-sm text-gray-500 dark:text-gray-400\">Active Trades</div>\n                </div>\n              </Card>\n              <Card className=\"p-4\">\n                <div className=\"text-center\">\n                  <div className={`text-2xl font-bold ${winRate >= 50 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'}`}>\n                    {winRate.toFixed(1)}%\n                  </div>\n                  <div className=\"text-sm text-gray-500 dark:text-gray-400\">Win Rate</div>\n                </div>\n              </Card>\n              <Card className=\"p-4\">\n                <div className=\"text-center\">\n                  <div className={`text-2xl font-bold ${profitFactor >= 1 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'}`}>\n                    {profitFactor.toFixed(2)}x\n                  </div>\n                  <div className=\"text-sm text-gray-500 dark:text-gray-400\">Profit Factor</div>\n                </div>\n              </Card>\n              <Card className=\"p-4\">\n                <div className=\"text-center\">\n                  <div className=\"text-2xl font-bold text-green-600 dark:text-green-400\">\n                    ${avgWin.toFixed(2)}\n                  </div>\n                  <div className=\"text-sm text-gray-500 dark:text-gray-400\">Avg Win</div>\n                </div>\n              </Card>\n              <Card className=\"p-4\">\n                <div className=\"text-center\">\n                  <div className=\"text-2xl font-bold text-red-600 dark:text-red-400\">\n                    ${avgLoss.toFixed(2)}\n                  </div>\n                  <div className=\"text-sm text-gray-500 dark:text-gray-400\">Avg Loss</div>\n                </div>\n              </Card>\n              <Card className=\"p-4\">\n                <div className=\"text-center\">\n                  <div className=\"text-2xl font-bold text-blue-600 dark:text-blue-400\">\n                    ${totalVolume.toFixed(2)}\n                  </div>\n                  <div className=\"text-sm text-gray-500 dark:text-gray-400\">Volume</div>\n                </div>\n              </Card>\n              <Card className=\"p-4\">\n                <div className=\"text-center\">\n                  <div className={`text-2xl font-bold ${totalPnL >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'}`}>\n                    {totalPnL >= 0 ? '+' : ''}${totalPnL.toFixed(2)}\n                  </div>\n                  <div className=\"text-sm text-gray-500 dark:text-gray-400\">Total PnL</div>\n                  <div className=\"text-xs text-gray-400 dark:text-gray-500 mt-1\">\n                    Fees: ${totalFees.toFixed(2)}\n                  </div>\n            </div>\n          </Card>\n        </div>\n          );\n        })()}\n\n        {/* Trades List */}\n        <div className=\"space-y-3\">\n          {tradesLoading ? (\n            <div className=\"text-center py-12\">\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n              <p className=\"text-gray-600\">Loading trades...</p>\n            </div>\n          ) : filteredTrades.length === 0 ? (\n            <Card className=\"p-8 text-center\">\n              <i className=\"ri-file-list-line text-4xl text-gray-300 mb-4\"></i>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Trades Found</h3>\n              <p className=\"text-gray-500\">No trades match your current filters.</p>\n            </Card>\n          ) : (\n            filteredTrades.map((trade) => (\n              <Card key={trade.id} className=\"p-4\">\n                <div className=\"flex items-center justify-between mb-3\">\n                  <div className=\"flex items-center space-x-3\">\n                    <div className={`px-2 py-1 rounded-full text-xs font-medium ${getTradeStatusColor(trade.status)}`}>\n                      {trade.status.toUpperCase()}\n                    </div>\n                    <div className=\"text-sm text-gray-500\">\n                      {new Date(trade.timestamp).toLocaleDateString()}\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"text-sm font-medium text-gray-900\">\n                      {trade.symbol}\n                    </div>\n                    <div className=\"text-xs text-gray-500 capitalize\">\n                      {trade.exchange}\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4 mb-3\">\n                  <div>\n                    <div className=\"text-xs text-gray-500 mb-1\">Bot</div>\n                    <div className=\"text-sm font-medium text-gray-900\">\n                      {getBotName(trade.botId)}\n                    </div>\n                  </div>\n                  <div>\n                    <div className=\"text-xs text-gray-500 mb-1\">Side</div>\n                    <div className={`text-sm font-medium ${getSideColor(trade.side)}`}>\n                      {trade.side.toUpperCase()}\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-3 gap-4 text-sm\">\n                  <div>\n                    <div className=\"text-xs text-gray-500 mb-1\">Size</div>\n                    <div className=\"font-medium\">{trade.size}</div>\n                  </div>\n                  <div>\n                    <div className=\"text-xs text-gray-500 mb-1\">Entry Price</div>\n                    <div className=\"font-medium\">{formatPrice(trade.entryPrice)}</div>\n                  </div>\n                  <div>\n                    <div className=\"text-xs text-gray-500 mb-1\">\n                      {trade.status === 'open' ? 'Current P&L' : 'P&L'}\n                    </div>\n                    <div className=\"font-medium\">\n                      {formatPnL(trade.pnl)}\n                    </div>\n                  </div>\n                </div>\n\n                {trade.exitPrice && (\n                  <div className=\"mt-3 pt-3 border-t border-gray-100\">\n                    <div className=\"flex justify-between text-sm\">\n                      <span className=\"text-gray-500\">Exit Price:</span>\n                      <span className=\"font-medium\">{formatPrice(trade.exitPrice)}</span>\n                    </div>\n                  </div>\n                )}\n              </Card>\n            ))\n          )}\n        </div>\n\n        {/* Quick Actions */}\n        <Card className=\"p-4\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Quick Actions</h3>\n          <div className=\"grid grid-cols-2 gap-3\">\n            <button className=\"bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg transition-colors flex items-center justify-center\">\n              <i className=\"ri-download-line mr-2\"></i>\n              Export Trades\n            </button>\n            <button className=\"bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-lg transition-colors flex items-center justify-center\">\n              <i className=\"ri-refresh-line mr-2\"></i>\n              Refresh Data\n            </button>\n          </div>\n        </Card>\n      </div>\n\n      <Navigation />\n    </div>\n  );\n}"],"names":["useTrades","botId","trades","setTrades","useState","loading","setLoading","error","setError","fetchTrades","url","API_ENDPOINTS","response","apiCall","err","closeTrade","tradeId","exitPrice","useEffect","interval","Trades","selectedFilter","setSelectedFilter","selectedBot","setSelectedBot","tradesLoading","bots","useBots","filteredTrades","trade","getTradeStatusColor","status","getSideColor","side","formatPrice","price","formatPnL","pnl","color","sign","jsxs","handleReset","getBotName","bot","b","jsx","Header","Button","Card","e","tradesWithPnL","t","winningTrades","losingTrades","totalPnL","sum","totalWins","totalLosses","winRate","profitFactor","avgWin","avgLoss","totalVolume","size","_a","entryPrice","_b","totalFees","Navigation"],"mappings":"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"}