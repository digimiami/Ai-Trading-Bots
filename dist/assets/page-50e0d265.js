import{r as d,s as L,j as e,b as O,A as M,a as Ae,u as Pe}from"./index-3146881b.js";import{H as Ce}from"./Header-1be7d51e.js";import{N as Se}from"./Navigation-9bcc642c.js";import{B as E}from"./Button-79523c4d.js";import{C}from"./Card-c02645c9.js";import{P as Te}from"./PaperTradingBalance-4f0dcef9.js";import{o as u}from"./openai-1df81669.js";function Ee(){const[f,T]=d.useState(null),[a,h]=d.useState(!0),[$,A]=d.useState(null),v=async()=>{try{const{data:{session:o}}=await L.auth.getSession();if(!o){h(!1);return}const n=await fetch(`${{}.VITE_PUBLIC_SUPABASE_URL}/functions/v1/telegram-notifier?action=get_config`,{headers:{Authorization:`Bearer ${o.access_token}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error("Failed to fetch Telegram configuration");const c=await n.json();c.success&&T(c.config)}catch(o){console.error("Error fetching Telegram config:",o),A(o.message)}finally{h(!1)}},P=async o=>{try{const{data:{session:n}}=await L.auth.getSession();if(!n)throw new Error("Not authenticated");const c=await fetch(`${{}.VITE_PUBLIC_SUPABASE_URL}/functions/v1/telegram-notifier?action=save_config`,{method:"POST",headers:{Authorization:`Bearer ${n.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(o)});if(!c.ok)throw new Error("Failed to save Telegram configuration");const y=await c.json();if(y.success)return T(y.config),{success:!0,message:y.message};throw new Error("Failed to save configuration")}catch(n){return console.error("Error saving Telegram config:",n),{success:!1,message:n.message}}},I=async()=>{try{const{data:{session:o}}=await L.auth.getSession();if(!o)throw new Error("Not authenticated");const n=await fetch(`${{}.VITE_PUBLIC_SUPABASE_URL}/functions/v1/telegram-notifier?action=test`,{method:"POST",headers:{Authorization:`Bearer ${o.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!n.ok){const y=await n.json();throw new Error(y.error||"Failed to send test message")}const c=await n.json();if(c.success)return{success:!0,message:c.message};throw new Error("Failed to send test message")}catch(o){return console.error("Error sending test message:",o),{success:!1,message:o.message}}},N=async(o,n)=>{try{const{data:{session:c}}=await L.auth.getSession();if(!c)throw new Error("Not authenticated");const y=await fetch(`${{}.VITE_PUBLIC_SUPABASE_URL}/functions/v1/telegram-notifier?action=send`,{method:"POST",headers:{Authorization:`Bearer ${c.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({notification_type:o,data:n})});if(!y.ok)throw new Error("Failed to send notification");return(await y.json()).success}catch(c){return console.error("Error sending notification:",c),!1}};return d.useEffect(()=>{v()},[]),{config:f,loading:a,error:$,saveConfig:P,sendTestMessage:I,sendNotification:N,refreshConfig:v}}function $e(){const{config:f,loading:T,saveConfig:a,sendTestMessage:h}=Ee(),[$,A]=d.useState(!1),[v,P]=d.useState(!1),[I,N]=d.useState(!1),[o,n]=d.useState({bot_token:"",chat_id:"",enabled:!0,notifications:{trade_executed:!0,bot_started:!0,bot_stopped:!0,error_occurred:!0,daily_summary:!0,profit_alert:!0,loss_alert:!0}});d.useEffect(()=>{f&&n({bot_token:f.bot_token||"",chat_id:f.chat_id||"",enabled:f.enabled,notifications:f.notifications||o.notifications})},[f]);const c=async()=>{P(!0);const m=await a(o);P(!1),m.success?(alert("âœ… Telegram configuration saved successfully!"),A(!1)):alert(`âŒ Error: ${m.message}`)},y=async()=>{N(!0);const m=await h();N(!1),m.success?alert("âœ… Test message sent! Check your Telegram."):alert(`âŒ Error: ${m.message}`)};return T?e.jsx(C,{className:"p-6",children:e.jsx("div",{className:"text-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})})}):e.jsxs(C,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx("i",{className:"ri-telegram-line text-xl mr-2 text-blue-500"}),"Telegram Notifications"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${o.enabled&&f?"bg-green-500":"bg-gray-400"}`}),e.jsx("span",{className:`text-sm ${o.enabled&&f?"text-green-600":"text-gray-600"}`,children:o.enabled&&f?"Active":"Inactive"})]})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Get real-time alerts for trades, bot status, and errors directly on Telegram"}),$?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bot Token"}),e.jsx("input",{type:"password",value:o.bot_token,onChange:m=>n(g=>({...g,bot_token:m.target.value})),placeholder:"1234567890:ABCdefGHIjklMNOpqrsTUVwxyz",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Get from @BotFather on Telegram"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chat ID"}),e.jsx("input",{type:"text",value:o.chat_id,onChange:m=>n(g=>({...g,chat_id:m.target.value})),placeholder:"123456789",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your Telegram user ID (get from @userinfobot)"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Notification Types"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:o.notifications.trade_executed,onChange:m=>n(g=>({...g,notifications:{...g.notifications,trade_executed:m.target.checked}})),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"ðŸ’° Trade Executed"})]}),e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:o.notifications.bot_started,onChange:m=>n(g=>({...g,notifications:{...g.notifications,bot_started:m.target.checked}})),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"ðŸš€ Bot Started"})]}),e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:o.notifications.bot_stopped,onChange:m=>n(g=>({...g,notifications:{...g.notifications,bot_stopped:m.target.checked}})),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"ðŸ›‘ Bot Stopped"})]}),e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:o.notifications.error_occurred,onChange:m=>n(g=>({...g,notifications:{...g.notifications,error_occurred:m.target.checked}})),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"âŒ Errors"})]}),e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:o.notifications.profit_alert,onChange:m=>n(g=>({...g,notifications:{...g.notifications,profit_alert:m.target.checked}})),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"ðŸŽ‰ Profit Alert"})]}),e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:o.notifications.loss_alert,onChange:m=>n(g=>({...g,notifications:{...g.notifications,loss_alert:m.target.checked}})),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"âš ï¸ Loss Alert"})]}),e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:o.notifications.daily_summary,onChange:m=>n(g=>({...g,notifications:{...g.notifications,daily_summary:m.target.checked}})),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"ðŸ“Š Daily Summary"})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:c,disabled:v||!o.bot_token||!o.chat_id,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:v?"Saving...":"ðŸ’¾ Save Configuration"}),e.jsx("button",{onClick:y,disabled:I||!f,className:"px-6 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:I?"Testing...":"ðŸ“¨ Test"}),e.jsx("button",{onClick:()=>A(!1),className:"px-6 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 rounded-lg transition-colors font-medium",children:"Cancel"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4 mt-4",children:[e.jsxs("h4",{className:"font-semibold text-blue-900 text-sm mb-2 flex items-center",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"How to Setup Telegram Bot"]}),e.jsxs("ol",{className:"text-xs text-blue-800 space-y-1.5 ml-1 list-decimal list-inside",children:[e.jsxs("li",{children:["Open Telegram and search for ",e.jsx("strong",{className:"font-bold",children:"@BotFather"})]}),e.jsxs("li",{children:["Send command ",e.jsx("code",{className:"bg-blue-100 px-1 py-0.5 rounded",children:"/newbot"})," and follow instructions"]}),e.jsxs("li",{children:["Copy the ",e.jsx("strong",{className:"font-bold",children:"Bot Token"})," you receive"]}),e.jsxs("li",{children:["Search for ",e.jsx("strong",{className:"font-bold",children:"@userinfobot"})," to get your Chat ID"]}),e.jsxs("li",{children:["Paste both values above and click ",e.jsx("strong",{className:"font-bold",children:"Save"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{className:"font-bold",children:"Test"})," to verify notifications work!"]})]})]})]}):e.jsxs("button",{onClick:()=>A(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:[e.jsx("i",{className:"ri-settings-line mr-2"}),f?"Edit Configuration":"Setup Telegram Notifications"]})]})}function Ie(){const[f,T]=d.useState([]),[a,h]=d.useState(!0),[$,A]=d.useState(null),v=async()=>{try{h(!0);const n=await O(`${M.API_KEYS}/list`);T(n.apiKeys||[]),A(null)}catch(n){A(n instanceof Error?n.message:"Failed to fetch API keys")}finally{h(!1)}},P=async n=>{try{h(!0);const c=await O(`${M.API_KEYS}/save`,{method:"POST",body:JSON.stringify(n)});return await v(),c.apiKey}catch(c){throw new Error(c instanceof Error?c.message:"Failed to save API key")}finally{h(!1)}},I=async n=>{try{return await O(`${M.API_KEYS}/test`,{method:"POST",body:JSON.stringify(n)})}catch(c){throw new Error(c instanceof Error?c.message:"Failed to test API connection")}},N=async(n,c)=>{try{const y=await O(`${M.API_KEYS}/toggle`,{method:"PUT",body:JSON.stringify({id:n,isActive:c})});return await v(),y.apiKey}catch(y){throw new Error(y instanceof Error?y.message:"Failed to toggle API key")}},o=async n=>{try{await O(`${M.API_KEYS}?id=${n}`,{method:"DELETE"}),await v()}catch(c){throw new Error(c instanceof Error?c.message:"Failed to delete API key")}};return d.useEffect(()=>{v()},[]),{apiKeys:f,loading:a,error:$,saveApiKey:P,testApiConnection:I,toggleApiKey:N,deleteApiKey:o,refetch:v}}function _e(){const[f,T]=d.useState(!1),[a,h]=d.useState(null),$=async(P,I={})=>{try{T(!0),h(null);const{data:N,error:o}=await L.functions.invoke("profile-management",{body:{action:P,...I}});if(o)throw o;return N}catch(N){throw h(N.message),N}finally{T(!1)}};return{loading:f,error:a,getProfile:async()=>(await $("getProfile")).profile,updateProfile:async P=>await $("updateProfile",P)}}function Me(){var le;const f=Ae(),{signOut:T,user:a}=Pe(),{apiKeys:h,loading:$,saveApiKey:A,testApiConnection:v,toggleApiKey:P,deleteApiKey:I}=Ie(),{getProfile:N,updateProfile:o}=_e(),[n]=d.useState({push:!0,email:!1,trading:!0,price:!0}),[c,y]=d.useState({twoFactor:!1,biometric:!0,autoLogout:30}),[m,g]=d.useState({defaultLeverage:5,riskLevel:"medium",autoRebalance:!0,stopLoss:5}),[b,ie]=d.useState(()=>{try{const s=localStorage.getItem("appearance_settings");if(s){const t=JSON.parse(s);if(t&&typeof t=="object")return{theme:t.theme||"light",currency:t.currency||"USD",language:t.language||"English"}}}catch(s){console.error("Error loading appearance settings:",s),localStorage.removeItem("appearance_settings")}return{theme:"light",currency:"USD",language:"English"}}),[i,z]=d.useState({bybitApiKey:"",bybitApiSecret:"",bybitTestnet:!0,okxApiKey:"",okxApiSecret:"",okxPassphrase:"",okxTestnet:!0,bitunixApiKey:"",bitunixApiSecret:"",bitunixTestnet:!0,webhookUrl:"",webhookSecret:"",alertsEnabled:!0}),[U,oe]=d.useState(()=>(u.getApiKeys(),{openaiApiKey:"",deepseekApiKey:"",showKeys:!1})),[ce,F]=d.useState(!1),[Ke,se]=d.useState(0),[l,de]=d.useState({priceThreshold:5,pnlThreshold:10,volumeThreshold:50,rsiOverbought:70,rsiOversold:30,emailAlerts:!0,pushAlerts:!0,webhookAlerts:!1,telegramBot:"",discordWebhook:"",lowBalanceAlert:!0,lowBalanceThreshold:100,liquidationAlert:!0,liquidationThreshold:80,newTradeAlert:!0,closePositionAlert:!0,profitAlert:!0,profitThreshold:5,lossAlert:!0,lossThreshold:5,dailyPnlAlert:!0,weeklyPnlAlert:!1,monthlyPnlAlert:!0}),[w,xe]=d.useState({maxDailyLoss:500,maxPositionSize:1e3,stopLossPercentage:5,takeProfitPercentage:10,maxOpenPositions:5,riskPerTrade:2,autoStopTrading:!0,emergencyStopLoss:20}),[me,q]=d.useState(!1),[G,R]=d.useState(!1),[ue,J]=d.useState(!1),[ge,W]=d.useState(!1),[k,B]=d.useState({id:"",email:"",name:"",bio:"",location:"",website:"",profile_picture_url:""}),[te,he]=d.useState(null),[H,Y]=d.useState(""),[Q,re]=d.useState(!1);d.useEffect(()=>{if(!(!b||!b.theme))try{document.documentElement.classList.remove("dark","theme-blue","theme-green","theme-purple","theme-orange"),document.body.classList.remove("dark","theme-blue","theme-green","theme-purple","theme-orange");const s=["blue","green","purple","orange"].includes(b.theme);b.theme==="dark"?(document.documentElement.classList.add("dark"),document.body.classList.add("dark")):s&&(document.documentElement.classList.add(`theme-${b.theme}`),document.body.classList.add(`theme-${b.theme}`)),console.log(`ðŸŽ¨ Theme applied: ${b.theme}`)}catch(s){console.error("Error applying theme:",s)}},[b==null?void 0:b.theme]),d.useEffect(()=>{(async()=>{try{await u.checkKeysFromEdgeFunction(),se(t=>t+1)}catch(t){console.error("Error checking AI keys:",t)}})(),u.refreshKeys()},[]),d.useEffect(()=>{a&&(async()=>{var t,r;try{if(console.log("ðŸ”„ Loading profile for user:",a==null?void 0:a.email),a){const p={id:a.id,email:a.email||"",name:((t=a.user_metadata)==null?void 0:t.name)||((r=a.email)==null?void 0:r.split("@")[0])||"User",bio:"",location:"",website:"",profile_picture_url:""};console.log("ðŸ“‹ Setting current user profile as default:",p),B(p)}const x=await N();console.log("ðŸ“‹ Profile loaded from backend:",x),x.email===(a==null?void 0:a.email)?(console.log("âœ… Using backend profile data"),B(x),x.profile_picture_url&&Y(x.profile_picture_url)):console.log("âš ï¸ Backend profile has wrong email, keeping current user data")}catch(x){console.error("âŒ Error loading profile:",x),console.log("ðŸ“‹ Keeping current user data due to error")}})()},[a]),d.useEffect(()=>{if(G&&h.length>0){const s=h.find(x=>x.exchange==="bybit"),t=h.find(x=>x.exchange==="okx"),r=h.find(x=>x.exchange==="bitunix");z(x=>({...x,bybitTestnet:(s==null?void 0:s.isTestnet)??x.bybitTestnet,okxTestnet:(t==null?void 0:t.isTestnet)??x.okxTestnet,bitunixTestnet:(r==null?void 0:r.isTestnet)??x.bitunixTestnet,bybitApiKey:s?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":"",bybitApiSecret:s?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":"",okxApiKey:t?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":"",okxApiSecret:t?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":"",okxPassphrase:t?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":"",bitunixApiKey:r?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":"",bitunixApiSecret:r?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":""}))}else G&&h.length===0&&z(s=>({...s,bybitApiKey:"",bybitApiSecret:"",okxApiKey:"",okxApiSecret:"",okxPassphrase:"",bitunixApiKey:"",bitunixApiSecret:""}))},[G,h]);const be=s=>{var r;const t=(r=s.target.files)==null?void 0:r[0];if(t){he(t);const x=new FileReader;x.onload=p=>{var D;(D=p.target)!=null&&D.result&&Y(p.target.result)},x.readAsDataURL(t)}},fe=async()=>{if(Q){console.log("âš ï¸ Profile save already in progress, ignoring duplicate click");return}try{re(!0),console.log("ðŸ”„ Starting profile save...");let s="";te&&(console.log("ðŸ“¸ Converting profile picture to base64..."),s=await new Promise((r,x)=>{const p=new FileReader;p.onload=D=>{var ne;(ne=D.target)!=null&&ne.result?r(D.target.result):x(new Error("Failed to read file"))},p.onerror=()=>x(new Error("File read error")),p.readAsDataURL(te)})),console.log("ðŸ’¾ Updating profile with backend...");const t=await o({name:k.name,bio:k.bio,location:k.location,website:k.website,profilePicture:s});console.log("âœ… Profile update result:",t),t.success?(t.profilePictureUrl&&(Y(t.profilePictureUrl),B(r=>({...r,profile_picture_url:t.profilePictureUrl}))),alert("Profile saved successfully!"),q(!1)):alert(`Failed to save profile: ${t.message||"Unknown error"}`)}catch(s){console.error("âŒ Error saving profile:",s),alert(`Failed to save profile: ${s.message}`)}finally{re(!1)}},Z=(s,t)=>{y(r=>({...r,[s]:t}))},V=(s,t)=>{g(r=>({...r,[s]:t}))},_=(s,t)=>{console.log(`âš™ï¸ Appearance change: ${s} = ${t}`);const r={...b,[s]:t};if(ie(r),localStorage.setItem("appearance_settings",JSON.stringify(r)),console.log("ðŸ’¾ Saved to localStorage:",r),s==="theme"&&(console.log(`ðŸŽ¨ Theme will change to: ${t}`),alert(`âœ… ${t.charAt(0).toUpperCase()+t.slice(1)} theme enabled!`)),s==="language"){const p={English:"en",Spanish:"es",French:"fr",German:"de",Chinese:"zh",Japanese:"ja",Korean:"ko",Russian:"ru",Portuguese:"pt",Italian:"it"}[t]||"en";localStorage.setItem("i18nextLng",p),console.log(`ðŸŒ Language changed to: ${t} (${p})`),confirm(`Change language to ${t}?

The page will reload to apply the new language.`)&&window.location.reload()}s==="currency"&&(console.log(`ðŸ’° Currency changed to: ${t}`),alert(`âœ… Currency changed to ${t}!`))},S=(s,t)=>{z(r=>({...r,[s]:t}))},j=(s,t)=>{de(r=>({...r,[s]:t}))},pe=async()=>{var s,t;try{const{data:{user:r}}=await L.auth.getUser();if(!r)return!1;const{error:x}=await L.from("users").select("id").eq("id",r.id).single();if(x&&x.code==="PGRST116"){const{error:p}=await L.from("users").insert({id:r.id,email:r.email,role:"user",name:((s=r.user_metadata)==null?void 0:s.name)||((t=r.email)==null?void 0:t.split("@")[0])||"User",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});return p?(console.error("Error creating user:",p),!1):(console.log("Created user:",r.id),!0)}else if(x)return console.error("Error checking user:",x),!1;return!0}catch(r){return console.error("Error ensuring user exists:",r),!1}},ye=async()=>{try{if(!await pe()){alert("Failed to create user account. Please try again.");return}i.bybitApiKey&&i.bybitApiSecret&&await A({exchange:"bybit",apiKey:i.bybitApiKey,apiSecret:i.bybitApiSecret,isTestnet:i.bybitTestnet}),i.okxApiKey&&i.okxApiSecret&&await A({exchange:"okx",apiKey:i.okxApiKey,apiSecret:i.okxApiSecret,passphrase:i.okxPassphrase,isTestnet:i.okxTestnet}),i.bitunixApiKey&&i.bitunixApiSecret&&await A({exchange:"bitunix",apiKey:i.bitunixApiKey,apiSecret:i.bitunixApiSecret,passphrase:"",isTestnet:i.bitunixTestnet}),z(t=>({bybitApiKey:"",bybitApiSecret:"",bybitTestnet:t.bybitTestnet,okxApiKey:"",okxApiSecret:"",okxPassphrase:"",okxTestnet:t.okxTestnet,bitunixApiKey:"",bitunixApiSecret:"",bitunixTestnet:t.bitunixTestnet,webhookUrl:t.webhookUrl,webhookSecret:t.webhookSecret,alertsEnabled:t.alertsEnabled})),R(!1),alert("API keys saved successfully!")}catch(s){alert(`Failed to save API keys: ${s.message}`)}},je=()=>{J(!1)},X=(s,t)=>{B(r=>({...r,[s]:t}))},Ne=async()=>{var s,t;if(console.log("ðŸ”„ Opening Edit Profile modal for user:",a==null?void 0:a.email),a){console.log("ðŸ”„ Forcing current user data for profile");const r={id:a.id,email:a.email||"",name:((s=a.user_metadata)==null?void 0:s.name)||((t=a.email)==null?void 0:t.split("@")[0])||"User",bio:"",location:"",website:"",profile_picture_url:""};console.log("ðŸ“‹ Current user profile data:",r),B(r)}try{const r=await N();console.log("ðŸ“‹ Backend profile data:",r),r.email===(a==null?void 0:a.email)?(console.log("âœ… Using backend profile data"),B(r),r.profile_picture_url&&Y(r.profile_picture_url)):console.log("âš ï¸ Backend profile has wrong email, using current user data")}catch(r){console.error("âŒ Error refreshing profile:",r)}q(!0)},ee=async s=>{try{let t;s==="bybit"?t={exchange:"bybit",apiKey:i.bybitApiKey,apiSecret:i.bybitApiSecret,isTestnet:i.bybitTestnet}:t={exchange:"okx",apiKey:i.okxApiKey,apiSecret:i.okxApiSecret,passphrase:i.okxPassphrase,isTestnet:i.okxTestnet};const r=await v(t);r.success?alert(`${s.toUpperCase()} API connection successful!`):alert(`${s.toUpperCase()} API connection failed: ${r.message}`)}catch(t){alert(`Failed to test ${s.toUpperCase()} API: ${t.message}`)}},ve=async()=>{try{const{error:s}=await T();s?console.error("Sign out error:",s):f("/auth")}catch(s){console.error("Sign out failed:",s)}},K=(s,t)=>{xe(r=>({...r,[s]:t}))},we=()=>{W(!1)},ae=(s,t)=>{oe(r=>({...r,[s]:t}))},ke=()=>{try{U.openaiApiKey&&u.setOpenAIKey(U.openaiApiKey),U.deepseekApiKey&&u.setDeepSeekKey(U.deepseekApiKey),u.refreshKeys(),se(s=>s+1),F(!1),alert("AI API keys saved successfully!"),setTimeout(()=>{window.location.reload()},200)}catch(s){alert(`Failed to save AI API keys: ${s.message}`)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(Ce,{title:"Settings"}),e.jsxs("div",{className:"pt-20 pb-20 px-4 space-y-6",children:[e.jsxs(C,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"relative",children:H||k.profile_picture_url?e.jsx("img",{src:H||k.profile_picture_url,alt:"Profile",className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 border-2 border-gray-200 flex items-center justify-center",children:e.jsx("i",{className:"ri-user-line text-2xl text-gray-400"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:k.name||((le=a==null?void 0:a.email)==null?void 0:le.split("@")[0])||"User"}),e.jsx("p",{className:"text-gray-500",children:(a==null?void 0:a.email)||"No email"}),k.bio&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.bio}),e.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full mt-1 ${(a==null?void 0:a.role)==="admin"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:(a==null?void 0:a.role)==="admin"?"Admin":"Pro Member"})]})]}),e.jsxs("button",{onClick:Ne,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-lg transition-colors",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Profile"]}),e.jsxs("button",{onClick:async()=>{console.log("ðŸ”„ Manual profile refresh for user:",a==null?void 0:a.email);try{const s=await N();console.log("ðŸ“‹ Manual refresh - Profile data:",s),B(s),alert("Profile refreshed! Check console for details.")}catch(s){console.error("âŒ Manual refresh failed:",s),alert("Profile refresh failed! Check console for details.")}},className:"w-full bg-blue-100 hover:bg-blue-200 text-blue-700 py-2 px-4 rounded-lg transition-colors mt-2",children:[e.jsx("i",{className:"ri-refresh-line mr-2"}),"Refresh Profile Data"]})]}),e.jsxs(C,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Exchange Connections"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${h.length>0?"bg-green-500":"bg-gray-400"}`}),e.jsx("span",{className:`text-sm ${h.length>0?"text-green-600":"text-gray-600"}`,children:h.length>0?`${h.length} Connected`:"Not Connected"})]})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Configure your exchange API keys to view balances and enable trading"}),$?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading connections..."})]}):h.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("i",{className:"ri-exchange-line text-4xl mb-2"}),e.jsx("p",{children:"No exchange connections found"}),e.jsx("p",{className:"text-sm",children:"Connect your exchange API keys to get started"}),e.jsxs("button",{onClick:()=>R(!0),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Connect Exchange"]})]}):e.jsxs("div",{className:"space-y-3",children:[h.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s.exchange==="bybit"?"bg-orange-100":s.exchange==="bitunix"?"bg-green-100":"bg-blue-100"}`,children:e.jsx("i",{className:`${s.exchange==="bybit"?"ri-currency-line text-orange-600":s.exchange==="bitunix"?"ri-exchange-line text-green-600":"ri-exchange-line text-blue-600"}`})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[s.exchange.toUpperCase()," API"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.isActive?"Active":"Inactive"," â€¢ ",s.isTestnet?"Testnet":"Live"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>P(s.id,!s.isActive),className:`px-3 py-1 rounded-full text-xs font-medium ${s.isActive?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:s.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>I(s.id),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove"})]})]},s.id)),e.jsxs("button",{onClick:()=>R(!0),className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-lg transition-colors",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Exchange Connection"]})]})]}),e.jsxs(C,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Recommendations"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${u.isProviderAvailable("openai")||u.isProviderAvailable("deepseek")?"bg-green-500":"bg-gray-400"}`}),e.jsx("span",{className:`text-sm ${u.isProviderAvailable("openai")||u.isProviderAvailable("deepseek")?"text-green-600":"text-gray-600"}`,children:u.isProviderAvailable("openai")&&u.isProviderAvailable("deepseek")?"Both Configured":u.isProviderAvailable("openai")?"OpenAI Only":u.isProviderAvailable("deepseek")?"DeepSeek Only":"Not Configured"})]})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Configure AI API keys for strategy recommendations (optional)"}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${u.isProviderAvailable("openai")?"bg-green-100":"bg-gray-100"}`,children:e.jsx("i",{className:`ri-openai-fill ${u.isProviderAvailable("openai")?"text-green-600":"text-gray-400"} text-xl`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"OpenAI API"}),e.jsx("p",{className:"text-sm text-gray-500",children:u.isProviderAvailable("openai")?`Configured â€¢ ${u.getApiKeys().openai}`:"Not configured"})]})]}),e.jsx("button",{onClick:()=>F(!0),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Configure"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${u.isProviderAvailable("deepseek")?"bg-blue-100":"bg-gray-100"}`,children:e.jsx("i",{className:`ri-brain-line ${u.isProviderAvailable("deepseek")?"text-blue-600":"text-gray-400"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"DeepSeek API"}),e.jsx("p",{className:"text-sm text-gray-500",children:u.isProviderAvailable("deepseek")?`Configured â€¢ ${u.getApiKeys().deepseek}`:"Not configured"})]})]}),e.jsx("button",{onClick:()=>F(!0),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Configure"})]})]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["ðŸ’¡ Get API keys from ",e.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"OpenAI"})," or ",e.jsx("a",{href:"https://platform.deepseek.com/api_keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"DeepSeek"})]})]}),e.jsxs(C,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Risk Management"}),e.jsx("button",{onClick:()=>W(!0),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Configure"})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Protect your capital with automated risk controls"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("i",{className:"ri-shield-line text-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Max Daily Loss"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["$",w.maxDailyLoss]})]}),e.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("i",{className:"ri-pie-chart-line text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Position Size"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Max $",w.maxPositionSize]})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("i",{className:"ri-stop-line text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Stop Loss"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[w.stopLossPercentage,"%"]})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("i",{className:"ri-trophy-line text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Take Profit"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[w.takeProfitPercentage,"%"]})]})]})]}),e.jsxs(C,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Alert Preferences"}),e.jsx("button",{onClick:()=>J(!0),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Configure"})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Choose which alerts you want to receive"}),e.jsx("div",{className:"space-y-3",children:[{key:"newTradeAlert",label:"New Trade Alerts",desc:"Get notified when bots open new positions",icon:"ri-add-circle-line",color:"blue"},{key:"closePositionAlert",label:"Position Closed",desc:"Alerts when positions are closed",icon:"ri-close-circle-line",color:"green"},{key:"profitAlert",label:"Profit Alerts",desc:"Notifications for profitable trades",icon:"ri-arrow-up-line",color:"green"},{key:"lossAlert",label:"Loss Alerts",desc:"Notifications for losing trades",icon:"ri-arrow-down-line",color:"red"},{key:"lowBalanceAlert",label:"Low Balance Alert",desc:"Warning when account balance is low",icon:"ri-wallet-line",color:"orange"},{key:"liquidationAlert",label:"Liquidation Risk",desc:"Alert when positions are at risk",icon:"ri-alarm-warning-line",color:"red"}].map(({key:s,label:t,desc:r,icon:x,color:p})=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 bg-${p}-100 rounded-full flex items-center justify-center`,children:e.jsx("i",{className:`${x} text-${p}-600`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t}),e.jsx("p",{className:"text-sm text-gray-500",children:r})]})]}),e.jsx("button",{onClick:()=>j(s,!l[s]),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l[s]?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l[s]?"translate-x-6":"translate-x-1"}`})})]},s))})]}),e.jsxs(C,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notifications"}),e.jsx("div",{className:"space-y-4",children:[{key:"push",label:"Push Notifications",desc:"Receive push notifications on your device"},{key:"email",label:"Email Alerts",desc:"Get important updates via email"},{key:"trading",label:"Trading Alerts",desc:"Notifications for bot actions and trades"},{key:"price",label:"Price Alerts",desc:"Alerts for significant price movements"}].map(({key:s,label:t,desc:r})=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t}),e.jsx("p",{className:"text-sm text-gray-500",children:r})]}),e.jsx("button",{onClick:()=>{},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n[s]?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n[s]?"translate-x-6":"translate-x-1"}`})})]},s))})]}),e.jsxs(C,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security"})]}),e.jsx("button",{onClick:()=>Z("twoFactor",!c.twoFactor),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.twoFactor?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.twoFactor?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Biometric Login"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Use fingerprint or face ID"})]}),e.jsx("button",{onClick:()=>Z("biometric",!c.biometric),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.biometric?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.biometric?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Auto Logout (minutes)"}),e.jsxs("select",{value:c.autoLogout,onChange:s=>Z("autoLogout",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:15,children:"15 minutes"}),e.jsx("option",{value:30,children:"30 minutes"}),e.jsx("option",{value:60,children:"1 hour"}),e.jsx("option",{value:120,children:"2 hours"})]})]})]})]}),e.jsxs(C,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Trading Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Leverage"}),e.jsxs("select",{value:m.defaultLeverage,onChange:s=>V("defaultLeverage",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:1,children:"1x"}),e.jsx("option",{value:2,children:"2x"}),e.jsx("option",{value:3,children:"3x"}),e.jsx("option",{value:5,children:"5x"}),e.jsx("option",{value:10,children:"10x"}),e.jsx("option",{value:20,children:"20x"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Risk Level"}),e.jsxs("select",{value:m.riskLevel,onChange:s=>V("riskLevel",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"low",children:"Low Risk"}),e.jsx("option",{value:"medium",children:"Medium Risk"}),e.jsx("option",{value:"high",children:"High Risk"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Auto Rebalance"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Automatically rebalance portfolio"})]}),e.jsx("button",{onClick:()=>V("autoRebalance",!m.autoRebalance),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${m.autoRebalance?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${m.autoRebalance?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Stop Loss (%)"}),e.jsx("input",{type:"number",value:m.stopLoss,onChange:s=>V("stopLoss",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",max:"20",step:"0.5"})]})]})]}),e.jsxs(C,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Appearance"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Theme"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:()=>_("theme","light"),className:`flex flex-col items-center justify-center px-4 py-3 rounded-lg border-2 transition-all ${b.theme==="light"?"border-blue-600 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-200":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[e.jsx("i",{className:"ri-sun-line text-2xl mb-1"}),e.jsx("span",{className:"font-medium text-sm",children:"Light"})]}),e.jsxs("button",{onClick:()=>_("theme","dark"),className:`flex flex-col items-center justify-center px-4 py-3 rounded-lg border-2 transition-all ${b.theme==="dark"?"border-blue-600 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-200":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[e.jsx("i",{className:"ri-moon-line text-2xl mb-1"}),e.jsx("span",{className:"font-medium text-sm",children:"Dark"})]}),e.jsxs("button",{onClick:()=>_("theme","blue"),className:`flex flex-col items-center justify-center px-4 py-3 rounded-lg border-2 transition-all ${b.theme==="blue"?"border-blue-600 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-200":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[e.jsx("i",{className:"ri-drop-line text-2xl mb-1"}),e.jsx("span",{className:"font-medium text-sm",children:"Blue"})]}),e.jsxs("button",{onClick:()=>_("theme","green"),className:`flex flex-col items-center justify-center px-4 py-3 rounded-lg border-2 transition-all ${b.theme==="green"?"border-green-600 bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-200":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[e.jsx("i",{className:"ri-leaf-line text-2xl mb-1"}),e.jsx("span",{className:"font-medium text-sm",children:"Green"})]}),e.jsxs("button",{onClick:()=>_("theme","purple"),className:`flex flex-col items-center justify-center px-4 py-3 rounded-lg border-2 transition-all ${b.theme==="purple"?"border-purple-600 bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-200":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[e.jsx("i",{className:"ri-magic-line text-2xl mb-1"}),e.jsx("span",{className:"font-medium text-sm",children:"Purple"})]}),e.jsxs("button",{onClick:()=>_("theme","orange"),className:`flex flex-col items-center justify-center px-4 py-3 rounded-lg border-2 transition-all ${b.theme==="orange"?"border-orange-600 bg-orange-50 dark:bg-orange-900/30 text-orange-700 dark:text-orange-200":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[e.jsx("i",{className:"ri-fire-line text-2xl mb-1"}),e.jsx("span",{className:"font-medium text-sm",children:"Orange"})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300 mt-2",children:["Current theme: ",e.jsx("strong",{className:"capitalize",children:b.theme})," mode"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Currency"}),e.jsxs("select",{value:b.currency,onChange:s=>_("currency",s.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"USD",children:"ðŸ‡ºðŸ‡¸ USD ($)"}),e.jsx("option",{value:"EUR",children:"ðŸ‡ªðŸ‡º EUR (â‚¬)"}),e.jsx("option",{value:"GBP",children:"ðŸ‡¬ðŸ‡§ GBP (Â£)"}),e.jsx("option",{value:"JPY",children:"ðŸ‡¯ðŸ‡µ JPY (Â¥)"}),e.jsx("option",{value:"CNY",children:"ðŸ‡¨ðŸ‡³ CNY (Â¥)"}),e.jsx("option",{value:"KRW",children:"ðŸ‡°ðŸ‡· KRW (â‚©)"}),e.jsx("option",{value:"AUD",children:"ðŸ‡¦ðŸ‡º AUD ($)"}),e.jsx("option",{value:"CAD",children:"ðŸ‡¨ðŸ‡¦ CAD ($)"}),e.jsx("option",{value:"CHF",children:"ðŸ‡¨ðŸ‡­ CHF (Fr)"}),e.jsx("option",{value:"BTC",children:"â‚¿ Bitcoin (BTC)"}),e.jsx("option",{value:"ETH",children:"Îž Ethereum (ETH)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Language"}),e.jsxs("select",{value:b.language,onChange:s=>_("language",s.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"English",children:"ðŸ‡ºðŸ‡¸ English"}),e.jsx("option",{value:"Spanish",children:"ðŸ‡ªðŸ‡¸ EspaÃ±ol"}),e.jsx("option",{value:"French",children:"ðŸ‡«ðŸ‡· FranÃ§ais"}),e.jsx("option",{value:"German",children:"ðŸ‡©ðŸ‡ª Deutsch"}),e.jsx("option",{value:"Chinese",children:"ðŸ‡¨ðŸ‡³ ä¸­æ–‡"}),e.jsx("option",{value:"Japanese",children:"ðŸ‡¯ðŸ‡µ æ—¥æœ¬èªž"}),e.jsx("option",{value:"Korean",children:"ðŸ‡°ðŸ‡· í•œêµ­ì–´"}),e.jsx("option",{value:"Russian",children:"ðŸ‡·ðŸ‡º Ð ÑƒÑÑÐºÐ¸Ð¹"}),e.jsx("option",{value:"Portuguese",children:"ðŸ‡µðŸ‡¹ PortuguÃªs"}),e.jsx("option",{value:"Italian",children:"ðŸ‡®ðŸ‡¹ Italiano"})]})]}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[e.jsx("strong",{children:"ðŸ’¡ Note:"})," Theme and currency changes apply immediately. Language changes will refresh the page to apply translations."]})})]})]}),e.jsxs(C,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(E,{variant:"secondary",className:"w-full justify-start",children:[e.jsx("i",{className:"ri-download-line mr-2"}),"Export Data"]}),e.jsxs(E,{variant:"secondary",className:"w-full justify-start",children:[e.jsx("i",{className:"ri-refresh-line mr-2"}),"Reset Settings"]}),e.jsxs("button",{onClick:ve,className:"inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-red-600 hover:bg-red-700 text-white focus:ring-red-500 px-4 py-2 text-sm w-full justify-start",children:[e.jsx("i",{className:"ri-logout-box-line mr-2"}),"Sign Out"]})]})]}),e.jsx($e,{}),e.jsx(Te,{}),e.jsxs(C,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"App Information"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Version"}),e.jsx("span",{className:"text-gray-900",children:"1.2.3"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Build"}),e.jsx("span",{className:"text-gray-900",children:"2024.01.15"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"API Status"}),e.jsxs("span",{className:"text-green-600 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Connected"]})]}),e.jsxs(E,{variant:"secondary",className:"w-full justify-start mt-4",children:[e.jsx("i",{className:"ri-question-line mr-2"}),"Help & Support"]})]})]})]}),G&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"API Configuration"}),e.jsx("button",{onClick:()=>R(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl text-gray-500"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx("i",{className:"ri-currency-line text-orange-600 mr-2"}),"Bybit API"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),e.jsx("input",{type:"password",value:i.bybitApiKey,onChange:s=>S("bybitApiKey",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter Bybit API Key"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Secret"}),e.jsx("input",{type:"password",value:i.bybitApiSecret,onChange:s=>S("bybitApiSecret",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter Bybit API Secret"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Use Testnet"}),e.jsx("button",{onClick:()=>S("bybitTestnet",!i.bybitTestnet),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${i.bybitTestnet?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${i.bybitTestnet?"translate-x-6":"translate-x-1"}`})})]}),e.jsx("button",{onClick:()=>ee("bybit"),className:"w-full bg-orange-100 hover:bg-orange-200 text-orange-700 py-2 px-4 rounded-lg transition-colors text-sm",children:"Test Connection"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx("i",{className:"ri-exchange-line text-blue-600 mr-2"}),"OKX API"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),e.jsx("input",{type:"password",value:i.okxApiKey,onChange:s=>S("okxApiKey",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter OKX API Key"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Secret"}),e.jsx("input",{type:"password",value:i.okxApiSecret,onChange:s=>S("okxApiSecret",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter OKX API Secret"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Passphrase"}),e.jsx("input",{type:"password",value:i.okxPassphrase,onChange:s=>S("okxPassphrase",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter OKX Passphrase"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Use Testnet"}),e.jsx("button",{onClick:()=>S("okxTestnet",!i.okxTestnet),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${i.okxTestnet?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${i.okxTestnet?"translate-x-6":"translate-x-1"}`})})]}),e.jsx("button",{onClick:()=>ee("okx"),className:"w-full bg-blue-100 hover:bg-blue-200 text-blue-700 py-2 px-4 rounded-lg transition-colors text-sm",children:"Test Connection"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx("i",{className:"ri-exchange-line text-green-600 mr-2"}),"Bitunix API"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),e.jsx("input",{type:"password",value:i.bitunixApiKey,onChange:s=>S("bitunixApiKey",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter Bitunix API Key"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Secret"}),e.jsx("input",{type:"password",value:i.bitunixApiSecret,onChange:s=>S("bitunixApiSecret",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter Bitunix API Secret"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Use Testnet"}),e.jsx("button",{onClick:()=>S("bitunixTestnet",!i.bitunixTestnet),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${i.bitunixTestnet?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${i.bitunixTestnet?"translate-x-6":"translate-x-1"}`})})]}),e.jsx("button",{onClick:()=>ee("bitunix"),className:"w-full bg-green-100 hover:bg-green-200 text-green-700 py-2 px-4 rounded-lg transition-colors text-sm",children:"Test Connection"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx("i",{className:"ri-webhook-line text-purple-600 mr-2"}),"Webhook Settings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Webhook URL"}),e.jsx("input",{type:"url",value:i.webhookUrl,onChange:s=>S("webhookUrl",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"https://your-webhook-url.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Webhook Secret"}),e.jsx("input",{type:"password",value:i.webhookSecret,onChange:s=>S("webhookSecret",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter webhook secret"})]})]})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx(E,{variant:"secondary",onClick:()=>R(!1),className:"flex-1",children:"Cancel"}),e.jsx(E,{variant:"primary",onClick:ye,className:"flex-1",children:"Save Settings"})]})]})})}),ce&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI API Configuration"}),e.jsx("button",{onClick:()=>F(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl text-gray-500"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx("i",{className:"ri-openai-fill text-green-600 mr-2 text-xl"}),"OpenAI API"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),e.jsx("input",{type:"password",value:U.openaiApiKey,onChange:s=>ae("openaiApiKey",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:u.isProviderAvailable("openai")?"Enter new key to update":"Enter OpenAI API Key"}),u.isProviderAvailable("openai")&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Current: ",u.getApiKeys().openai]})]}),e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("strong",{children:"ðŸ’¡ Note:"})," Get your API key from"," ",e.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"OpenAI Platform"})]})})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx("i",{className:"ri-brain-line text-blue-600 mr-2"}),"DeepSeek API"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),e.jsx("input",{type:"password",value:U.deepseekApiKey,onChange:s=>ae("deepseekApiKey",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:u.isProviderAvailable("deepseek")?"Enter new key to update":"Enter DeepSeek API Key"}),u.isProviderAvailable("deepseek")&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Current: ",u.getApiKeys().deepseek]})]}),e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("strong",{children:"ðŸ’¡ Note:"})," Get your API key from"," ",e.jsx("a",{href:"https://platform.deepseek.com/api_keys",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"DeepSeek Platform"})]})})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:ke,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors text-sm font-medium",children:"Save API Keys"}),e.jsx("button",{onClick:()=>F(!1),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-lg transition-colors text-sm font-medium",children:"Cancel"})]})})]})]})})}),ge&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Risk Management"}),e.jsx("button",{onClick:()=>W(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl text-gray-500"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Daily Limits"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Daily Loss ($)"}),e.jsx("input",{type:"number",value:w.maxDailyLoss,onChange:s=>K("maxDailyLoss",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"50",max:"10000",step:"50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Position Size ($)"}),e.jsx("input",{type:"number",value:w.maxPositionSize,onChange:s=>K("maxPositionSize",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"100",max:"50000",step:"100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Open Positions"}),e.jsx("input",{type:"number",value:w.maxOpenPositions,onChange:s=>K("maxOpenPositions",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"1",max:"20",step:"1"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Risk Percentages"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stop Loss Percentage (%)"}),e.jsx("input",{type:"number",value:w.stopLossPercentage,onChange:s=>K("stopLossPercentage",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"1",max:"20",step:"0.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Take Profit Percentage (%)"}),e.jsx("input",{type:"number",value:w.takeProfitPercentage,onChange:s=>K("takeProfitPercentage",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"1",max:"50",step:"0.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Risk Per Trade (%)"}),e.jsx("input",{type:"number",value:w.riskPerTrade,onChange:s=>K("riskPerTrade",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"0.5",max:"10",step:"0.1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Stop Loss (%)"}),e.jsx("input",{type:"number",value:w.emergencyStopLoss,onChange:s=>K("emergencyStopLoss",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"10",max:"50",step:"1"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Automatic Controls"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Auto Stop Trading"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Stop all bots when daily loss limit is reached"})]}),e.jsx("button",{onClick:()=>K("autoStopTrading",!w.autoStopTrading),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${w.autoStopTrading?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${w.autoStopTrading?"translate-x-6":"translate-x-1"}`})})]})})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx(E,{variant:"secondary",onClick:()=>W(!1),className:"flex-1",children:"Cancel"}),e.jsx(E,{variant:"primary",onClick:we,className:"flex-1",children:"Save Settings"})]})]})})}),ue&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Alert Configuration"}),e.jsx("button",{onClick:()=>J(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl text-gray-500"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Trading Alerts"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"New Trade Alerts"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Notify when bots open new positions"})]}),e.jsx("button",{onClick:()=>j("newTradeAlert",!l.newTradeAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.newTradeAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.newTradeAlert?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Close Position Alerts"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Notify when positions are closed"})]}),e.jsx("button",{onClick:()=>j("closePositionAlert",!l.closePositionAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.closePositionAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.closePositionAlert?"translate-x-6":"translate-x-1"}`})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"P&L Alerts"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Profit Alerts"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Notify for profitable trades"})]}),e.jsx("button",{onClick:()=>j("profitAlert",!l.profitAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.profitAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.profitAlert?"translate-x-6":"translate-x-1"}`})})]}),l.profitAlert&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profit Threshold (%)"}),e.jsx("input",{type:"number",value:l.profitThreshold,onChange:s=>j("profitThreshold",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"1",max:"50",step:"0.5"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Loss Alerts"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Notify for losing trades"})]}),e.jsx("button",{onClick:()=>j("lossAlert",!l.lossAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.lossAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.lossAlert?"translate-x-6":"translate-x-1"}`})})]}),l.lossAlert&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loss Threshold (%)"}),e.jsx("input",{type:"number",value:l.lossThreshold,onChange:s=>j("lossThreshold",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"1",max:"20",step:"0.5"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Risk Alerts"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Low Balance Alert"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Warning when balance is low"})]}),e.jsx("button",{onClick:()=>j("lowBalanceAlert",!l.lowBalanceAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.lowBalanceAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.lowBalanceAlert?"translate-x-6":"translate-x-1"}`})})]}),l.lowBalanceAlert&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Low Balance Threshold ($)"}),e.jsx("input",{type:"number",value:l.lowBalanceThreshold,onChange:s=>j("lowBalanceThreshold",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"10",max:"1000",step:"10"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Liquidation Risk Alert"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Alert when positions are at risk"})]}),e.jsx("button",{onClick:()=>j("liquidationAlert",!l.liquidationAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.liquidationAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.liquidationAlert?"translate-x-6":"translate-x-1"}`})})]}),l.liquidationAlert&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Liquidation Threshold (%)"}),e.jsx("input",{type:"number",value:l.liquidationThreshold,onChange:s=>j("liquidationThreshold",parseFloat(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"50",max:"95",step:"5"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"P&L Reports"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Daily P&L Report"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Daily profit/loss summary"})]}),e.jsx("button",{onClick:()=>j("dailyPnlAlert",!l.dailyPnlAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.dailyPnlAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.dailyPnlAlert?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Weekly P&L Report"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Weekly profit/loss summary"})]}),e.jsx("button",{onClick:()=>j("weeklyPnlAlert",!l.weeklyPnlAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.weeklyPnlAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.weeklyPnlAlert?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Monthly P&L Report"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Monthly profit/loss summary"})]}),e.jsx("button",{onClick:()=>j("monthlyPnlAlert",!l.monthlyPnlAlert),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.monthlyPnlAlert?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.monthlyPnlAlert?"translate-x-6":"translate-x-1"}`})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Notification Channels"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email Alerts"}),e.jsx("button",{onClick:()=>j("emailAlerts",!l.emailAlerts),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.emailAlerts?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.emailAlerts?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Push Notifications"}),e.jsx("button",{onClick:()=>j("pushAlerts",!l.pushAlerts),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.pushAlerts?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.pushAlerts?"translate-x-6":"translate-x-1"}`})})]})]})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx(E,{variant:"secondary",onClick:()=>J(!1),className:"flex-1",children:"Cancel"}),e.jsx(E,{variant:"primary",onClick:je,className:"flex-1",children:"Save Settings"})]})]})})}),me&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Profile"}),e.jsx("button",{onClick:()=>q(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl text-gray-500"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-200",children:H?e.jsx("img",{src:H,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("i",{className:"ri-user-line text-2xl text-gray-400"})})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:be,className:"hidden",id:"profile-picture"}),e.jsxs("label",{htmlFor:"profile-picture",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 cursor-pointer transition-colors",children:[e.jsx("i",{className:"ri-upload-line mr-2"}),"Upload Photo"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG up to 5MB"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:k.name,onChange:s=>X("name",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:k.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500",placeholder:"Email cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),e.jsx("textarea",{value:k.bio||"",onChange:s=>X("bio",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tell us about yourself",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e.jsx("input",{type:"text",value:k.location||"",onChange:s=>X("location",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"City, Country"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),e.jsx("input",{type:"url",value:k.website||"",onChange:s=>X("website",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://yourwebsite.com"})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx(E,{variant:"secondary",onClick:()=>q(!1),className:"flex-1",children:"Cancel"}),e.jsx(E,{variant:"primary",onClick:fe,className:"flex-1",disabled:Q,children:Q?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Saving..."]}):"Save Changes"})]})]})})}),e.jsx(Se,{})]})}export{Me as default};
