import{a as y,r as c,j as e}from"./index-7db8efba.js";import{H as u}from"./Header-51f5643b.js";import{N as b}from"./Navigation-03d82daa.js";import{C as r}from"./Card-5e232337.js";import{B as v}from"./Button-9007c314.js";function D(){y();const[o,h]=c.useState("daily"),[x,g]=c.useState("7d"),[a]=c.useState([{date:"2024-01-15",profit:245.5,loss:-89.2,netPnL:156.3,trades:12,winRate:75},{date:"2024-01-14",profit:189.75,loss:-156.4,netPnL:33.35,trades:8,winRate:62.5},{date:"2024-01-13",profit:312.8,loss:-45.6,netPnL:267.2,trades:15,winRate:86.7},{date:"2024-01-12",profit:156.9,loss:-234.5,netPnL:-77.6,trades:10,winRate:40},{date:"2024-01-11",profit:445.2,loss:-123.8,netPnL:321.4,trades:18,winRate:83.3},{date:"2024-01-10",profit:198.6,loss:-67.3,netPnL:131.3,trades:9,winRate:77.8},{date:"2024-01-09",profit:289.4,loss:-178.9,netPnL:110.5,trades:14,winRate:64.3}]),[i]=c.useState({maxDrawdown:-12.5,sharpeRatio:1.85,profitFactor:2.34,avgWin:187.5,avgLoss:-125.3,largestWin:445.2,largestLoss:-234.5}),m=a.reduce((s,t)=>s+t.netPnL,0),p=a.reduce((s,t)=>s+t.trades,0),j=a.reduce((s,t)=>s+t.winRate,0)/a.length,N=a.filter(s=>s.netPnL>0).length,f=()=>{const s=[["Date","Profit","Loss","Net P&L","Trades","Win Rate"],...a.map(l=>[l.date,l.profit.toFixed(2),l.loss.toFixed(2),l.netPnL.toFixed(2),l.trades.toString(),`${l.winRate.toFixed(1)}%`])].map(l=>l.join(",")).join(`
`),t=new Blob([s],{type:"text/csv"}),n=window.URL.createObjectURL(t),d=document.createElement("a");d.href=n,d.download=`pnl-report-${x}.csv`,d.click(),window.URL.revokeObjectURL(n)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(u,{title:"P&L Reports"}),e.jsxs("div",{className:"pt-20 pb-20 px-4 space-y-6",children:[e.jsxs(r,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Report Period"}),e.jsxs(v,{variant:"secondary",onClick:f,className:"text-sm",children:[e.jsx("i",{className:"ri-download-line mr-2"}),"Export"]})]}),e.jsx("div",{className:"flex space-x-2 mb-4",children:[{key:"7d",label:"7 Days"},{key:"30d",label:"30 Days"},{key:"90d",label:"90 Days"},{key:"1y",label:"1 Year"}].map(({key:s,label:t})=>e.jsx("button",{onClick:()=>g(s),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${x===s?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t},s))}),e.jsx("div",{className:"flex space-x-2",children:[{key:"daily",label:"Daily",icon:"ri-calendar-line"},{key:"weekly",label:"Weekly",icon:"ri-calendar-week-line"},{key:"monthly",label:"Monthly",icon:"ri-calendar-month-line"}].map(({key:s,label:t,icon:n})=>e.jsxs("button",{onClick:()=>h(s),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors ${o===s?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("i",{className:`${n} mr-2`}),t]},s))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-arrow-up-line text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total P&L"}),e.jsxs("p",{className:`text-lg font-semibold ${m>=0?"text-green-600":"text-red-600"}`,children:["$",m.toFixed(2)]})]})]})}),e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-exchange-line text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Trades"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:p})]})]})}),e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-percent-line text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Avg Win Rate"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[j.toFixed(1),"%"]})]})]})}),e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-calendar-check-line text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Profitable Days"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[N,"/",a.length]})]})]})})]}),e.jsxs(r,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Risk Metrics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Max Drawdown"}),e.jsxs("span",{className:"text-sm font-medium text-red-600",children:[i.maxDrawdown,"%"]})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Sharpe Ratio"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:i.sharpeRatio})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Profit Factor"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:i.profitFactor})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Avg Win"}),e.jsxs("span",{className:"text-sm font-medium text-green-600",children:["$",i.avgWin]})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Avg Loss"}),e.jsxs("span",{className:"text-sm font-medium text-red-600",children:["$",i.avgLoss]})]})}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Largest Win"}),e.jsxs("span",{className:"text-sm font-medium text-green-600",children:["$",i.largestWin]})]})})]})]}),e.jsxs(r,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Daily P&L Breakdown"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-600",children:"Date"}),e.jsx("th",{className:"text-right py-3 px-2 text-sm font-medium text-gray-600",children:"Profit"}),e.jsx("th",{className:"text-right py-3 px-2 text-sm font-medium text-gray-600",children:"Loss"}),e.jsx("th",{className:"text-right py-3 px-2 text-sm font-medium text-gray-600",children:"Net P&L"}),e.jsx("th",{className:"text-right py-3 px-2 text-sm font-medium text-gray-600",children:"Trades"}),e.jsx("th",{className:"text-right py-3 px-2 text-sm font-medium text-gray-600",children:"Win Rate"})]})}),e.jsx("tbody",{children:a.map((s,t)=>e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 px-2 text-sm text-gray-900",children:new Date(s.date).toLocaleDateString()}),e.jsxs("td",{className:"py-3 px-2 text-sm text-right text-green-600",children:["+$",s.profit.toFixed(2)]}),e.jsxs("td",{className:"py-3 px-2 text-sm text-right text-red-600",children:["$",s.loss.toFixed(2)]}),e.jsxs("td",{className:`py-3 px-2 text-sm text-right font-medium ${s.netPnL>=0?"text-green-600":"text-red-600"}`,children:[s.netPnL>=0?"+":"","$",s.netPnL.toFixed(2)]}),e.jsx("td",{className:"py-3 px-2 text-sm text-right text-gray-900",children:s.trades}),e.jsx("td",{className:"py-3 px-2 text-sm text-right",children:e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${s.winRate>=70?"bg-green-100 text-green-800":s.winRate>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[s.winRate.toFixed(1),"%"]})})]},t))})]})})]}),e.jsxs(r,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Loss Analysis"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("i",{className:"ri-error-warning-line text-red-600"}),e.jsx("h4",{className:"font-medium text-red-900",children:"Largest Loss Day"})]}),e.jsx("p",{className:"text-sm text-red-700",children:"January 12, 2024: -$77.60 (10 trades, 40% win rate)"}),e.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Recommendation: Review bot parameters and market conditions"})]}),e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("i",{className:"ri-alert-line text-orange-600"}),e.jsx("h4",{className:"font-medium text-orange-900",children:"Risk Factors"})]}),e.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[e.jsx("li",{children:"• High volatility periods: 2 days"}),e.jsx("li",{children:"• Low win rate days (<50%): 1 day"}),e.jsx("li",{children:"• Consecutive loss days: 0"})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("i",{className:"ri-lightbulb-line text-blue-600"}),e.jsx("h4",{className:"font-medium text-blue-900",children:"Recommendations"})]}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• Consider reducing position size during high volatility"}),e.jsx("li",{children:"• Implement stricter stop-loss rules"}),e.jsx("li",{children:"• Review bot performance during specific market hours"})]})]})]})]})]}),e.jsx(b,{})]})}export{D as default};
